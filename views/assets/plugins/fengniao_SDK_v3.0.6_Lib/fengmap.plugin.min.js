!function(A,g){"object"==typeof exports&&"object"==typeof module?module.exports=g():"function"==typeof define&&define.amd?define([],g):"object"==typeof exports?exports.fengmap=g():A.fengmap=g()}(this,function(){return I=[function(A,g,I){"use strict";I.r(g);var c={LEFT_TOP:1,LEFT_BOTTOM:2,RIGHT_TOP:3,RIGHT_BOTTOM:4};function t(A,g){for(var I=0;I<g.length;I++){var C=g[I];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(A,C.key,C)}}var C=function(){function g(A){!function(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}(this,g),A=A||{},this.A=null,this.g=A,this.I=null,this.C=null,void 0===this.g.backgroundImageSize&&(this.g.backgroundImageSize=50),void 0===this.g.pointerImageSize&&(this.g.pointerImageSize=50),this.e=Math.floor((this.g.backgroundImageSize-this.g.pointerImageSize)/2),this.h=Math.floor((this.g.backgroundImageSize-this.g.pointerImageSize)/2),this.g.backgroundImageURL||(this.g.backgroundImageURL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAA4KGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoTWFjaW50b3NoKTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8eG1wOkNyZWF0ZURhdGU+MjAxOC0wMy0wNVQxMTo0ODoyMCswODowMDwveG1wOkNyZWF0ZURhdGU+CiAgICAgICAgIDx4bXA6TW9kaWZ5RGF0ZT4yMDE4LTAzLTA1VDExOjU3OjA1KzA4OjAwPC94bXA6TW9kaWZ5RGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxOC0wMy0wNVQxMTo1NzowNSswODowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9wbmc8L2RjOmZvcm1hdD4KICAgICAgICAgPHBob3Rvc2hvcDpDb2xvck1vZGU+MzwvcGhvdG9zaG9wOkNvbG9yTW9kZT4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDphZDgzZDBiZi1jODAyLTQwOTMtYjQ4Mi02YTVkYTMxYmE2Njk8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx4bXBNTTpEb2N1bWVudElEPnhtcC5kaWQ6YWQ4M2QwYmYtYzgwMi00MDkzLWI0ODItNmE1ZGEzMWJhNjY5PC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06T3JpZ2luYWxEb2N1bWVudElEPnhtcC5kaWQ6YWQ4M2QwYmYtYzgwMi00MDkzLWI0ODItNmE1ZGEzMWJhNjY5PC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOmFkODNkMGJmLWM4MDItNDA5My1iNDgyLTZhNWRhMzFiYTY2OTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxOC0wMy0wNVQxMTo0ODoyMCswODowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgIDwveG1wTU06SGlzdG9yeT4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+NjU1MzU8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjY0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjY0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz5neOjPAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAYbSURBVHja5JvdbxxXGYefMx9nZrK7tmexlZ60KqCqatRWVIXAVcVtBf8ARUVUNFiWDWmill4UrlEuUFHahFptSKVCJfIXUK5Rr0hAKlKroBaBKuqTyK537d3Nzp6Z2cNFZqmxHGdtx8565yft1Z6Z3d8z7/mc9xVLS0vsRkqpodpprSeBbwNfAx4BjgMKiIFK0awDNIEl4BrwD+DvwJ+VUmvso8R+ANBaPwT8APiOEOKbUsqu53k9z/OM53nGdd3McZy+EKIPYK11+v2+k+e5l2WZLD6BMSay1l4B3gPeVUr9c2QBaK1d4Blg3nXdb4VhuB6GYUdKmezlDxpjwiRJKkmSTOR5/hdgEbislMpHAkBh/DTwahiGrSNHjjSDIOjuR7j2er3o5s2bU0mS1ICXgNf2CmJPALTWPwYuRlG0Vq1WVz3PSzkAZVnmt9vterfbnQRmlVK/PWgAjwILvu+fnJiYuCGl7HEPZIwJ1tfXj6Zpegl4Qyn10UEAWBBCXKhWq8vVarXJCKjdbk+12+0Za+1PlVJv7CeAs67rvhjHsfZ9v8cIKU3ToNFoqDzPX1VK/XzY65wd/MY5KeUL09PTn46aeQDf93vT09OfSilPa63P3W0A54MgeL5er3/mOE6fEZXjOP16vf5ZEATPa63P3y0A54IgeK5er2shhGXEJYSw9XpdB0Hw3DCRcCcAZ6WUs3EcX+eQKY7j61LKWa312d0CWCgGvKXD8OS3ioQ4jpdc131Ra72wUwCPCyEuxHGsR7nPDzMmxHGshRAXtNaP7QTAfK1WWx7F0X43s0OtVlsG5ocFsOD7/o8qlUqTMVGlUmn6vn9Saz17p4WQB5hRnev3ulBaWVn5MuBt3EBtjoDTURStj5v5QVeIomit2LluGQEeYGZmZv59ULu6g1aWZf7y8vJXAKmUyjZHwLNhGLbG1TyA53lpGIZt4NmtusD8OA182wyIjY0zwgDAo57nPbnX46vDICll4nnek4N1wQDAM2EYtiiJCq/f2wjg6SAIOmUBUHh9egBgSghxogzhv7EbCCFOaK2nHOApKWWXkqnw/JQDPOF5Xq9sAArPTzjAcc/zTAkBGOC4AzxcYgAPO8ADrutmZQNQeH7AASYO86HHXg5LgEkHqA3e0pZJheeqQ0llrRWAcYCWtdYpIQAHaDnAer/fLx2AwnPLAf6T57lXQgAucMMBPs6yTJYNQOH5Ywe4VmIA1xzggyzLghICCIAPHOB9Y0xUNgCF5/cdoGmtvWqMCUtkPrTWXlVKNQfT33u9Xq9SFgCF1z/BF0di73a73YmyACi8/n4jgE/yPL9ShrHAGBPleX5FKfXJRgAAi51OZ3LcARQeF/+3K9zw3eUkSWpZlvljPPX5RZbp5a0AZMDL7Xa7Pq4ACm8/G7wX3AwA4Fy3251M03TsFkZpmgZFau1r/3cwsqldDsytra0dHTcAhae5zcnVW22D30rT9FKn05kao9CfStP0klLqrc3f3e4cYLHVas2kaSrHIfTb7fYMsGUO8e0AfGitfaHRaBw7zIcl/X7faTQax6y1c7fLJN/O3IU8z39d3EAcNvPWWtFoNI4VydMXb9fuTk/3FWPMxWazed9hA9BsNu8zxlxUSr2yXbthwvtMkiTvNBoNdRgioXjyKkmSd5RSZ+7Uftj+fSpJkrdXV1fvH+Uxod/vO6urq/cnSfK2UurUMNfsxMwZY8zrKysrD47i7JCmqVxZWXnQGPP6ME9+oN2UzPxECHG+Vqstj0pSVafTmWq1WjPW2lNKqd/s5NrdFk09Bsz7vn9ycnLyxr1KrEzTNFhbWxsUTS0qpT7c6T32WjY3C7wZRdF6rVb7/KDeMud57rVarS8VBxtz201z+woAQGvtAS8DvwzDsFWpVJr7lW9kjAk7nc6gcPIXwK827uzuCYCBtNYS+D4w57ruiSiK1oMguCuls71er9LtdifyPL8KvAn8QSl1V5I69rN4+ofAd4UQX5dS3vR9v1cUTqfbFU/nee5nWSbTNA2MMUestX8D/gj8bqSLp7eBMcWt8vlvcKvi9KvAUbYun78O/Av4CPgrt8rn93Wm+e8A7iLzS6p6CJoAAAAASUVORK5CYII="),this.g.pointerImageURL||(this.g.pointerImageURL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAA7bGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMwNjcgNzkuMTU3NzQ3LCAyMDE1LzAzLzMwLTIzOjQwOjQyICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgICAgICAgICB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE4LTAzLTA1VDExOjQ4OjExKzA4OjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMjAtMTEtMTNUMTQ6NDA6NDUrMDg6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8eG1wOk1ldGFkYXRhRGF0ZT4yMDIwLTExLTEzVDE0OjQwOjQ1KzA4OjAwPC94bXA6TWV0YWRhdGFEYXRlPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOmUwOTZhNjVlLTU4ZTQtODU0Yy1iNTk0LWM5NzUzNmYwM2E1YjwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+YWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjI4NDRhNDYzLTI1N2ItMTFlYi05YjE4LWFjZDEzNGM4YThlODwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkRlcml2ZWRGcm9tIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgPHN0UmVmOmluc3RhbmNlSUQ+eG1wLmlpZDozRkM2NUZGNUEzQ0MxMUU2QjhGOTlFMTYyOEIzMUI4MDwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDozRkM2NUZGNkEzQ0MxMUU2QjhGOTlFMTYyOEIzMUI4MDwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjg3NzZBMTkxQTNEMDExRTZCOEY5OUUxNjI4QjMxQjgwPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDoyMDk3MmQ4Ni1lZDBmLTQyZDAtOTZiMS0xOWE0ZDUzN2YxZWQ8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTgtMDMtMDVUMTE6NTE6MjgrMDg6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE3IChNYWNpbnRvc2gpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDplMDk2YTY1ZS01OGU0LTg1NGMtYjU5NC1jOTc1MzZmMDNhNWI8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMjAtMTEtMTNUMTQ6NDA6NDUrMDg6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8cGhvdG9zaG9wOkNvbG9yTW9kZT4zPC9waG90b3Nob3A6Q29sb3JNb2RlPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpYUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WFJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOllSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICAgICAgICAgPGV4aWY6Q29sb3JTcGFjZT42NTUzNTwvZXhpZjpDb2xvclNwYWNlPgogICAgICAgICA8ZXhpZjpQaXhlbFhEaW1lbnNpb24+NjQ8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+NjQ8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/Pq677moAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAYFJREFUeNrsmztOw0AQhj+jFJScg4pDIHEKDgFHgBwkEQU4CTXiHIGAqdK6IiWNvTSWkKIQO469L/9TWbszI+ubf/ZhyYkxhiHbCQM3ARAAARAAARAAARAAARiqjfpKfPXwU+eyfQlJ9jm/Xp9KATEBMA3HtAbECMC0nJMCYgBgOvKRAkIEYHrylQJCAGAsxUgBPgIwjmKlAB8AGE9ySAEuABhPc0kBAiAAf9bbN8HJ5fcGOKvzy/O8SboNXASngLWnuawBePE0lzUAE6DoIE8BTEME8AU8dpDnCchC3QXGR6qgAO5D3gYzID0iPu2z+rbOAXdA2SKu7Lv6tgBkVR+36f3PWE6C4wNVUFYx0RyFPw5cC9IqJqq7QFMVWOl9FwBWwKyB38xW9V3cButUYK33XQF4B+Z75ueVT9TfA/5TgdXedwngDVjsGF/Yrr4rALtUYL33XQNYAs9b1V+6eJER7uwGOK+eb129RKJ/hgZuAiAAAiAAAiAAAiAAAjBU+x0Ac4ZVr2BJd94AAAAASUVORK5CYII=")}var A,I,C;return A=g,(I=[{key:"addTo",value:function(A){this.A=A,this.a()}},{key:"remove",value:function(){this.g.contain.removeChild(this.C)}},{key:"on",value:function(A,g){this.C.onclick=function(){g&&g()},this.C.addEventListener("touchend",function(){g&&g()},!1)}},{key:"checkPosition",value:function(A,g,I){switch(I.style.left="",I.style.right="",I.style.top="",I.style.bottom="",A){case c.LEFT_TOP:I.style.left=(g=g||{x:10,y:10}).x+"px",I.style.top=g.y+"px";break;case c.RIGHT_TOP:I.style.right=-(g=g||{x:-10,y:10}).x+"px",I.style.top=g.y+"px";break;case c.LEFT_BOTTOM:I.style.left=(g=g||{x:10,y:-10}).x+"px",I.style.bottom=-g.y+"px";break;case c.RIGHT_BOTTOM:I.style.right=-(g=g||{x:-10,y:-10}).x+"px",I.style.bottom=-g.y+"px";break;default:I.style.left=(g=g||{x:10,y:10}).x+"px",I.style.top=g.y+"px"}}}])&&t(A.prototype,I),C&&t(A,C),g}();Object.assign(C.prototype,{a:function(){var A=this,g=document.createElement("div");g.style.cssText="position:absolute;left:10px;top:10px;",g.style.width=this.g.backgroundImageSize+"px",g.style.height=this.g.backgroundImageSize+"px",g.style.backgroundColor="#FFFFFF",g.style.backgroundSize="100% 100%",g.style.zIndex=20,g.style.backgroundImage="url('"+this.g.backgroundImageURL+"')",g.style.borderRadius="80px",this.g.position&&this.checkPosition(this.g.position,this.g.offset,g),this.g.contain?this.g.contain.appendChild(g):(this.g.contain=this.A.getContainer(),this.A.getContainer().appendChild(g));var I=-this.A.getRotation();this.I=document.createElement("div"),this.I.style.cssText="position:absolute;left:"+this.e+"px;top:"+this.h+"px;",this.I.style.transform="rotate("+I+"deg)",this.I.style.msTransform="rotate("+I+"deg)",this.I.style.mozTransform="rotate("+I+"deg)",this.I.style.webkitTransform="rotate("+I+"deg)",this.I.style.oTransform="rotate("+I+"deg)",this.I.style.width=this.g.pointerImageSize+"px",this.I.style.height=this.g.pointerImageSize+"px",this.I.style.backgroundSize="100% 100%",this.I.style.backgroundImage="url('"+this.g.pointerImageURL+"')",g.appendChild(this.I),this.C=g,this.A.on("update",function(){A.u()})},u:function(){var A=-this.A.getRotation();this.I.style.transform="rotate("+A+"deg)",this.I.style.msTransform="rotate("+A+"deg)",this.I.style.mozTransform="rotate("+A+"deg)",this.I.style.webkitTransform="rotate("+A+"deg)",this.I.style.oTransform="rotate("+A+"deg)",this.I.style.top=this.e+"px",this.I.style.left=this.h+"px"}});var i=C;function n(A,g){for(var I=0;I<g.length;I++){var C=g[I];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(A,C.key,C)}}var h=function(){function A(){!function(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}(this,A)}var g,I,C;return g=A,C=[{key:"toColor",value:function(A){if("number"==typeof A)return A;var g=A.split(",");return 3<=g.length?parseInt(g[0])<<16|parseInt(g[1])<<8|parseInt(g[2]):(console.error("color format error",A),0)}},{key:"bindEvent",value:function(A,i,g,n){A.addEventListener(g,function(A){var g,I=A||window.event,C=I.target||I.srcElement,t=I.currentTarget;for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(A){for(var g=(this.document||this.ownerDocument).querySelectorAll(A),I=g.length;0<=--I&&g.item(I)!==this;);return-1<I});C!==t;)C.matches(i)&&(g=C,n.call(g,I)),C=C.parentNode})}},{key:"scrollTopAnFun",value:function(){var a,u=!1;return function g(I){var C=I.el,A=I.to,t=I.form,i=(I.time,A<t?"up":"bottom"),n=10,s=(t<A?A-t:A==t?0:t-A)/n,e=0,h=function(A){var g=A.val,I=A.nbak,C=A.n,A=A.elTop;return"up"==i?A+(I-C)*g:A-(I-C)*g};function r(){--a<=0?o():window.setTimeout(function(){!1!==a&&((e=h({val:n,nbak:s,n:a,elTop:A,VDIRECTIONE:i}))&&(C.scrollTop=e),r())},n)}var o=function(){a=u=!1,0==t&&(C.scrollTop=0)};!function(){if(u)return a=0,window.setTimeout(function(){var A=Object(I,{to:C.scrollTop});u=!1,g(A)},n+1);u=!0,a=s,r()}()}}},{key:"sleep",value:function(A){for(var g=(new Date).getTime(),I=0;I<1e7&&!((new Date).getTime()-g>A);I++);}},{key:"getClikEventName",value:function(){return window.PointerEvent?"pointerdown":"click"}}],(I=null)&&n(g.prototype,I),C&&n(g,C),A}(),s={FMMap_CONTROL_SMALL:"small",FMMap_CONTROL_NORMAL:"normal"};var e=function A(g){!function(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}(this,A),this.size=s.FMMap_CONTROL_NORMAL,this.position=c.LEFT_TOP,this.offset={x:10,y:10},this.imgURL="resource/style/wedgets/img/",this.floorButtonCount=5,this.needAllLayerBtn=!0,Object.assign(this,g)};function r(A,g){for(var I=0;I<g.length;I++){var C=g[I];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(A,C.key,C)}}var o=function(){function g(A){!function(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}(this,g),A=A||{},this.A=null,this.f=new e(A),this.f.position||(this.f.position=c.LEFT_TOP),this.v=A.contain,this.f.offset||(this.f.offset={x:10,y:10}),this.M=null,this.b=A.imgURL||"resource/style/wedgets/img/"}var A,I,C;return A=g,(I=[{key:"addTo",value:function(A){this.A=A,this.v||(this.v=this.A.getContainer()),this.init()}},{key:"remove",value:function(){this.v.removeChild(this.M)}},{key:"init",value:function(){var A=this.createPanel();this.M=A;var g=this;this.checkPosition(this.f.position,this.f.offset,A),h.bindEvent(A,"img","mouseover",function(A){this.src=this.dataset.on}),h.bindEvent(A,"img","mouseout",function(A){this.src=this.dataset.leave}),h.bindEvent(A,"div","click",function(A){"in"===this.dataset.type?g.A.zoomIn():g.A.zoomOut()}),h.bindEvent(A,"div","touchend",function(A){"in"===this.dataset.type?g.A.zoomIn():g.A.zoomOut()})}},{key:"showZoom",value:function(A){this.M.style.display=A?"block":"none"}},{key:"createPanel",value:function(){var A=document.createElement("div");A.setAttribute("class","fm-control-zoom"),A.style.zIndex=20,A.style.position="absolute",A.style.backgroundColor="white",A.style.boxShadow="2px 2px 3px rgba(0,0,0, 0.3)",A.style.borderRadius="2px",A.style.left=0,A.style.top=0,this.v.appendChild(A);return A.innerHTML=this.createInnerHtml("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOAgMAAABiJsVCAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEUAAABmZmYAAABV8S+1AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAATSURBVAjXY2DAC0JDQwMgBF4AAFvvAp8tw46tAAAAAElFTkSuQmCC","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAIElEQVQokWNgGAXUB4zGsrL/ydHIwsDAcI/KjhkFZAMA5XkCUOIdNxMAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOAgMAAABiJsVCAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEUAAABmZmYAAABV8S+1AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAXSURBVAjXY2BgZQACXERoaGgAhMCrDgBkQQLbnsbDyQAAAABJRU5ErkJggg==","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAOElEQVQokWM0lpVlwAE+QGkBbJJMuHQRAiNBIwsDA8M7HHJ8UBqrPEU2CuGQg8UjVvkhFKr01wgAH8cEixbYBa8AAAAASUVORK5CYII="),A}},{key:"createInnerHtml",value:function(A,g,I,C){return'\n\n            <div data-type="in" style="padding: 14px; cursor: pointer;">\n            <img src='.concat(I," data-leave=").concat(I," data-on=").concat(C,' style="width: 14px; height: 14px;"/>\n             </div>\n            <hr style="height: 1px; border-top: 1px solid rgba(153, 153, 153, 0.45); border-right: none; border-bottom: none; border-left: none; border-image: initial; width: 60%; margin: 0px 20%;">\n            <div data-type="out" style="padding: 14px; cursor: pointer;">\n            <img src=').concat(A," data-leave=").concat(A," data-on=").concat(g,' style="width: 14px; height: 14px;"/>\n            </div>\n        ')}},{key:"checkPosition",value:function(A,g,I){switch(I.style.left="",I.style.right="",I.style.top="",I.style.bottom="",A){case c.LEFT_TOP:I.style.left=g.x+"px",I.style.top=g.y+"px";break;case c.RIGHT_TOP:I.style.right=-g.x+"px",I.style.top=g.y+"px";break;case c.LEFT_BOTTOM:I.style.left=g.x+"px",I.style.bottom=-g.y+"px";break;case c.RIGHT_BOTTOM:I.style.right=-g.x+"px",I.style.bottom=-g.y+"px"}}}])&&r(A.prototype,I),C&&r(A,C),g}(),a={MODE_3D:2,MODE_2D:4};Object.freeze(a);var l=a;function f(A,g,I){var C=document.createElement("div"),A='\n    <div class="scroll" id="scroll_'.concat(g+I,'"\n      style="\n        height: 18px;\n        background: url(&quot;').concat(A,'&quot;) 50% 50% no-repeat;\n        cursor: pointer;\n        background-color:#FFFFFF;">\n    </div>');return C.innerHTML=A.trim(),C.firstChild}function v(A,g){A&&g?A.appendChild(g):console.error(A,g)}for(var u=[],d=0;d<256;d++)u[d]=(d<16?"0":"")+d.toString(16);var M,p={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var A=4294967295*Math.random()|0,g=4294967295*Math.random()|0,I=4294967295*Math.random()|0,C=4294967295*Math.random()|0;return(u[255&A]+u[A>>8&255]+u[A>>16&255]+u[A>>24&255]+"-"+u[255&g]+u[g>>8&255]+"-"+u[g>>16&15|64]+u[g>>24&255]+"-"+u[63&I|128]+u[I>>8&255]+"-"+u[I>>16&255]+u[I>>24&255]+u[255&C]+u[C>>8&255]+u[C>>16&255]+u[C>>24&255]).toUpperCase()},clamp:function(A,g,I){return Math.max(g,Math.min(I,A))},euclideanModulo:function(A,g){return(A%g+g)%g},mapLinear:function(A,g,I,C,t){return C+(A-g)*(t-C)/(I-g)},lerp:function(A,g,I){return(1-I)*A+I*g},smoothstep:function(A,g,I){return A<=g?0:I<=A?1:(A=(A-g)/(I-g))*A*(3-2*A)},smootherstep:function(A,g,I){return A<=g?0:I<=A?1:(A=(A-g)/(I-g))*A*A*(A*(6*A-15)+10)},randInt:function(A,g){return A+Math.floor(Math.random()*(g-A+1))},randFloat:function(A,g){return A+Math.random()*(g-A)},randFloatSpread:function(A){return A*(.5-Math.random())},degToRad:function(A){return A*p.DEG2RAD},radToDeg:function(A){return A*p.RAD2DEG},isPowerOfTwo:function(A){return 0==(A&A-1)&&0!==A},ceilPowerOfTwo:function(A){return Math.pow(2,Math.ceil(Math.log(A)/Math.LN2))},floorPowerOfTwo:function(A){return Math.pow(2,Math.floor(Math.log(A)/Math.LN2))},setQuaternionFromProperEuler:function(A,g,I,C,t){var i=Math.cos,n=Math.sin,s=i(I/2),e=n(I/2),h=i((g+C)/2),r=n((g+C)/2),o=i((g-C)/2),I=n((g-C)/2),i=i((C-g)/2),g=n((C-g)/2);"XYX"===t?A.set(s*r,e*o,e*I,s*h):"YZY"===t?A.set(e*I,s*r,e*o,s*h):"ZXZ"===t?A.set(e*o,e*I,s*r,s*h):"XZX"===t?A.set(s*r,e*g,e*i,s*h):"YXY"===t?A.set(e*i,s*r,e*g,s*h):"ZYZ"===t?A.set(e*g,e*i,s*r,s*h):console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order.")}};function m(A,g){for(var I=0;I<g.length;I++){var C=g[I];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(A,C.key,C)}}var y=function(){function g(A){!function(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}(this,g),this.v=(A=A||{}).contain,this.R=new e(A),this.T=42,this.k=this.R.floorButtonCount,this.A=null,this.O=null,this.Z=!1,this.S=!0,this.j=10,this.G=null,this.L=null,this.N=[],this.Y=null,this.D=null,this.uuid=null,this.scrollTopAn_=new h.scrollTopAnFun,this.viewModeControl=void 0===A.viewModeControl||A.viewModeControl,this.floorModeControl=void 0===A.floorModeControl||A.floorModeControl,this.F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsSAAALEgHS3X78AAAEdUlEQVR4nO1bvU4bQRCeROkDT4DDCwQJ+oDk1LghLaRhyqSDDtOFzpTjJtDGTaixFPIAlsIDBNlPYHgCoiHfJsuy57tb794Z2Z9k2b69W89+O/PN/vnF/f09zTNe1dF2Zt4kojYRvcOln/pdRK6qtqVSD2DmNSLqWA13oUR8FpFfVdlUCQHM3ECP7xZ85BweMUxsWloCmHlJexSv107xHa4TvMJXrtc7InKbysZkBDDzZ/R6bsMKEKXe0ElhZ3QCmLmFBq54iie6dk6ojKAP32PaG40Aj7LbKCVuOWIZNWNMTUBOr12j4UHGglQl4q2nOIpQBhNgxe2Rp3gE486mMc76rT2Q7Aur42mEMogAuOhVlcpdQCg3Q8YPoQQMPb1xDndPlrLoPxEdT8iNRKRRtr6XAQasZbiixmurbH0BaOG3XKzAtlIImQssZVxXUr6aeI09rs/JMnm2ZSLGZGjkeIQa+IOZLxASU6k0soy6/Pb0pj5FDAK0xxselVaDt5n5FB5RShsQ61rnpwg2ZqK0Bvig6Q4CdAxFtqENGDJzu2h9uHeYuvGKKAQYiEgb3nDqFGnaOtLsAY3wQsuQYY48qS4JohJAf0m4FRHN1W+I6MIpNkJ5BVF7gH7Wa1qWkWGSIdmKEMSvlaHetlBSKoErguge4ELToYgoCR+RMWxs19l4RXICDHKEsjZURoBFhBHK67kkgCCURJR0zlAUtRAwS1gQMAM21IoFATNgQ61YEBChDt/qzLNBaQI8Kz25s7yqELIKFeoBx8537yyvYrg2pSMAw9ktz+TGzPKqJEJt2IJNpRFjZ2jSpkXm7g3m/5MWOPMQZfMl5t5g1m4w+fYMpiAg6m5xtDQIg7Kmu7tmXRCLnSG4Q92NmFvlSc4H5Kzomu2zzRIeELSyXASpT4iUPRrjIvlRmSrPCJ2V6HE9A7D37M8IuSiwvVX5cblaDkriGE3bOvhwjYZHPf5SBHN/UnQxG5wBG2rF3BOQbGuMmdeJaJ+ImkS0SkR9IhoQ0YmIjJ37vmRUc4NXT0RuUtiZaiS4Q0TfMoq18RumQcysBF0WqLant9vkxUD0EGDmZZ0aWI1lInpPRIe4puUHGY93cZ95dVGHQkm9RP3RkCIEdtBIxQcR6eNzn5lXERbrGc/2rPsfwMyHCBHznL6fxDI2xfkA7bUN7UG3MRZWS9Q3FhGGftAE7wlCkiwgIgMRedRLELsdfO0FVNvF+zLqioKkf5lh5n2r0U289y09KIOBdW80HUg9DlhGw03jx4jz0kquXmV9LRxCeUhNwMBR9IcMwcxS4NlHcNQ/mgckDQGI4D8hZOYBUuQ+M3edXs2DHfdlnpuIJB6g6c4nVMgQBs0nD06GfX+0UWGKgZD28G9rMGSX2a5bWAdApkl//ZjD4hQhYNxznZkPTDpE4+0xvy8V6jPutSYGPwYhGSQTqeYCl47yDxwXZhMOJeYCYzwXMobIRMq/zR2g5+yUpcZ37RFizmyQLAK7sSdCisWS2AzYUCvmmwAi+gPQcQvBT6vKtAAAAABJRU5ErkJggg==",this.P="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsSAAALEgHS3X78AAAEgklEQVR4nO1bu04bQRS9WaUPfAETfiBI0MdIpI4b0kIaKJMOumW60JkSN4E2bkKNpZAPsBQ+IGT5AuAHhuiiM8kwzHofnrtrZB/JMrvz8L1n7mNevLi/v6dZxss2dFfadIjogIje4tVPfs7S5KJpWRq1AKXNChH1HMV9MBGfszT51ZRMjRCgtFEY8a2STU5hEZmwaLIEKG0WeETxeeUV3+E9wSpC5fy+l6XJrZSMYgQobT5j1AsVK0EUW0NPQs7oBChtulBwKVA81rQLXOUa8eF7THmjERCI7C4qBbeCYBk1Y0xMQMGoXULxWsKCVCbiTaA4SqCsTYDjt2mg+BrCnUwinPNb2yA55FZ6kkBZiwCY6EWTkbtEoOzUmT/UJSALjMYpzF0sZdF/InoBl7vO0kRV7S+pIcBKjimyv3ar9lcDXfyWjyXIVgl11gILOe+ZlK/WX2PP6wuyTJFsuYixGLr2LIIF/KG0OYNLTBSlkWXY5N9PLupTVHaBAHjEP4IIFyzwH6VND35bCdyG23IfUsozYhBAnO4QgDQisotPXEVpc1C2P9TN0FYUUQhwiGDBmYgjr4jTVsrZAzEiT/FtZJg0kOpEEJUAkHCbpQnn6tdEdOYV20B5gaBmFe/wOy7LyTBiENsRQvDr5kRvN1CSpI8XIboF+OB0mKVJZ0ygbE15hjgBFgWBsjU0RoBDhA2UlzNJACFQEpHomqEsWiFgmjAnYApkaBVzAqZAhlYxJyBCH6HdmWeDygQEdnoKV3lNoc4uVF0L0N5zcJXXMHyZ5AjAdHY9sLixq7wmiWAZ1iFTZcQ4GRp3aJF7eoP1/7gNziJEOXyJeTaYdxpMoTODCQiIelocLQ1CoLzl7pbdF6yzQQrcoW8V86hc5H4AlDzI2dS0x2edChZwhFGPvoKUviFS9WqMD/GrMk3eETqpMOJ8B2D72d8R8lHieKvx63KtXJTENZoD5+LDJRSPev2lDGb+puh8NTgFMrSKmSdA7GhMabNKRDtEtEFEy0Q0JKIRER1maXLj1fuS080VPoMsTa4k5JSaCW4S0becYlZ+zSqktGGCzkt0OyCiXZe8GIjuAkqbRSI6dpTdJaJ3RLSPd1y+l9O8j3r200cfDCb1HP1Hg4QLbEJJxocsTYb4e6i0WYZbrOa0HTj1H6C02YeL2Hb8fRhLWIn7ATxqazyCvjIOliv0d5OlyS7iB42xnloQyQJZmoyyNHk0Sgh2m3gc1Oi2j+9F9BUFov8yo7TZcZTewPfQiQdVMHLqRosD0vOARShulb+Bn1eO5GxVzmNpFyqCNAEjL6I/ZAilzXGJto/gRf9oFiDqAgiC/wKh0maEFLmjtOl7o1oE1++rtBsLEQvgdBcKVMgQFhtPGo6HWz/arFBiIsQj/NuZDLllrumWjgMg06a/YcxpsYQLWPNcVdrs2XQI5d05fygVchv/3QYmPxZ1MkgupNYC517kH3kmvGvdocJa4Abt6swhciH5b3N7GDk3ZbHwfXeGWLAaJIfAfuyFEGO+JTYFMrSK2SaAiP4CqdESq7xRwWUAAAAASUVORK5CYII=",this.B="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAAAbklEQVQI133NoQ3CUBiF0VNIagkLPAUbMEERnaVLVPwjwDJgOgCsUNUNap/CvCBeCVd+OcmlWoo8pMhD3ZsKdXiU3i9jO21ginzCC8eSVlyWsZ2/MEU+4I1z9TgXvDYp8h5PXP3ehH6H+x8EHW4fybsaVZb+mXYAAAAASUVORK5CYII=",this.U="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAAAb0lEQVQI133PsQ3CMAAF0RcXbtnAFSswBJSIJVJkBRceArbJBGwAVRZAbg0FTZBQQLny/jW/S6Wd0VvnEjBgXIlGDB2k0ja4YruIbthNOdYAU44Ve9Sv6IHDvAkfO+V4xxEvPHGa3X9SaX0q7efcG8DBHdeJEiXGAAAAAElFTkSuQmCC",this.V="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAAAZ0lEQVQI133NMQ3CYBgE0FcQUBO1AAI6EJx8qZ5OJ6UMVYAD8EBQAEvD8EO48e4lR5MkU5Kp7bsGjVjwwrmq1i+YZMAV/VY9cKyq+wcm6Tc0NI83HKrq2SXZ44LR76w47TD/QbZtfgP0tBvnAWb0twAAAABJRU5ErkJggg==",this.X="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAAAZUlEQVQI133PMQ0CQQBE0bdnAESAAzACIjZXgJwjIwYMYOFEQA8JzW4D5Kb8ec2UJBNGy7sMOOG6gG44F0iywh3bLzRjX2t9lF6SbBpet/TErtY6w9BhC0e88Maho79LMib5OfcBZrcc5/hnjOIAAAAASUVORK5CYII=",this.Q="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAMAAADyHTlpAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAA0lBMVEUAAAAegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoAAABMZOkLAAAARHRSTlMAJQsRbtXylzE6oPbJYwwPbNPwlS84nvXHYQpq0JMsnPPFXQT5hTKZVMjqiQ6W/r9YB2TK7I0nmMFbZs3tjyk0m8QJT9xaIWkAAAABYktHRACIBR1IAAAACXBIWXMAAAsSAAALEgHS3X78AAAAqklEQVQ4y2NgGAWjgDLAyEScOmYWVhc2dg7CCjm5uF3AgIeXD586fgFBFwQQEhbBpVBUTNwFDUhISmExUFrGBRsQkpVDVSgir+CCEygqKSMFjooLXqCKUKqGX6WLOpIDNDTxKNTS1kF1ra4QVnV6+gaGGGHAZ2SModDE1AxHyKqZsyErtLA0ZMAN+KysoepsbO0IpgJ7B2AYOyo5EU4vQKDjTNjAUTAK8AMAeypG+KfRwzwAAAAASUVORK5CYII=",this.W="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABa1BMVEUAAAAegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoegvoAAAAEmJR8AAAAd3RSTlMAJozoB1e+/iSJ6QVVuyKHUrn9IITmKLS12errUedUuiMGvSWLWb+vzK6N7a3j5YMfXMJbPNFOAxxPOqD25IEdEG7U/LNMEaL34n4bEnDXsEkCP6X44MXuzmwPFHPYE831njcBQacqttBqtyvznDVnDZozy2UM8sXx3pEAAAABYktHRACIBR1IAAAACXBIWXMAAAsSAAALEgHS3X78AAAB5UlEQVQ4y81U+TsCQRheKtvh6hBRlJJEJBGSUI5KoUNJzgoR5Zx/387M2tm2Vf3k8f6wz3zf9+77zHwXRf0jdHVLJN1d7VhSWQ8NGNA9MmkLmlyhBByUCrk4S9XbR4MG0H29qiZa/4AEiEAy0N8gNqjWgF+gUQ/+yGp1Q6AlhnRahqYf1oC20IzoKUN7GoSBGu2MOEYZTZ3wTEbmyeMTdGsWPTHOPtzMr4gQSoWZl0mLbFJUlp6UWYS1sdqa3jVqs4q3zpSdJ0vbpxoaaNoxYySl1ztnMW3WqScVNs45pikX451fcBPZRQ8AniUi5l6YZyguyruMa7Ti40Krq9zRtzaCKrzsZYx1/wY8BzaDwksHNwMwsuFfZx1b2zvQEQrvElnKtxsOQe/O9h7/Z+/+AfRGojFsx6IRaB/se5uScxhPINmj45OT4yMklogfio9NMpWG8UwGftOpZEPwNJs7y3PWeeEC5/GicMk582e57BVq3OubW85bLJXT6XKpyDlub65R497do0Q9VIislGQ7X3lAaX58IsNVfX4R3vnluQojeLj445qr1QmrXsshMTKuCOwCqL6+YfvtFYkJFgCWZVfK+8fn58c7ajSxlYLALqmvLzwCvywp/ODO1h4Cs0gD7RfpX+IbsgQXrPXbyDgAAAAASUVORK5CYII="}var A,I,C;return A=g,(I=[{key:"addTo",value:function(A){this.A=A,this.O=this.A.getLevel(),this.v||(this.v=this.A.getContainer()),this.init(),1<this.A.getVisibleLevels().length?this.setLayerStatus(!0):this.setLayerStatus(!1)}},{key:"remove",value:function(){this.A.off("levelChanged",this.gidchange),this.A.off("visibleLevelsLoaded",this.handleLayerChangeStyle),this.L&&this.v.removeChild(this.L),this.L=null}},{key:"init",value:function(){var I=this;this.uuid=p.generateUUID();var A=((i=document.createElement("div")).innerHTML='\n    <div class="fm-control-groups"\n      style = "\n        width: 42px;\n        position: absolute;\n        box-shadow: rgba(0, 0, 0, 0.3) 2px 2px 3px;\n        border-radius: 2px;\n        top: 30px;\n        z-index: 20;\n        right: 30px;">\n    </div>'.trim(),i.firstChild);this.L=A,function(A,g,I){switch(I.style.left="",I.style.right="",I.style.top="",I.style.bottom="",A){case c.LEFT_TOP:I.style.left=g.x+"px",I.style.top=g.y+"px";break;case c.RIGHT_TOP:I.style.right=-g.x+"px",I.style.top=g.y+"px";break;case c.LEFT_BOTTOM:I.style.left=g.x+"px",I.style.bottom=-g.y+"px";break;case c.RIGHT_BOTTOM:I.style.right=-g.x+"px",I.style.bottom=-g.y+"px";break;default:I.style.left=g.x+"px",I.style.top=g.y+"px"}}(this.R.position,this.R.offset,A),v(this.v,A);var g=this.A.getLevels(),C=g.length,t=this.k,i=!0;this.viewModeControl&&(this.A.getViewMode()===l.MODE_3D?this.S=!1:this.S=!0,this.D=(n=this.S?this.F:this.P,s=document.createElement("div"),n='\n    <div class="fm-control-tool-3d"\n      style="\n        display: block;\n        margin-bottom:10px;\n        height: 42px;\n        width: 42px;\n        padding: 0px;\n        cursor: pointer;\n        box-shadow: rgba(0, 0, 0, 0.3) 2px 2px 3px;\n        border-radius: 2px;\n        background: url(&quot;'.concat(n,'&quot;) no-repeat white;background-size:100% 100%">\n    </div>'),s.innerHTML=n.trim(),s.firstChild),this.initViewModePanelEvent(this.D),v(A,this.D));var n,s,s=(n=void 0,s=document.createElement("div"),n='\n      <div class="fm-control-groups-layer fm-btn-layer"\n        style = "\n          padding: 10px;\n          cursor: pointer;\n          background-color:#FFFFFF;"\n      >\n        <img src="'.concat(n,'" style="width: 22px; height: 22px;">\n      </div>'),s.innerHTML=n.trim(),s.firstChild);if(this.R.needAllLayerBtn&&v(A,s),this.K=s,this.eventSwitchBtn(s),this.handleLayerChangeStyle=this.handleLayerChangeStyle.bind(this),this.A.on("visibleLevelsLoaded",this.handleLayerChangeStyle),this.floorModeControl){C<=this.k&&(t=C,i=!1);this.Q;this.Z&&this.W,i&&A.appendChild(f(this.B,"top",this.uuid));var e=(C=t*this.T+2*(t-1),t=document.createElement("div"),C='\n   <div class = "fm-layer-list"\n    style = "\n      overflow: hidden;\n      height: '.concat(C,'px;\n      background-color:#FFFFFF;">\n    </div'),t.innerHTML=C.trim(),t.firstChild);v(A,e),this.G=e,this.N=this.A.getFloorInfos();for(var h,r,o,a,u=this.N.length-1;-1<u;u--)e.appendChild((h=this.N[u],r=this.T,o=this.uuid,a=void 0,a=document.createElement("div"),h="\n    <label\n      data-gid=".concat(h.level,'\n      id="gid_').concat(h.level+o,'"\n      style="\n        display: inline-block;\n        text-align: center;\n        width: ').concat(r,"px;\n        height: ").concat(r,"px;\n        line-height: ").concat(r,'px;\n        margin: 0px; cursor: pointer;\n        font-size: 0.8em;\n        font-weight: bold;\n        color: rgb(102, 102, 102);\n      ">\n      <span>').concat(h.alias&&h.alias.toUpperCase()||h.name.toUpperCase(),"</span>\n    </label>"),a.innerHTML=h.trim(),a.firstChild)),0<u&&e.appendChild((a=void 0,(a=document.createElement("div")).innerHTML='\n    <hr\n      style="\n        height: 1px;\n        border-top: 1px solid rgba(153, 153, 153, 0.45);\n        border-right: none;\n        border-bottom: none;\n        border-left: none;\n        border-image: initial;\n        width: 60%;\n        margin: 0px 20%;">'.trim(),a.firstChild));i&&A.appendChild(f(this.U,"buttom")),e.scrollTop=this.getCenterScrolltopById(this.O,g.length),document.getElementById("gid_"+this.O+this.uuid).style.color="rgb(30, 130, 250)",this.eventBtnPanelInit(e),this.eventPanelInit(A,e,g);g=function(A){var g=I.A.getLevels();A.level<g[0]||A.level>g[g.length-1]||(e.scrollTop=I.getCenterScrolltopById(A.level,g.length),I.setFocusStaus(A.level))};this.gidchange=g,this.handleLayerChangeStyle=this.handleLayerChangeStyle.bind(this),this.A.on("levelChanged",g),this.H=function(A){return(I.map?I.map.mapView.container_:document).querySelector(A)}}}},{key:"handleLayerChange",value:function(){var A=this;!A.Z?A.A.setVisibleLevels(A.A.getLevels()):A.A.setVisibleLevels([A.A.getLevel()])}},{key:"handleLayerChangeStyle",value:function(){1<this.A.getVisibleLevels().length?this.setLayerStatus(!0):this.setLayerStatus(!1)}},{key:"eventSwitchBtn",value:function(A){var g=h.getClikEventName();this.handleLayerChange=this.handleLayerChange.bind(this),A.addEventListener(g,this.handleLayerChange)}},{key:"initViewModePanelEvent",value:function(A){var g=this,I=h.getClikEventName();A.addEventListener(I,function(){g.A.getViewMode()===l.MODE_3D?(g.A.setViewMode({mode:l.MODE_2D}),this.style.backgroundImage="url("+g.F+")"):(g.A.setViewMode({mode:l.MODE_3D}),this.style.backgroundImage="url("+g.P+")")})}},{key:"eventBtnPanelInit",value:function(I){var C=this,t=this;t.changeScrollBtnPic(),h.bindEvent(I,"label","click",function(){var A;t.O!==parseInt(this.dataset.gid)&&(t.foucusId=parseInt(this.dataset.gid),A=t.A.getLevels(),this.dataset.gid<A[0]||this.dataset.gid>A[A.length-1]||(I.scrollTop=t.getCenterScrolltopById(parseInt(this.dataset.gid),A.length),t.setFocusStaus(this.dataset.gid)))});function A(A){t.changeScrollBtnPic();var g=0;A.wheelDelta?g+=-A.wheelDelta:A.detail&&(g+=A.detail),C.scrollTopAn_({el:I,to:I.scrollTop,form:I.scrollTop+g}),A.stopPropagation()}I.addEventListener("mousewheel",A,{passive:!0}),I.addEventListener("MozMousePixelScroll",A,!1),I.addEventListener("touchstart",this.touchstart.bind(this),!1),I.addEventListener("touchmove",this.touchmove.bind(this),!1),I.addEventListener("touchend",this.touchend.bind(this),!0)}},{key:"touchstart",value:function(A){A.preventDefault(),this.touchStartPointY=A.touches[0].pageY,this.touchPointX=A.touches[0].pageX,this.touchPointY=A.touches[0].pageY,A.stopPropagation()}},{key:"touchmove",value:function(A){A.preventDefault(),this.touchEndPointX=A.touches[0].pageX,this.touchEndPointY=A.touches[0].pageY,this.handleTouchEnd(A),A.stopPropagation()}},{key:"handleTouchEnd",value:function(A){var g,I=this,C=0;0<(A=A||window.event).changedTouches.length&&(I.touchEndPointX=A.changedTouches[0].pageX,I.touchEndPointY=A.changedTouches[0].pageY),(g=A.target)instanceof HTMLSpanElement==!0&&g.parentElement,0!=(C=-(I.touchEndPointY-I.touchPointY))&&(I.touchPointX=I.touchEndPointX,I.touchPointY=I.touchEndPointY,I=I.H(".fm-layer-list"),this.scrollTopAn_({el:I,to:I.scrollTop,form:I.scrollTop+C}))}},{key:"touchend",value:function(A){var g=this,I=null;0<(A=A||window.event).changedTouches.length&&(g.touchEndPointX=A.changedTouches[0].pageX,g.touchEndPointY=A.changedTouches[0].pageY),(I=A.target)instanceof HTMLSpanElement==!0&&(I=I.parentElement);var C=Math.abs(g.touchEndPointY-g.touchStartPointY);C<5&&0<=C&&I&&(I=parseInt(I.dataset.gid),isNaN(I)||(g.foucusId=I,g.setFocusStaus(I))),A.stopPropagation()}},{key:"eventPanelInit",value:function(A,n,s){var e=this;A.onselectstart=function(){return!1},A.style.MozUserSelect="none",h.bindEvent(A,".scroll","click",function(A){var g=s.length-Math.floor(n.scrollTop/44)-(e.k-1),I=n.scrollTop%44,C=g+e.k-1+(0<I?1:0),t=0;if(this.id==="scroll_top"+e.uuid){var i=e.O+1,i=Math.min(s[s.length-1],i);if(e.foucusId==i)return;(e.foucusId=i)<g?t-=0<I?44-I:0:i<=1+C&&i===1+C&&(t-=44+(0<I?44-I:0))}else{i=e.O-1,i=Math.max(s[0],i);if(e.foucusId==i)return;C<(e.foucusId=i)?t+=0<I?I:0:g-1<=i&&i===g-1&&(t+=44+(0<I?I:0))}0!=t&&e.scrollTopAn_({el:n,to:n.scrollTop,form:n.scrollTop+t})}),h.bindEvent(A,".scroll","touchend",function(A){var g=s.length-Math.floor(n.scrollTop/44)-(e.k-1),I=n.scrollTop%44,C=g+e.k-1+(0<I?1:0),t=0;if(this.id==="scroll_top"+e.uuid){var i=e.O+1,i=Math.min(s[s.length-1],i);if(e.foucusId==i)return;(e.foucusId=i)<g?t-=0<I?44-I:0:i<=1+C&&i===1+C&&(t-=44+(0<I?44-I:0))}else{i=e.O-1,i=Math.max(s[0],i);if(e.foucusId==i)return;C<(e.foucusId=i)?t+=0<I?I:0:g-1<=i&&i===g-1&&(t+=44+(0<I?I:0))}0!=t&&e.scrollTopAn_({el:n,to:n.scrollTop,form:n.scrollTop+t})})}},{key:"getCenterScrolltopById",value:function(A,g){return(g-A-Math.floor(this.k/2))*(this.T+2)}},{key:"changeScrollBtnPic",value:function(){var A=this.O,g=this.A.getLevels(),I=document.getElementById("scroll_buttom"+this.uuid),C=document.getElementById("scroll_top"+this.uuid);A==g[0]?I&&(I.style.backgroundImage="url("+this.X+")"):I&&(I.style.backgroundImage="url("+this.U+")"),A==g[g.length-1]?C&&(C.style.backgroundImage="url("+this.V+")"):C&&(C.style.backgroundImage="url("+this.B+")")}},{key:"changeFocusLevel",value:function(A){this.foucusId=A}},{key:"changeLevelsSelect",value:function(A){this.setLayerStatus(A),this.allLayer=A}},{key:"setLayerStatus",value:function(A){this.Z=A,this.Z?this.K.firstElementChild.src=this.W+"":this.K.firstElementChild.src=this.Q+""}},{key:"onChange",value:function(A){M=A}},{key:"foucusId",get:function(){return this.O},set:function(A){this.A.setLevel({level:A}),this.setFocusStaus(A),M&&M([A])}},{key:"setFocusStaus",value:function(A){document.getElementById("gid_"+this.O+this.uuid).style.color="rgb(102, 102, 102)",this.O=parseInt(A),document.getElementById("gid_"+this.O+this.uuid).style.color="rgb(30, 130, 250)",this.changeScrollBtnPic()}},{key:"allLayer",get:function(){return this.Z},set:function(A){A?this.A.setVisibleLevels(this.A.getLevels()):this.A.setVisibleLevels([this.A.getLevel()])}}])&&m(A.prototype,I),C&&m(A,C),g}(),b={MODULE_SHORTEST:1,MODULE_BEST:2},w={PRIORITY_DEFAULT:1,PRIORITY_LIFTFIRST:2,PRIORITY_ESCALATORFIRST:3,PRIORITY_STAIRFIRST:4,PRIORITY_LIFTONLY:5,PRIORITY_ESCALATORONLY:6,PRIORITY_STAIRONLY:7,PRIORITY_ACCESSIBLEONLY:8,PRIORITY_LIFTFIRST1:9,PRIORITY_ESCALATORFIRST1:10,PRIORITY_STAIRFIRST1:11},I={ZH:"zh",EN:"en"};C=function A(){!function(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}(this,A)};Object.assign(C.prototype,{J:function(A,g){void 0===this._&&(this._={});var I=this._;void 0===I[A]&&(I[A]=[]),-1===I[A].indexOf(g)&&I[A].push(g)},q:function(A,g){if(void 0===this._)return!1;var I=this._;return void 0!==I[A]&&-1!==I[A].indexOf(g)},$:function(A,g){void 0!==this._&&(void 0===(A=this._[A])||-1!==(g=A.indexOf(g))&&A.splice(g,1))},AA:function(A){if(void 0!==this._){var g=this._[A.type];if(void 0!==g)for(var I=g.slice(0),C=0,t=I.length;C<t;C++)I[C].call(this,A)}}});var E=C;function R(A,g){for(var I=0;I<g.length;I++){var C=g[I];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(A,C.key,C)}}var T=function(){function g(A){!function(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}(this,g),this.autoStart=void 0===A||A,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}var A,I,C;return A=g,(I=[{key:"start",value:function(){this.startTime=k(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var A,g=0;return this.autoStart&&!this.running?(this.start(),0):(this.running&&(g=((A=k())-this.oldTime)/1e3,this.oldTime=A,this.elapsedTime+=g),g)}}])&&R(A.prototype,I),C&&R(A,C),g}();function k(){return("undefined"==typeof performance?Date:performance).now()}for(var O=[],x=0;x<256;x++)O[x]=(x<16?"0":"")+x.toString(16);var Z=1234567,S={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var A=4294967295*Math.random()|0,g=4294967295*Math.random()|0,I=4294967295*Math.random()|0,C=4294967295*Math.random()|0;return(O[255&A]+O[A>>8&255]+O[A>>16&255]+O[A>>24&255]+"-"+O[255&g]+O[g>>8&255]+"-"+O[g>>16&15|64]+O[g>>24&255]+"-"+O[63&I|128]+O[I>>8&255]+"-"+O[I>>16&255]+O[I>>24&255]+O[255&C]+O[C>>8&255]+O[C>>16&255]+O[C>>24&255]).toUpperCase()},clamp:function(A,g,I){return Math.max(g,Math.min(I,A))},euclideanModulo:function(A,g){return(A%g+g)%g},mapLinear:function(A,g,I,C,t){return C+(A-g)*(t-C)/(I-g)},lerp:function(A,g,I){return(1-I)*A+I*g},smoothstep:function(A,g,I){return A<=g?0:I<=A?1:(A=(A-g)/(I-g))*A*(3-2*A)},smootherstep:function(A,g,I){return A<=g?0:I<=A?1:(A=(A-g)/(I-g))*A*A*(A*(6*A-15)+10)},randInt:function(A,g){return A+Math.floor(Math.random()*(g-A+1))},randFloat:function(A,g){return A+Math.random()*(g-A)},randFloatSpread:function(A){return A*(.5-Math.random())},seededRandom:function(A){return((Z=16807*(Z=void 0!==A?A%2147483647:Z)%2147483647)-1)/2147483646},degToRad:function(A){return A*S.DEG2RAD},radToDeg:function(A){return A*S.RAD2DEG},isPowerOfTwo:function(A){return 0==(A&A-1)&&0!==A},ceilPowerOfTwo:function(A){return Math.pow(2,Math.ceil(Math.log(A)/Math.LN2))},floorPowerOfTwo:function(A){return Math.pow(2,Math.floor(Math.log(A)/Math.LN2))},setQuaternionFromProperEuler:function(A,g,I,C,t){var i=Math.cos,n=Math.sin,s=i(I/2),e=n(I/2),h=i((g+C)/2),r=n((g+C)/2),o=i((g-C)/2),a=n((g-C)/2),u=i((C-g)/2),c=n((C-g)/2);switch(t){case"XYX":A.set(s*r,e*o,e*a,s*h);break;case"YZY":A.set(e*a,s*r,e*o,s*h);break;case"ZXZ":A.set(e*o,e*a,s*r,s*h);break;case"XZX":A.set(s*r,e*c,e*u,s*h);break;case"YXY":A.set(e*u,s*r,e*c,s*h);break;case"ZYZ":A.set(e*c,e*u,s*r,s*h);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+t)}}};function j(A,g){for(var I=0;I<g.length;I++){var C=g[I];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(A,C.key,C)}}a=function(){function t(){var A=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,I=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,C=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;!function(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}(this,t),Object.defineProperty(this,"isQuaternion",{value:!0}),this.gA=A,this.IA=g,this.CA=I,this.tA=C}var A,g,I;return A=t,I=[{key:"slerp",value:function(A,g,I,C){return I.copy(A).slerp(g,C)}},{key:"slerpFlat",value:function(A,g,I,C,t,i,n){var s=I[C+0],e=I[C+1],h=I[C+2],r=I[C+3],o=t[i+0],a=t[i+1],u=t[i+2],c=t[i+3];r===c&&s===o&&e===a&&h===u||(I=1-n,t=0<=(C=s*o+e*a+h*u+r*c)?1:-1,(i=1-C*C)>Number.EPSILON&&(i=Math.sqrt(i),C=Math.atan2(i,C*t),I=Math.sin(I*C)/i,n=Math.sin(n*C)/i),s=s*I+o*(t=n*t),e=e*I+a*t,h=h*I+u*t,r=r*I+c*t,I===1-n&&(s*=n=1/Math.sqrt(s*s+e*e+h*h+r*r),e*=n,h*=n,r*=n)),A[g]=s,A[g+1]=e,A[g+2]=h,A[g+3]=r}},{key:"multiplyQuaternionsFlat",value:function(A,g,I,C,t,i){var n=I[C],s=I[C+1],e=I[C+2],h=I[C+3],r=t[i],I=t[i+1],C=t[i+2],i=t[i+3];return A[g]=n*i+h*r+s*C-e*I,A[g+1]=s*i+h*I+e*r-n*C,A[g+2]=e*i+h*C+n*I-s*r,A[g+3]=h*i-n*r-s*I-e*C,A}}],(g=[{key:"x",get:function(){return this.gA},set:function(A){this.gA=A,this.iA()}},{key:"y",get:function(){return this.IA},set:function(A){this.IA=A,this.iA()}},{key:"z",get:function(){return this.CA},set:function(A){this.CA=A,this.iA()}},{key:"w",get:function(){return this.tA},set:function(A){this.tA=A,this.iA()}},{key:"set",value:function(A,g,I,C){return this.gA=A,this.IA=g,this.CA=I,this.tA=C,this.iA(),this}},{key:"clone",value:function(){return new this.constructor(this.gA,this.IA,this.CA,this.tA)}},{key:"copy",value:function(A){return this.gA=A.x,this.IA=A.y,this.CA=A.z,this.tA=A.w,this.iA(),this}},{key:"setFromEuler",value:function(A,g){if(!A||!A.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var I=A.gA,C=A.IA,t=A.CA,i=A.nA,n=Math.cos,A=Math.sin,s=n(I/2),e=n(C/2),h=n(t/2),r=A(I/2),o=A(C/2),a=A(t/2);switch(i){case"XYZ":this.gA=r*e*h+s*o*a,this.IA=s*o*h-r*e*a,this.CA=s*e*a+r*o*h,this.tA=s*e*h-r*o*a;break;case"YXZ":this.gA=r*e*h+s*o*a,this.IA=s*o*h-r*e*a,this.CA=s*e*a-r*o*h,this.tA=s*e*h+r*o*a;break;case"ZXY":this.gA=r*e*h-s*o*a,this.IA=s*o*h+r*e*a,this.CA=s*e*a+r*o*h,this.tA=s*e*h-r*o*a;break;case"ZYX":this.gA=r*e*h-s*o*a,this.IA=s*o*h+r*e*a,this.CA=s*e*a-r*o*h,this.tA=s*e*h+r*o*a;break;case"YZX":this.gA=r*e*h+s*o*a,this.IA=s*o*h+r*e*a,this.CA=s*e*a-r*o*h,this.tA=s*e*h-r*o*a;break;case"XZY":this.gA=r*e*h-s*o*a,this.IA=s*o*h-r*e*a,this.CA=s*e*a+r*o*h,this.tA=s*e*h+r*o*a;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+i)}return!1!==g&&this.iA(),this}},{key:"setFromAxisAngle",value:function(A,g){var I=g/2,g=Math.sin(I);return this.gA=A.x*g,this.IA=A.y*g,this.CA=A.z*g,this.tA=Math.cos(I),this.iA(),this}},{key:"setFromRotationMatrix",value:function(A){var g,I=A.elements,C=I[0],t=I[4],i=I[8],n=I[1],s=I[5],e=I[9],h=I[2],r=I[6],A=I[10],I=C+s+A;return 0<I?(I=.5/Math.sqrt(I+1),this.tA=.25/I,this.gA=(r-e)*I,this.IA=(i-h)*I,this.CA=(n-t)*I):s<C&&A<C?(g=2*Math.sqrt(1+C-s-A),this.tA=(r-e)/g,this.gA=.25*g,this.IA=(t+n)/g,this.CA=(i+h)/g):A<s?(g=2*Math.sqrt(1+s-C-A),this.tA=(i-h)/g,this.gA=(t+n)/g,this.IA=.25*g,this.CA=(e+r)/g):(s=2*Math.sqrt(1+A-C-s),this.tA=(n-t)/s,this.gA=(i+h)/s,this.IA=(e+r)/s,this.CA=.25*s),this.iA(),this}},{key:"setFromUnitVectors",value:function(A,g){var I=A.dot(g)+1;return I<1e-6?(I=0,Math.abs(A.x)>Math.abs(A.z)?(this.gA=-A.y,this.IA=A.x,this.CA=0):(this.gA=0,this.IA=-A.z,this.CA=A.y)):(this.gA=A.y*g.z-A.z*g.y,this.IA=A.z*g.x-A.x*g.z,this.CA=A.x*g.y-A.y*g.x),this.tA=I,this.normalize()}},{key:"angleTo",value:function(A){return 2*Math.acos(Math.abs(S.clamp(this.dot(A),-1,1)))}},{key:"rotateTowards",value:function(A,g){var I=this.angleTo(A);if(0===I)return this;I=Math.min(1,g/I);return this.slerp(A,I),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this.gA*=-1,this.IA*=-1,this.CA*=-1,this.iA(),this}},{key:"dot",value:function(A){return this.gA*A.gA+this.IA*A.IA+this.CA*A.CA+this.tA*A.tA}},{key:"lengthSq",value:function(){return this.gA*this.gA+this.IA*this.IA+this.CA*this.CA+this.tA*this.tA}},{key:"length",value:function(){return Math.sqrt(this.gA*this.gA+this.IA*this.IA+this.CA*this.CA+this.tA*this.tA)}},{key:"normalize",value:function(){var A=this.length();return 0===A?(this.gA=0,this.IA=0,this.CA=0,this.tA=1):(this.gA=this.gA*(A=1/A),this.IA=this.IA*A,this.CA=this.CA*A,this.tA=this.tA*A),this.iA(),this}},{key:"multiply",value:function(A,g){return void 0!==g?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(A,g)):this.multiplyQuaternions(this,A)}},{key:"premultiply",value:function(A){return this.multiplyQuaternions(A,this)}},{key:"multiplyQuaternions",value:function(A,g){var I=A.gA,C=A.IA,t=A.CA,i=A.tA,n=g.gA,s=g.IA,A=g.CA,g=g.tA;return this.gA=I*g+i*n+C*A-t*s,this.IA=C*g+i*s+t*n-I*A,this.CA=t*g+i*A+I*s-C*n,this.tA=i*g-I*n-C*s-t*A,this.iA(),this}},{key:"slerp",value:function(A,g){if(0===g)return this;if(1===g)return this.copy(A);var I=this.gA,C=this.IA,t=this.CA,i=this.tA,n=i*A.tA+I*A.gA+C*A.IA+t*A.CA;if(n<0?(this.tA=-A.tA,this.gA=-A.gA,this.IA=-A.IA,this.CA=-A.CA,n=-n):this.copy(A),1<=n)return this.tA=i,this.gA=I,this.IA=C,this.CA=t,this;A=1-n*n;if(A<=Number.EPSILON){var s=1-g;return this.tA=s*i+g*this.tA,this.gA=s*I+g*this.gA,this.IA=s*C+g*this.IA,this.CA=s*t+g*this.CA,this.normalize(),this.iA(),this}s=Math.sqrt(A),A=Math.atan2(s,n),n=Math.sin((1-g)*A)/s,s=Math.sin(g*A)/s;return this.tA=i*n+this.tA*s,this.gA=I*n+this.gA*s,this.IA=C*n+this.IA*s,this.CA=t*n+this.CA*s,this.iA(),this}},{key:"equals",value:function(A){return A.gA===this.gA&&A.IA===this.IA&&A.CA===this.CA&&A.tA===this.tA}},{key:"fromArray",value:function(A){var g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.gA=A[g],this.IA=A[g+1],this.CA=A[g+2],this.tA=A[g+3],this.iA(),this}},{key:"toArray",value:function(){var A=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return A[g]=this.gA,A[g+1]=this.IA,A[g+2]=this.CA,A[g+3]=this.tA,A}},{key:"fromBufferAttribute",value:function(A,g){return this.gA=A.getX(g),this.IA=A.getY(g),this.CA=A.getZ(g),this.tA=A.getW(g),this}},{key:"_onChange",value:function(A){return this.iA=A,this}},{key:"_onChangeCallback",value:function(){}}])&&j(A.prototype,g),I&&j(A,I),t}();function G(A,g){for(var I=0;I<g.length;I++){var C=g[I];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(A,C.key,C)}}var L=function(){function C(){var A=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,I=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;!function(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}(this,C),Object.defineProperty(this,"isVector3",{value:!0}),this.x=A,this.y=g,this.z=I}var A,g,I;return A=C,(g=[{key:"set",value:function(A,g,I){return void 0===I&&(I=this.z),this.x=A,this.y=g,this.z=I,this}},{key:"setScalar",value:function(A){return this.x=A,this.y=A,this.z=A,this}},{key:"setX",value:function(A){return this.x=A,this}},{key:"setY",value:function(A){return this.y=A,this}},{key:"setZ",value:function(A){return this.z=A,this}},{key:"setComponent",value:function(A,g){switch(A){case 0:this.x=g;break;case 1:this.y=g;break;case 2:this.z=g;break;default:throw new Error("index is out of range: "+A)}return this}},{key:"getComponent",value:function(A){switch(A){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+A)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(A){return this.x=A.x,this.y=A.y,this.z=A.z,this}},{key:"add",value:function(A,g){return void 0!==g?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(A,g)):(this.x+=A.x,this.y+=A.y,this.z+=A.z,this)}},{key:"addScalar",value:function(A){return this.x+=A,this.y+=A,this.z+=A,this}},{key:"addVectors",value:function(A,g){return this.x=A.x+g.x,this.y=A.y+g.y,this.z=A.z+g.z,this}},{key:"addScaledVector",value:function(A,g){return this.x+=A.x*g,this.y+=A.y*g,this.z+=A.z*g,this}},{key:"sub",value:function(A,g){return void 0!==g?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(A,g)):(this.x-=A.x,this.y-=A.y,this.z-=A.z,this)}},{key:"subScalar",value:function(A){return this.x-=A,this.y-=A,this.z-=A,this}},{key:"subVectors",value:function(A,g){return this.x=A.x-g.x,this.y=A.y-g.y,this.z=A.z-g.z,this}},{key:"multiply",value:function(A,g){return void 0!==g?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(A,g)):(this.x*=A.x,this.y*=A.y,this.z*=A.z,this)}},{key:"multiplyScalar",value:function(A){return this.x*=A,this.y*=A,this.z*=A,this}},{key:"multiplyVectors",value:function(A,g){return this.x=A.x*g.x,this.y=A.y*g.y,this.z=A.z*g.z,this}},{key:"applyEuler",value:function(A){return A&&A.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Y.setFromEuler(A))}},{key:"applyAxisAngle",value:function(A,g){return this.applyQuaternion(Y.setFromAxisAngle(A,g))}},{key:"applyMatrix3",value:function(A){var g=this.x,I=this.y,C=this.z,A=A.elements;return this.x=A[0]*g+A[3]*I+A[6]*C,this.y=A[1]*g+A[4]*I+A[7]*C,this.z=A[2]*g+A[5]*I+A[8]*C,this}},{key:"applyNormalMatrix",value:function(A){return this.applyMatrix3(A).normalize()}},{key:"applyMatrix4",value:function(A){var g=this.x,I=this.y,C=this.z,t=A.elements,A=1/(t[3]*g+t[7]*I+t[11]*C+t[15]);return this.x=(t[0]*g+t[4]*I+t[8]*C+t[12])*A,this.y=(t[1]*g+t[5]*I+t[9]*C+t[13])*A,this.z=(t[2]*g+t[6]*I+t[10]*C+t[14])*A,this}},{key:"applyQuaternion",value:function(A){var g=this.x,I=this.y,C=this.z,t=A.x,i=A.y,n=A.z,s=A.w,e=s*g+i*C-n*I,h=s*I+n*g-t*C,A=s*C+t*I-i*g,C=-t*g-i*I-n*C;return this.x=e*s+C*-t+h*-n-A*-i,this.y=h*s+C*-i+A*-t-e*-n,this.z=A*s+C*-n+e*-i-h*-t,this}},{key:"project",value:function(A){return this.applyMatrix4(A.matrixWorldInverse).applyMatrix4(A.projectionMatrix)}},{key:"unproject",value:function(A){return this.applyMatrix4(A.projectionMatrixInverse).applyMatrix4(A.matrixWorld)}},{key:"transformDirection",value:function(A){var g=this.x,I=this.y,C=this.z,A=A.elements;return this.x=A[0]*g+A[4]*I+A[8]*C,this.y=A[1]*g+A[5]*I+A[9]*C,this.z=A[2]*g+A[6]*I+A[10]*C,this.normalize()}},{key:"divide",value:function(A){return this.x/=A.x,this.y/=A.y,this.z/=A.z,this}},{key:"divideScalar",value:function(A){return this.multiplyScalar(1/A)}},{key:"min",value:function(A){return this.x=Math.min(this.x,A.x),this.y=Math.min(this.y,A.y),this.z=Math.min(this.z,A.z),this}},{key:"max",value:function(A){return this.x=Math.max(this.x,A.x),this.y=Math.max(this.y,A.y),this.z=Math.max(this.z,A.z),this}},{key:"clamp",value:function(A,g){return this.x=Math.max(A.x,Math.min(g.x,this.x)),this.y=Math.max(A.y,Math.min(g.y,this.y)),this.z=Math.max(A.z,Math.min(g.z,this.z)),this}},{key:"clampScalar",value:function(A,g){return this.x=Math.max(A,Math.min(g,this.x)),this.y=Math.max(A,Math.min(g,this.y)),this.z=Math.max(A,Math.min(g,this.z)),this}},{key:"clampLength",value:function(A,g){var I=this.length();return this.divideScalar(I||1).multiplyScalar(Math.max(A,Math.min(g,I)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(A){return this.x*A.x+this.y*A.y+this.z*A.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(A){return this.normalize().multiplyScalar(A)}},{key:"lerp",value:function(A,g){return this.x+=(A.x-this.x)*g,this.y+=(A.y-this.y)*g,this.z+=(A.z-this.z)*g,this}},{key:"lerpVectors",value:function(A,g,I){return this.x=A.x+(g.x-A.x)*I,this.y=A.y+(g.y-A.y)*I,this.z=A.z+(g.z-A.z)*I,this}},{key:"cross",value:function(A,g){return void 0!==g?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(A,g)):this.crossVectors(this,A)}},{key:"crossVectors",value:function(A,g){var I=A.x,C=A.y,t=A.z,i=g.x,A=g.y,g=g.z;return this.x=C*g-t*A,this.y=t*i-I*g,this.z=I*A-C*i,this}},{key:"projectOnVector",value:function(A){var g=A.lengthSq();if(0===g)return this.set(0,0,0);g=A.dot(this)/g;return this.copy(A).multiplyScalar(g)}},{key:"projectOnPlane",value:function(A){return N.copy(this).projectOnVector(A),this.sub(N)}},{key:"reflect",value:function(A){return this.sub(N.copy(A).multiplyScalar(2*this.dot(A)))}},{key:"angleTo",value:function(A){var g=Math.sqrt(this.lengthSq()*A.lengthSq());if(0===g)return Math.PI/2;g=this.dot(A)/g;return Math.acos(S.clamp(g,-1,1))}},{key:"distanceTo",value:function(A){return Math.sqrt(this.distanceToSquared(A))}},{key:"distanceToSquared",value:function(A){var g=this.x-A.x,I=this.y-A.y,A=this.z-A.z;return g*g+I*I+A*A}},{key:"manhattanDistanceTo",value:function(A){return Math.abs(this.x-A.x)+Math.abs(this.y-A.y)+Math.abs(this.z-A.z)}},{key:"setFromSpherical",value:function(A){return this.setFromSphericalCoords(A.radius,A.phi,A.theta)}},{key:"setFromSphericalCoords",value:function(A,g,I){var C=Math.sin(g)*A;return this.x=C*Math.sin(I),this.y=Math.cos(g)*A,this.z=C*Math.cos(I),this}},{key:"setFromCylindrical",value:function(A){return this.setFromCylindricalCoords(A.radius,A.theta,A.y)}},{key:"setFromCylindricalCoords",value:function(A,g,I){return this.x=A*Math.sin(g),this.y=I,this.z=A*Math.cos(g),this}},{key:"setFromMatrixPosition",value:function(A){A=A.elements;return this.x=A[12],this.y=A[13],this.z=A[14],this}},{key:"setFromMatrixScale",value:function(A){var g=this.setFromMatrixColumn(A,0).length(),I=this.setFromMatrixColumn(A,1).length(),A=this.setFromMatrixColumn(A,2).length();return this.x=g,this.y=I,this.z=A,this}},{key:"setFromMatrixColumn",value:function(A,g){return this.fromArray(A.elements,4*g)}},{key:"setFromMatrix3Column",value:function(A,g){return this.fromArray(A.elements,3*g)}},{key:"equals",value:function(A){return A.x===this.x&&A.y===this.y&&A.z===this.z}},{key:"fromArray",value:function(A){var g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.x=A[g],this.y=A[g+1],this.z=A[g+2],this}},{key:"toArray",value:function(){var A=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return A[g]=this.x,A[g+1]=this.y,A[g+2]=this.z,A}},{key:"fromBufferAttribute",value:function(A,g,I){return void 0!==I&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=A.getX(g),this.y=A.getY(g),this.z=A.getZ(g),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}])&&G(A.prototype,g),I&&G(A,I),C}(),N=new L,Y=new a;function D(A,g){for(var I=0;I<g.length;I++){var C=g[I];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(A,C.key,C)}}C=function(){function A(){!function(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}(this,A),this.sA={x:Number.MAX_VALUE,y:Number.MAX_VALUE},this.eA={x:-Number.MAX_VALUE,y:-Number.MAX_VALUE}}var g,I,C;return g=A,(I=[{key:"min",get:function(){return this.sA}},{key:"max",get:function(){return this.eA}},{key:"center",get:function(){var A={x:Number.NaN,y:Number.NaN};return this.hA()&&(A.x=(this.sA.x+this.eA.x)/2,A.y=(this.sA.y+this.eA.y)/2),A}},{key:"size",get:function(){var A={x:Number.NaN,y:Number.NaN};return this.hA()&&(A.x=this.eA.x-this.sA.x,A.y=this.eA.y-this.sA.y),A}},{key:"toObject",value:function(){return{min:this.sA,max:this.eA,center:this.center,size:this.size}}}])&&D(g.prototype,I),C&&D(g,C),A}();Object.assign(C.prototype,{hA:function(){return!(this.sA.x>this.eA.x||this.sA.y>this.eA.y)},rA:function(A){A&&A.hA()&&(A.sA.x<this.sA.x&&(this.sA.x=A.sA.x),A.sA.y<this.sA.y&&(this.sA.y=A.sA.y),A.eA.x>this.eA.x&&(this.eA.x=A.eA.x),A.eA.y>this.eA.y&&(this.eA.y=A.eA.y))},oA:function(A){var g=this;A&&0!=A.length&&A.forEach(function(A){A.x<g.sA.x&&(g.sA.x=A.x),A.y<g.sA.y&&(g.sA.y=A.y),A.x>g.eA.x&&(g.eA.x=A.x),A.y>g.eA.y&&(g.eA.y=A.y)})}});var F=C,P=function(A,g,I){I=I||2;var C,t,i,n,s,e=g&&g.length,h=e?g[0]*I:A.length,r=B(A,0,h,I,!0),o=[];if(!r||r.next===r.prev)return o;if(e&&(r=function(A,g,I,C){var t,i,n,s,e=[];for(t=0,i=g.length;t<i;t++)n=g[t]*C,s=t<i-1?g[t+1]*C:A.length,(s=B(A,n,s,C,!1))===s.next&&(s.steiner=!0),e.push(function(A){var g=A,I=A;for(;(g.x<I.x||g.x===I.x&&g.y<I.y)&&(I=g),g=g.next,g!==A;);return I}(s));for(e.sort(X),t=0;t<e.length;t++)!function(A,g){(g=function(A,g){var I,C=g,t=A.x,i=A.y,n=-1/0;do{if(i<=C.y&&i>=C.next.y&&C.next.y!==C.y){var s=C.x+(i-C.y)*(C.next.x-C.x)/(C.next.y-C.y);if(s<=t&&n<s){if((n=s)===t){if(i===C.y)return C;if(i===C.next.y)return C.next}I=C.x<C.next.x?C:C.next}}}while(C=C.next,C!==g);if(!I)return null;if(t===n)return I;var e,h=I,r=I.x,o=I.y,a=1/0;C=I;for(;t>=C.x&&C.x>=r&&t!==C.x&&W(i<o?t:n,i,r,o,i<o?n:t,i,C.x,C.y)&&(e=Math.abs(i-C.y)/(t-C.x),q(C,A)&&(e<a||e===a&&(C.x>I.x||C.x===I.x&&function(A,g){return K(A.prev,A,g.prev)<0&&K(g.next,A,A.next)<0}(I,C)))&&(I=C,a=e)),C=C.next,C!==h;);return I}(A,g))&&(A=$(g,A),U(g,g.next),U(A,A.next))}(e[t],I),I=U(I,I.next);return I}(A,g,r,I)),A.length>80*I){for(var a=C=A[0],u=t=A[1],c=I;c<h;c+=I)(i=A[c])<a&&(a=i),(n=A[c+1])<u&&(u=n),C<i&&(C=i),t<n&&(t=n);s=0!==(s=Math.max(C-a,t-u))?1/s:0}return V(r,o,I,a,u,s),o};function B(A,g,I,C,t){var i,n;if(t===0<function(A,g,I,C){for(var t=0,i=g,n=I-C;i<I;i+=C)t+=(A[n]-A[i])*(A[i+1]+A[n+1]),n=i;return t}(A,g,I,C))for(i=g;i<I;i+=C)n=AA(i,A[i],A[i+1],n);else for(i=I-C;g<=i;i-=C)n=AA(i,A[i],A[i+1],n);return n&&z(n,n.next)&&(gA(n),n=n.next),n}function U(A,g){if(!A)return A;g=g||A;var I,C=A;do{if(I=!1,C.steiner||!z(C,C.next)&&0!==K(C.prev,C,C.next))C=C.next;else{if(gA(C),(C=g=C.prev)===C.next)break;I=!0}}while(I||C!==g);return g}function V(A,g,I,C,t,i,n){if(A){!n&&i&&function(A,g,I,C){var t=A;for(;null===t.z&&(t.z=Q(t.x,t.y,g,I,C)),t.prevZ=t.prev,t.nextZ=t.next,t=t.next,t!==A;);t.prevZ.nextZ=null,t.prevZ=null,function(A){var g,I,C,t,i,n,s,e,h=1;do{for(I=A,i=A=null,n=0;I;){for(n++,C=I,g=s=0;g<h&&(s++,C=C.nextZ);g++);for(e=h;0<s||0<e&&C;)0!==s&&(0===e||!C||I.z<=C.z)?(I=(t=I).nextZ,s--):(C=(t=C).nextZ,e--),i?i.nextZ=t:A=t,t.prevZ=i,i=t;I=C}}while(i.nextZ=null,h*=2,1<n)}(t)}(A,C,t,i);for(var s,e,h=A;A.prev!==A.next;)if(s=A.prev,e=A.next,i?function(A,g,I,C){var t=A.prev,i=A,n=A.next;if(0<=K(t,i,n))return!1;var s=(t.x<i.x?t.x<n.x?t:n:i.x<n.x?i:n).x,e=(t.y<i.y?t.y<n.y?t:n:i.y<n.y?i:n).y,h=(t.x>i.x?t.x>n.x?t:n:i.x>n.x?i:n).x,r=(t.y>i.y?t.y>n.y?t:n:i.y>n.y?i:n).y,o=Q(s,e,g,I,C),a=Q(h,r,g,I,C),u=A.prevZ,c=A.nextZ;for(;u&&u.z>=o&&c&&c.z<=a;){if(u!==A.prev&&u!==A.next&&W(t.x,t.y,i.x,i.y,n.x,n.y,u.x,u.y)&&0<=K(u.prev,u,u.next))return!1;if(u=u.prevZ,c!==A.prev&&c!==A.next&&W(t.x,t.y,i.x,i.y,n.x,n.y,c.x,c.y)&&0<=K(c.prev,c,c.next))return!1;c=c.nextZ}for(;u&&u.z>=o;){if(u!==A.prev&&u!==A.next&&W(t.x,t.y,i.x,i.y,n.x,n.y,u.x,u.y)&&0<=K(u.prev,u,u.next))return!1;u=u.prevZ}for(;c&&c.z<=a;){if(c!==A.prev&&c!==A.next&&W(t.x,t.y,i.x,i.y,n.x,n.y,c.x,c.y)&&0<=K(c.prev,c,c.next))return!1;c=c.nextZ}return!0}(A,C,t,i):function(A){var g=A.prev,I=A,C=A.next;if(0<=K(g,I,C))return!1;var t=A.next.next;for(;t!==A.prev;){if(W(g.x,g.y,I.x,I.y,C.x,C.y,t.x,t.y)&&0<=K(t.prev,t,t.next))return!1;t=t.next}return!0}(A))g.push(s.i/I),g.push(A.i/I),g.push(e.i/I),gA(A),A=e.next,h=e.next;else if((A=e)===h){n?1===n?V(A=function(A,g,I){var C=A;do{var t=C.prev,i=C.next.next}while(!z(t,i)&&H(t,C,C.next,i)&&q(t,i)&&q(i,t)&&(g.push(t.i/I),g.push(C.i/I),g.push(i.i/I),gA(C),gA(C.next),C=A=i),C=C.next,C!==A);return U(C)}(U(A),g,I),g,I,C,t,i,2):2===n&&function(A,g,I,C,t,i){var n=A;do{for(var s=n.next.next;s!==n.prev;){if(n.i!==s.i&&function(A,g){return A.next.i!==g.i&&A.prev.i!==g.i&&!function(A,g){var I=A;do{if(I.i!==A.i&&I.next.i!==A.i&&I.i!==g.i&&I.next.i!==g.i&&H(I,I.next,A,g))return!0}while(I=I.next,I!==A);return!1}(A,g)&&(q(A,g)&&q(g,A)&&function(A,g){var I=A,C=!1,t=(A.x+g.x)/2,i=(A.y+g.y)/2;for(;I.y>i!=I.next.y>i&&I.next.y!==I.y&&t<(I.next.x-I.x)*(i-I.y)/(I.next.y-I.y)+I.x&&(C=!C),I=I.next,I!==A;);return C}(A,g)&&(K(A.prev,A,g.prev)||K(A,g.prev,g))||z(A,g)&&0<K(A.prev,A,A.next)&&0<K(g.prev,g,g.next))}(n,s)){var e=$(n,s);return n=U(n,n.next),e=U(e,e.next),V(n,g,I,C,t,i),V(e,g,I,C,t,i)}s=s.next}}while(n=n.next,n!==A)}(A,g,I,C,t,i):V(U(A),g,I,C,t,i,1);break}}}function X(A,g){return A.x-g.x}function Q(A,g,I,C,t){return(A=1431655765&((A=858993459&((A=252645135&((A=16711935&((A=32767*(A-I)*t)|A<<8))|A<<4))|A<<2))|A<<1))|(g=1431655765&((g=858993459&((g=252645135&((g=16711935&((g=32767*(g-C)*t)|g<<8))|g<<4))|g<<2))|g<<1))<<1}function W(A,g,I,C,t,i,n,s){return 0<=(t-n)*(g-s)-(A-n)*(i-s)&&0<=(A-n)*(C-s)-(I-n)*(g-s)&&0<=(I-n)*(i-s)-(t-n)*(C-s)}function K(A,g,I){return(g.y-A.y)*(I.x-g.x)-(g.x-A.x)*(I.y-g.y)}function z(A,g){return A.x===g.x&&A.y===g.y}function H(A,g,I,C){var t=_(K(A,g,I)),i=_(K(A,g,C)),n=_(K(I,C,A)),s=_(K(I,C,g));return t!==i&&n!==s||(0===t&&J(A,I,g)||(0===i&&J(A,C,g)||(0===n&&J(I,A,C)||!(0!==s||!J(I,g,C)))))}function J(A,g,I){return g.x<=Math.max(A.x,I.x)&&g.x>=Math.min(A.x,I.x)&&g.y<=Math.max(A.y,I.y)&&g.y>=Math.min(A.y,I.y)}function _(A){return 0<A?1:A<0?-1:0}function q(A,g){return K(A.prev,A,A.next)<0?0<=K(A,g,A.next)&&0<=K(A,A.prev,g):K(A,g,A.prev)<0||K(A,A.next,g)<0}function $(A,g){var I=new IA(A.i,A.x,A.y),C=new IA(g.i,g.x,g.y),t=A.next,i=g.prev;return(A.next=g).prev=A,(I.next=t).prev=I,(C.next=I).prev=C,(i.next=C).prev=i,C}function AA(A,g,I,C){I=new IA(A,g,I);return C?(I.next=C.next,(I.prev=C).next.prev=I,C.next=I):(I.prev=I).next=I,I}function gA(A){A.next.prev=A.prev,A.prev.next=A.next,A.prevZ&&(A.prevZ.nextZ=A.nextZ),A.nextZ&&(A.nextZ.prevZ=A.prevZ)}function IA(A,g,I){this.i=A,this.x=g,this.y=I,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function CA(A){return function(A){if(Array.isArray(A))return tA(A)}(A)||function(A){if("undefined"!=typeof Symbol&&null!=A[Symbol.iterator]||null!=A["@@iterator"])return Array.from(A)}(A)||function(A,g){if(A){if("string"==typeof A)return tA(A,g);var I=Object.prototype.toString.call(A).slice(8,-1);return"Map"===(I="Object"===I&&A.constructor?A.constructor.name:I)||"Set"===I?Array.from(A):"Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I)?tA(A,g):void 0}}(A)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tA(A,g){(null==g||g>A.length)&&(g=A.length);for(var I=0,C=new Array(g);I<g;I++)C[I]=A[I];return C}var iA={area:function(A){for(var g=A.length,I=0,C=g-1,t=0;t<g;C=t++)I+=A[C].x*A[t].y-A[t].x*A[C].y;return.5*I},isClockWise:function(A){return iA.area(A)<0},triangulateShape:function(A,g){var I=[],C=[],t=[];nA(A),sA(I,A);var i=A.length;g.forEach(nA);for(var n=0;n<g.length;n++)C.push(i),i+=g[n].length,sA(I,g[n]);for(var s=P(I,C),e=0;e<s.length;e+=3)t.push(s.slice(e,e+3));return t},triangulate:function(A){(t=[]).push.apply(t,CA(A[0]));for(var g=[],I=1;I<A.length;I++){var C=[];C.push.apply(C,CA(A[I])),g.push(C)}if(!iA.isClockWise(t))for(var t=t.reverse(),i=0,n=g.length;i<n;i++){var s=g[i];iA.isClockWise(s)&&(g[i]=s.reverse())}return iA.triangulateShape(t,g)}};function nA(A){var g,I=A.length;2<I&&(g=A[I-1],I=A[0],g.x===I.x&&g.y===I.y)&&A.pop()}function sA(A,g){for(var I=0;I<g.length;I++)A.push(g[I].x),A.push(g[I].y)}var eA=1e-5,hA=Math.PI/180,rA=180/Math.PI,a=function A(){!function(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}(this,A)};Object.assign(a.prototype,{aA:function(){return eA},uA:function(){return hA},cA:function(){return rA},lA:function(A){return A<eA&&-eA<A},fA:function(A){return eA<A},vA:function(A){return A<-eA},dA:function(A,g,I){return(A.x-I.x)*(g.y-I.y)-(g.x-I.x)*(A.y-I.y)},distanceOfTwoPoints:function(A,g){return A&&g?Math.sqrt((A.x-g.x)*(A.x-g.x)+(A.y-g.y)*(A.y-g.y)):Number.NaN},distance:function(A,g){return Math.sqrt(Math.pow(g.x-A.x,2)+Math.pow(g.y-A.y,2))},isPolygonContainPoint:function(A,g){for(var I=0,C=0;C<A.length;C++){var t=A[C].x,i=A[C].y,n=0,s=0,s=C<A.length-1?(n=A[C+1].x,A[C+1].y):(n=A[0].x,A[0].y);if(t===g.x&&i===g.y||n===g.x&&s===g.y)return!0;if(s!==i){var e=t+(g.y-i)*(n-t)/(s-i);if(e===g.x)return!0;t!==n?e<=Math.max(t,n)&&e>=Math.min(t,n)&&e>g.x&&e!==t&&(e===n&&0<(i-g.y)*(s-g.y)?I+=2:I++):e<=Math.max(t,n)&&e>=Math.min(t,n)&&e>g.x&&(e===n&&0<(i-g.y)*(s-g.y)?I+=2:I++)}}return 0<I%2},MA:function(A,g,I,C){return!(Math.max(A.x,g.x)<Math.min(I.x,C.x))&&(!(Math.max(A.y,g.y)<Math.min(I.y,C.y))&&(!(Math.max(I.x,C.x)<Math.min(A.x,g.x))&&!(Math.max(I.y,C.y)<Math.min(A.y,g.y))))},pA:function(A,g,I,C){return!(Math.max(A.x,g.x)<Math.min(I.x,C.x))&&(!(Math.max(A.y,g.y)<Math.min(I.y,C.y))&&(!(Math.max(I.x,C.x)<Math.min(A.x,g.x))&&(!(Math.max(I.y,C.y)<Math.min(A.y,g.y))&&(!(this.dA(I,g,A)*this.dA(g,C,A)<0)&&!(this.dA(A,C,I)*this.dA(C,g,I)<0)))))},mA:function(A,g,I){return!(A.x<g.x)&&(!(A.y<g.y)&&(!(A.x>I.x)&&!(A.y>I.y)))},yA:function(A,g,I){var C=Math.min(g.x,I.x),t=Math.max(g.x,I.x),i=Math.min(g.y,I.y),I=Math.max(g.y,I.y);return!(A.x<C||A.x>t||A.y<i||A.y>I)},bA:function(A,g,I){var C=Math.min(I.x,g.x),t=Math.max(I.x,g.x),i=Math.min(I.y,g.y),g=Math.max(I.y,g.y);return!(A.x<C||A.x>t||A.y<i||A.y>g)},wA:function(A,g,I){for(var C,t,i=!1,n=0;n<I;n++)C=g[n],t=g[(n+1)%I],(C.y<A.y&&t.y>=A.y||t.y<A.y&&C.y>=A.y)&&(C.x<=A.x||t.x<=A.x)&&C.x+(A.y-C.y)/(t.y-C.y)*(t.x-C.x)<A.x&&(i=!i);return i},EA:function(A,g,I){return(A.x-g.x)*(I.y-g.y)==(I.x-g.x)*(A.y-g.y)&&Math.min(g.x,I.x)<=A.x&&A.x<=Math.max(g.x,I.x)&&Math.min(g.y,I.y)<=A.y&&A.y<=Math.max(g.y,I.y)},RA:function(A,g){return Math.sqrt((A.x-g.x)*(A.x-g.x)+(A.y-g.y)*(A.y-g.y))},TA:function(A,g){return(A.x-g.x)*(A.x-g.x)+(A.y-g.y)*(A.y-g.y)},kA:function(A,g,I){var C=g.x,t=g.y,i=I.x,n=I.y,s=A.x,e=A.y,h=i-C,r=n-t,o=h*h+r*r,g=s-C,I=e-t,A=g*g+I*I;if(this.lA(o))return this.lA(A)?0:A;o=Math.sqrt(o),h/=o,r/=o,I=h*g+r*I;if(!this.fA(I))return A;if(!this.vA(I-o)){i=s-i,n=e-n;return i*i+n*n}h=s-(C+I*h),r=e-(t+I*r);return h*h+r*r},OA:function(A,g,I,C){var t=g.x,i=g.y,n=I.x,s=I.y,e=A.x,h=A.y,r=n-t,o=s-i,a=Math.sqrt(r*r+o*o),u=e-t,c=h-i,A=Math.sqrt(u*u+c*c);if(this.lA(a))return C.x=g.x,C.y=g.y,this.lA(A)?0:A;r/=a,o/=a,c=r*u+o*c;if(!this.fA(c))return C.x=g.x,C.y=g.y,A;if(!this.vA(c-a)){n=e-n,s=h-s,s=Math.sqrt(n*n+s*s);return C.x=I.x,C.y=I.y,s}r=t+c*r,o=i+c*o,e-=r,h-=o,h=Math.sqrt(e*e+h*h);return C.x=r,C.y=o,h},xA:function(A,g){for(var I=0,C=0,t=0,i=0;i<g;i++){var n=A[i],s=A[(i+1)%g],e=(n.x*s.y-n.y*s.x)/2;I+=e,C+=e*(n.x+s.x)/3,t+=e*(n.y+s.y)/3}return{x:C/=I,y:t/=I}},ZA:function(A){for(var g=iA.triangulate([A]),I=0,C=0,t=0,i=0;i<g.length;i++){var n=A[g[i][0]],s=A[g[i][1]],e=A[g[i][2]],h=s.x-n.x,r=s.y-n.y,o=e.x-n.x,r=(h*(e.y-n.y)-o*r)/2;I+=r,C+=(n.x+s.x+e.x)/3*r,t+=(n.y+s.y+e.y)/3*r}return{x:C/I,y:t/I}},SA:function(A,g){if(g<3)return 0;for(var I=0,C=0;C<g;++C){var t=A[C],i=A[(C+1)%g];I+=t.x*i.y-t.y*i.x}return Math.abs(I/2)},jA:function(A,g,I,C,t){if(this.pA(A,g,I,C)){var i=(C.x-I.x)*(A.y-g.y)-(g.x-A.x)*(I.y-C.y),n=(A.y-I.y)*(g.x-A.x)*(C.x-I.x)+I.x*(C.y-I.y)*(g.x-A.x)-A.x*(g.y-A.y)*(C.x-I.x);return t.x=n/i,i=(A.x-g.x)*(C.y-I.y)-(g.y-A.y)*(I.x-C.x),n=g.y*(A.x-g.x)*(C.y-I.y)+(C.x-g.x)*(C.y-I.y)*(A.y-g.y)-C.y*(I.x-C.x)*(g.y-A.y),t.y=n/i,1}return 0},GA:function(A,g,I,C,t){var i=Math.min(I.x,C.x),n=Math.max(I.x,C.x),s=Math.min(I.y,C.y),e=Math.max(I.y,C.y),h=A.x,r=A.y,o=I.x,a=I.y,u=C.x,c=C.y;if(90==g){if(A.x<i||A.x>n)return!1;var l=(c-a)/(u-o)*(h-o)+a;return t.y=l,t.x=h,l<r?!1:!!this.bA(t,I,C)}if(270==g){if(A.x<i||A.x>n)return!1;A=(c-a)/(u-o)*(h-o)+a;return t.y=A,t.x=h,r<A?!1:!!this.bA(t,I,C)}if(270!=g&&90!=g&&n-i<.001){n=i,i=Math.tan(g/180*Math.PI)*(n-h)+r;if(t.y=i,t.x=n,this.bA(t,I,C)){n=n-h,i=i-r;return 0<n/Math.sqrt(n*n+i*i)*Math.cos(g/180*Math.PI)}}if(e-s<=1e-6){e=s,s=1/Math.tan(g/180*Math.PI)*(e-r)+h;if(t.x=s,t.y=e,this.bA(t,I,C)){var s=s-h,f=e-r;return 0<s/Math.sqrt(s*s+f*f)*Math.cos(g/180*Math.PI)}return!1}f=Math.tan(g/180*Math.PI),u=(c-a)/(u-o),u=(a-r-(u*o-f*h))/(f-u),f=r+f*(u-h);if(t.x=u,t.y=f,this.bA(t,I,C)){h=u-h,r=f-r;return 0<h/Math.sqrt(h*h+r*r)*Math.cos(g/180*Math.PI)}return!1},LA:function(A,g,I,C){var t=Math.min(g.x,I.x),i=Math.max(g.x,I.x),n=Math.min(g.y,I.y),s=Math.max(g.y,I.y),e=A.x,h=A.y,r=g.x,o=g.y,a=I.x,A=I.y;if(Math.abs(r-a)<1e-5)return C.x=r,n<=(C.y=h)&&h<=s;if(Math.abs(o-A)<1e-5)return C.x=e,C.y=o,t<=e&&e<=i;i=-1/((A-o)/(a-r)),a=(A-o)/(a-r),a=(o-h-(a*r-i*e))/(i-a),e=h+i*(a-e);return C.x=a,C.y=e,!!this.bA(C,g,I)},NA:function(A,g){return{x:A.y*g.z-A.z*g.y,y:A.z*g.x-A.x*g.z,z:A.x*g.y-A.y*g.x}},YA:function(A,g){return A.x*g.x+A.y*g.y+A.z*g.z},DA:function(A){return Math.sqrt(A.x*A.x+A.y*A.y+A.z*A.z)},FA:function(A,g){return A.x*g.x+A.y*g.y},PA:function(A){return Math.sqrt(A.x*A.x+A.y*A.y)},BA:function(A,g){if(0==A.x&&0==A.y||0==g.x&&0==g.y)return 0;var I={x:A.x,y:A.y,z:0},C={x:g.x,y:g.y,z:0},I=this.NA(I,C),C=this.FA(A,g),g=Math.acos(C/(this.PA(A)*this.PA(g)));return 0<I.z?g/Math.PI*180:360-g/Math.PI*180},UA:function(A,g,I,C){for(var t=0;t<I.length;t++){var i=I[t],n=I[(t+1)%I.length];if(1==this.jA(A,g,i,n,C))return!0}return!1},VA:function(A,g,I,C,t){var i=Math.min(A.x,I.x,C.x),n=Math.max(A.x,I.x,C.x),s=Math.min(A.y,I.y,C.y),e=Math.max(A.y,I.y,C.y),e=Math.sqrt((n-i)*(n-i)+(e-s)*(e-s)),s=g/180*Math.PI,g=e*Math.cos(s)+A.x,s=e*Math.sin(s)+A.y;return 1==this.jA(A,{x:g,y:s},I,C,t)}});var oA=new a;function aA(A){return function(A){if(Array.isArray(A))return uA(A)}(A)||function(A){if("undefined"!=typeof Symbol&&null!=A[Symbol.iterator]||null!=A["@@iterator"])return Array.from(A)}(A)||function(A,g){if(A){if("string"==typeof A)return uA(A,g);var I=Object.prototype.toString.call(A).slice(8,-1);return"Map"===(I="Object"===I&&A.constructor?A.constructor.name:I)||"Set"===I?Array.from(A):"Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I)?uA(A,g):void 0}}(A)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uA(A,g){(null==g||g>A.length)&&(g=A.length);for(var I=0,C=new Array(g);I<g;I++)C[I]=A[I];return C}function cA(A,g){for(var I=0;I<g.length;I++){var C=g[I];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(A,C.key,C)}}C=function(){function g(A){!function(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}(this,g),this.XA=180/Math.PI,this.QA=[295829355.45,147914677.73,73957338.86,36978669.43,18489334.72,9244667.36,4622333.68,2311166.84,1155583.42,577791.71,288895.85,144447.93,72223.96,36111.98,18056,9028,4514,2257,1128,564,282,141,70,35,17,8,4,2,1],this.A=null,this.WA=null,this.KA=new E,this.zA=5,this.HA=.2,this.JA=!0,this._A=!1,this.qA=!0,this.$A=!1,this.Ag=1.2,this.gg=80,this.Ig=30,this.Cg=21,this.tg=!0,this.ig=22,this.ng=1.3,this.sg="",this.eg=100,this.hg=3,this.rg=1,this.og=6,this.ag=10,this.ug=5,this.cg=0,this.lg=fengmap.FMLanguageType.ZH,this.fg=fengmap.FMNaviMode.MODULE_SHORTEST,this.vg=fengmap.FMNaviPriority.PRIORITY_DEFAULT,this.dg=!1,this.Mg=!0,this.pg=[],this.mg={radius:.5,dash:{size:4,gap:2}},this.yg=!0,this.bg(A),this.a()}var A,I,C;return A=g,(I=[{key:"locationMarker",get:function(){return this.wg},set:function(A){this.wg=A}},{key:"naviResult",get:function(){return this.Eg}},{key:"on",value:function(A,g){this.KA.J(A,g)}},{key:"off",value:function(A,g){this.KA.$(A,g)}},{key:"dispose",value:function(){this.stop(),this.A=null,this.WA&&(this.WA.dispose(),this.WA=null)}},{key:"setLanguage",value:function(A){this.lg!=A&&(this.lg=A,this.Rg())}},{key:"setObstructions",value:function(A){this.WA.setObstructions(A)}},{key:"setStartPoint",value:function(A,g){this.Tg=Object.assign({},this.Tg,A,{x:A.x,y:A.y,level:A.level,height:"number"==typeof A.height?A.height:this.og});var I=null;return I=A.url&&!g?this.kg(this.Tg,!0):I}},{key:"setDestPoint",value:function(A,g){this.Og=Object.assign({},this.Og,A,{x:A.x,y:A.y,level:A.level,height:"number"==typeof A.height?A.height:this.og});var I=null;return I=A.url&&!g?this.kg(A,!1):I}},{key:"route",value:function(A,g,I){this.bg(A),this.xg({mode:this.fg,priority:this.vg,toDoors:this.dg,obstruct:this.Mg,viapoints:this.pg},g,I)}},{key:"naviConstraint",value:function(A){if(this.Tg&&this.Og){var g={index:-1,coords:{level:A.level},angle:null,distance:Number.MAX_VALUE,distanceToNext:Number.MAX_VALUE,remain:this.Zg},I=this.Sg(),C=I.map(function(A){return{x:A.x,y:A.z,z:0,level:A.level,index:A.jg}}),t=this.Gg(I).map(function(A){return{x:A.x,y:A.z,z:0,level:A.level,index:A.jg}}),i=-1,n=null;if(this.Lg){if(!(n=this.WA.getNaviGraph(A.level)))return;i=n.queryContainExtentID(A)}for(var s={},e=1;e<t.length;e++){var h,r=t[e-1],o=t[e],a=this.Ng[r.index].endPoint;r.level===A.level&&o.level===A.level&&(n&&i!=n.queryContainExtentID(r)||(h=oA.OA(A,r,o,s))<g.distance&&(g.distance=h,Object.assign(g.coords,s),g.angle=this.Yg(r,o),g.index=r.index,g.distanceToNext=oA.RA(s,a)))}if(-1==g.index)for(var u=0;u<t.length;u++){var c,l=t[u];l.level!=A.level||i!=n.queryContainExtentID(l)||(c=oA.RA(A,l))<g.distance&&(g.distance=c,Object.assign(g.coords,l),g.index=l.index,g.distanceToNext=0,C[l.index+1]&&t[l.index+1].level==A.level&&(g.distanceToNext=oA.RA(A,C[l.index+1])))}if(-1!=g.index){for(var f,v,d=0,M=C.length-1;M>g.index;M--)M-1>g.index&&(f=C[M],v=C[M-1],f.level==v.level&&(d+=oA.RA(f,v)));C[g.index+1]&&C[g.index+1].level==g.coords.level&&(d+=oA.RA(C[g.index+1],g.coords)),g.remain=d}return g}}},{key:"pathConstraint",value:function(A,g){return this.WA?this.WA.pathConstraint(A,g):null}},{key:"locate",value:function(A,g){this.Dg&&this.stop(),A.level!=this.Fg&&(this.Fg=A.level),this.Pg(A,g)}},{key:"locateNoConstraint",value:function(A,g){this.Dg&&this.stop(),A.level!==this.Fg&&(this.Fg=A.level),this.Bg(A,g)}},{key:"clearLocationMarker",value:function(){this.wg&&(this.wg.remove(),this.wg=null)}},{key:"clearMarkers",value:function(){this.Ug&&(this.Ug.remove(),this.Ug=null,this.Tg=null),this.Vg&&(this.Vg.remove(),this.Vg=null,this.Og=null)}},{key:"drawNaviLine",value:function(A){if(this.Tg&&this.Og)return this.Xg=this.Qg(this.Wg,A),this.Xg}},{key:"clearNaviLine",value:function(){this.Xg&&(this.Xg.remove(),this.Xg=null)}},{key:"clearAll",value:function(){this.clearMarkers(),this.clearNaviLine(),this.clearLocationMarker()}},{key:"overview",value:function(A,g){var I,C;0!=this.Wg.length&&(I=new F,C=[Number.MAX_VALUE,-Number.MAX_VALUE],this.Wg.forEach(function(A){A.level<C[0]&&(C[0]=A.level),A.level>C[1]&&(C[1]=A.level),I.oA(A.pointList)}),this.Kg(A,I,C,g))}},{key:"focusNaviLineSegment",value:function(A,g,I){var C;0==this.Ng.length||(C=this.Ng[A])&&((A=new F).oA([C.startPoint,C.endPoint]),C=[Math.min(C.startLevel,C.endLevel),Math.max(C.startLevel,C.endLevel)],this.Kg(Object.assign({center:A.center},g),A,C,I))}},{key:"simulate",value:function(A){var g,I,C=this;this.Tg&&this.Og&&0!=this.Wg.length&&(this.bg(A),this.zg=!(g={}),this.Hg=this.A.getRotation(),I=g.Ag||this.Ag,g.Cg=g.Cg||this.Cg||0,this.wg||this.Jg(),this.wg.rotateTo({heading:-this.Hg}),this.JA?this._g=this.qg(this.Tg.level,I,function(){C.$g=C.AI(C.Tg,I,function(){var A=g.Cg>C.ig?C.ig:g.Cg;C.tg?C.gI=C.II(C.gg,I,function(){C.CI=C.tI(A,I,function(){C.iI()})}):C.CI=C.tI(A,I,function(){C.iI()})})}):this.iI())}},{key:"pause",value:function(){this.gI&&this.gI.pause(),this.CI&&this.CI.pause(),this.$g&&this.$g.pause(),this._g&&this._g.pause(),this.nI=!0}},{key:"resume",value:function(){this.gI&&this.gI.resume(),this.CI&&this.CI.resume(),this.$g&&this.$g.resume(),this._g&&this._g.resume(),this.nI=!1}},{key:"stop",value:function(){this.sI=!0,this.eI.stop(),this.gI&&(this.A.removeAnimater(this.gI),this.gI=null),this.CI&&(this.A.removeAnimater(this.CI),this.CI=null),this.$g&&(this.A.removeAnimater(this.$g),this.$g=null),this._g&&(this.A.removeAnimater(this._g),this._g=null),this.hI&&this.A.off("update",this.hI),this.nI=!1,this.rI=null,this.oI=null,this.aI=0,this.zg=!1,this.uI=0,this.cI=!1,this.hI=null,this.Dg=!1,this.lI=!1,this.fI=0,this.vI=null}}])&&cA(A.prototype,I),C&&cA(A,C),g}();Object.assign(C.prototype,{bg:function(A){A&&(void 0!==A.map&&(this.A=A.map),void 0!==A.analyser&&(this.WA=A.analyser),void 0!==A.speed&&(this.zA=A.speed),void 0!==A.followSpeed&&(this.HA=A.followSpeed),void 0!==A.followPosition&&(this.JA=A.followPosition),void 0!==A.followAngle&&(this._A=A.followAngle),void 0!==A.locationMarkerFollowAngle&&(this.qA=A.locationMarkerFollowAngle),void 0!==A.isMultiLevels&&(this.$A=A.isMultiLevels),void 0!==A.inTime&&(this.Ag=A.inTime),void 0!==A.tiltAngle&&(this.gg=A.tiltAngle),void 0!==A.changeFloorTiltAngle&&(this.Ig=A.changeFloorTiltAngle),void 0!==A.changeTiltAngle&&(this.tg=A.changeTiltAngle),void 0!==A.zoom&&(this.Cg=A.zoom),void 0!==A.maxZoom&&(this.ig=A.maxZoom),void 0!==A.extendScale&&(this.ng=A.extendScale),void 0!==A.locationMarkerUrl&&(this.sg=A.locationMarkerUrl),void 0!==A.locationMarkerSize&&(this.eg=A.locationMarkerSize),void 0!==A.locationMarkerHeight&&(this.hg=A.locationMarkerHeight),void 0!==A.lineMarkerHeight&&(this.rg=A.lineMarkerHeight),void 0!==A.imageMarkerHeight&&(this.og=A.imageMarkerHeight),void 0!==A.directionAssert&&(this.ag=A.directionAssert),void 0!==A.combineAsset&&(this.ug=A.combineAsset),void 0!==A.completeDistance&&(this.cg=A.completeDistance),void 0!==A.lg&&(this.ag=A.directionAssert),void 0!==A.mode&&(this.fg=A.mode),void 0!==A.priority&&(this.vg=A.priority),void 0!==A.toDoors&&(this.dg=A.toDoors),void 0!==A.obstruct&&(this.Mg=A.obstruct),void 0!==A.viapoints&&(this.pg=A.viapoints),void 0!==A.lineStyle&&Object.assign(this.mg,A.lineStyle),void 0!==A.linePassed&&(this.yg=A.linePassed))},a:function(){this.KA=new E,this.Lg=void 0!==fengmap.FMNaviAnalyser&&this.WA instanceof fengmap.FMNaviAnalyser,this.Tg=null,this.Og=null,this.Ug=null,this.Vg=null,this.wg=null,this.Eg=null,this.Wg=[],this.dI=[],this.Ng=[],this.Zg=0,this.MI=[],this.pI=0,this.eI=new T,this.nI=!1,this.rI=null,this.oI=null,this.Hg=null,this.aI=0,this.zg=!1,this.uI=0,this.Fg=null,this.cI=!1,this.hI=null,this.Dg=!1,this.lI=!1,this.fI=0,this.vI=null,this.gI=null,this.CI=null,this.$g=null,this._g=null},Jg:function(){this.wg||(this.wg=new fengmap.FMLocationMarker({id:"location",level:this.Tg.level,x:this.Tg.x,y:this.Tg.y,url:this.sg||"",size:this.eg}),this.wg.addTo(this.A))},mI:function(A){for(var g,I=arguments.length<=1?0:arguments.length-1,C=0;C<I;C++){var t=C+1<1||arguments.length<=C+1?void 0:arguments[C+1];if(A[t])return A[t]}return(g=(arguments.length<=1?0:arguments.length-1)-1+1)<1||arguments.length<=g?void 0:arguments[g]},yI:function(A){if(this.Tg&&this.Og)return A==this.Tg.level||A==this.bI.level},kg:function(A,g){if(A.level){var I=A.url||(g?"image/small/marker/nav_location_start.png":"image/small/marker/nav_location_dest.png"),C=g?this.Ug:this.Vg;C&&C.remove();var t=this.A.getFloor(A.level);if(t)return(C=new fengmap.FMImageMarker(Object.assign({map:this.A,url:I,callback:function(){A.callback&&A.callback(C)},anchor:fengmap.FMMarkerAnchor.BOTTOM,depth:!1,collision:!1},A))).addTo(t),g?this.Ug=C:this.Vg=C,C}},wI:function(){for(var A=this.Wg,g=[],I=null,C=null,t=0;t<A.length;t++){var i=A[t],n=I==i.level;0==i.length&&0!=t&&t!=A.length-1||(n||(I=i.level,C&&g.push(C),C={level:i.level,pointList:[]}),C.pointList=C.pointList.concat(i.pointList))}return C&&g.push(C),this.EI=g},RI:function(A){for(var g=0;g<A.length-1;g++){var I,C,t=A[g];t.length&&(I=t.pointList[t.pointList.length-1],C=A[g+1].pointList[0],.2<oA.RA(I,C)&&t.pointList.push(Object.assign({},C)))}},xg:function(A,g,I){var C=this;this.Tg&&this.Og&&(A=Object.assign({start:this.Tg,dest:this.Og},A),this.TI(A,function(A){C.Eg=A,C.kI(),C.RI(C.Wg),C.wI(),C.Rg(),g&&g(A)},function(A){I&&I(A)}))},kI:function(){if(this.Eg){this.Wg=[];for(var A=Number.NaN,g=null,I=0;I<this.Eg.subs.length;I++){var C,t=this.Eg.subs[I];A!=t.levels[0]&&((g={length:0,level:t.levels[0],pointList:[]}).pointList.push(t.waypoint.points[0]),this.Wg.push(g),A=t.levels[0]),t.levels[0]==t.levels[1]?((C=g.pointList).push.apply(C,aA(t.waypoint.points.slice(1))),g.length+=t.distance):(g={length:0,level:t.levels[0],pointList:[t.waypoint.points[0]]},this.Wg.push(g),g={length:0,level:t.levels[1],pointList:[t.waypoint.points[1]]},this.Wg.push(g))}}},Rg:function(){if(this.Eg){this.dI=[],this.Ng=[],this.MI=[],this.Zg=0;for(var A=this.lg,g=this.Eg.subs,I=0,C=null,t=0;t<g.length;t++){var i=g[t],n=i.waypoint.points,s=i.waypoint.direction[A];this.dI.push(i.instruction[A]);s={startDirection:s[0],startIndex:void 0,startLevel:i.levels[0],startPoint:n[0],endDirection:s[1],endIndex:void 0,endLevel:i.levels[1],endPoint:n.slice(-1)[0],distance:i.distance};i.levels[0]==i.levels[1]?(s.startIndex=I,I+=n.length-1,s.endIndex=I):I=0,this.Ng.push(s),null!=C&&i.levels[0]==i.levels[1]||(C={level:i.levels[1],distance:0},this.MI.push(C)),C.distance+=i.distance}this.Zg=this.Eg.distance}},Qg:function(i,A){if(0===i.length)return null;var g=Object.assign({},this.mg);A&&A.style&&Object.assign(g,A.style);for(var n=A&&A.height?A.height:this.rg,s=[],I=0;I<i.length;I++)(function(A){var g=i[A],I=g.pointList;if(0===I.length)return;var A=g.level,C=[];I.forEach(function(A){var g=parseFloat(""+A.x),A=parseFloat(""+A.y);C.push({x:g,y:A,z:n})}),I.length<2&&(g=parseFloat(""+I[0].x),t=parseFloat(""+I[0].y),C.push({x:g,y:t,z:n}));var t=new fengmap.FMSegment;t.level=A,t.points=C,s.push(t)})(I);g=new fengmap.FMLineMarker(Object.assign({segments:s},g));return g.passed=A&&A.passed?A.passed:this.yg,g.addTo(this.A),g},TI:function(A,g,I){var C=this;this.WA.route(A,function(A){C.dg&&(C.Og.x=C.WA.OI.x,C.Og.y=C.WA.OI.y),g&&g(A)},function(A){I&&I(A)})},AI:function(A,g,I){return this.A.setCenter({x:A.x,y:A.y,animate:"number"==typeof g,duration:"number"==typeof g?g:0,finish:I})},II:function(A,g,I){return this.A.setTilt({tilt:A,animate:"number"==typeof g,duration:"number"==typeof g?g:0,finish:I})},xI:function(A,g,I){return this.A.setRotation({rotation:A,animate:"number"==typeof g,duration:"number"==typeof g?g:0,finish:I})},tI:function(A,g,I){return this.A.setZoom({zoom:A,animate:"number"==typeof g,duration:"number"==typeof g?g:0,finish:I},!0)},qg:function(A,g,I){return this.A.setVisibleLevels([A]),this.A.getLevel()==A?(I&&I(),null):this.A.setLevel({level:A,animate:"number"==typeof g,duration:"number"==typeof g?g:0,finish:I})},Gg:function(A){var g=this.Wg;if(0==g.length)return[];for(var I=[],C=0,t=0;t<g.length;t++){var i=g[t];if(!(i.pointList.length<=1))for(var n=i.level,s=0;s<i.pointList.length;s++){var e=i.pointList[s],e=new L(e.x,0,e.y);e.level=n;for(var h=-1,r=1;r<A.length;r++)if(C<A[r].ZI){h=A[r-1].jg;break}e.jg=-1!=h?h:A[A.length-1].jg,I.push(e),C++}}return I},SI:function(A,g){if(0==g)return A[0];for(var I,C=0,t=0,i=A[0],n=1;n<A.length;n++)if((I=A[n]).level==i.level){if(g<=(C+=(s=I.clone().sub(i)).length())){s.normalize();var s=i.clone().add(s.clone().multiplyScalar(g-t));return s.level=I.level,s.index=I.jg,s}(i=I.clone()).level=I.level,i.index=I.jg,t=C}else i=I;var e=A[A.length-1];return e.index=e.jg,e},Sg:function(){if(!this.Tg||!this.Og||!this.Ng||0==this.Ng.length)return[];var C=-1,t=0,i=-1,A=this.Ng.map(function(A,g){var I=new L(A.startPoint.x,0,A.startPoint.y);return I.level=A.startLevel,I.jg=g,C=g,A.startLevel!=A.endLevel?(t+=i,I.ZI=t,t++):I.ZI=A.startIndex+t,i=A.endIndex,I}),g=this.Ng[this.Ng.length-1],I=new L(g.endPoint.x,0,g.endPoint.y);return I.level=g.endLevel,I.jg=C+1,I.ZI=g.endIndex+t,A.push(I),A},jI:function(A,g){var I=this,C={},t=C.Ag||this.Ag;C.Cg=C.Cg||this.Cg||0;var i=C.Cg>this.ig?this.ig:C.Cg;this.$A||(C={x:this.wg.x,y:this.wg.y,height:this.wg.height,level:A.level},(A=this.EI[this.fI])&&A.pointList&&0<A.pointList.length&&(C=Object.assign(C,A.pointList[0])),this.wg.moveTo(C),this.wg.visible=!0),this.tg&&(this.gI=this.II(this.gg,t,null)),this.$g=this.AI(g,t,function(){I.CI=I.tI(i,t,function(){I.cI=!1})})},Yg:function(A,g){var I=new L(0,0,1),A=new L(A.x,0,A.y),g=new L(g.x,0,g.y).clone().sub(A).normalize(),A=g.angleTo(I)*oA.cA();return 0<g.clone().cross(I).y?360-A:A},GI:function(A,g,I){return A==g?A:(180<Math.abs(g-A)&&(A<g?A+=360:g+=360),(A*(1-I)+g*I)%360)},LI:function(A,g,I){var C=this.QA,t=Math.floor(g),i=C[t-1]*(1-g%1)+C[t]*(g%1);for(i*=I,t=0;i<C[t];)t++;return t+1-(i-C[t])/(C[t-1]-C[t])},NI:function(A,g,I){for(var C=new F,t=0;t<I.length;t++)for(var i=I[t],n=0;n<g.length;n++){var s=fengmap.FMUtil.coordsMapToScreen(A,{x:g[n].x,y:g[n].y,level:i,height:0});C.oA([s])}var e=C.size,h=A.getContainer().clientHeight,r=A.getContainer().clientWidth;return r/h>e.x/e.y?e.y/h:e.x/r},YI:function(A){var g,I,C,t,i,n,s=this;this.sI||requestAnimationFrame(this.YI.bind(this,A)),this.lI||(A.cnt++,A.cnt==A.step&&(A.cnt=0,C=this.eI.getDelta(),this.cI||this.nI||(this.aI+=this.zA*C,this.aI<=0||(g=Object.assign({},this.SI(A.ps,this.aI)),I=this.Zg-this.aI,C=g.y,g.y=g.z,g.z=C,this.vI={distance:0,remain:I<this.pI?this.pI:I,walk:this.aI,point:g,level:g.level,index:g.index-1},null!=this.rI&&(this.oI=this.Yg(this.rI,g)),this.rI=Object.assign({},g),!g||I<this.pI&&this.zg?this.lI=!0:(I<this.pI&&!this.zg&&(this.zg=!0),this.uI||(this.uI=A.ps[0].level),this.Dg&&this.uI!=g.level&&(this.uI=g.level,this.fI++,t={x:g.x,y:g.y,level:g.level},this.JA&&(i=(A={}).Ag||this.Ag,A.Cg=A.Cg||this.Cg||0,n=A.Cg>this.ig?this.ig:A.Cg,this.cI=!0,this.tg&&(this.gI=this.II(this.Ig,i,null)),this.$A||(this.wg.visible=!1),this._g=this.qg(t.level,i,function(){s.CI=s.tI(n,i,function(){s.locationMarker.moveTo({x:t.x,y:t.y,height:s.hg,level:t.level}),s.AI(t,i,function(){s.tg?s.gI=s.II(s.gg,i,function(){s.jI(g,t)}):s.jI(g,t)})})})),this.KA.AA({type:"transit",level:g.level})))))))},DI:function(){this.sI=!1;var A=this.Gg(this.Sg());this.eI.start(),this.Dg=!0,this.lI=!1,this.fI=0,this.YI({step:2,cnt:0,ps:A})},FI:function(){if(!this.cI&&!this.nI){if(this.rI){var A=new L(this.wg.x,this.wg.y,0).lerp(this.rI,this.zg?1:this.HA);A.level=this.rI.level,this.wg.moveTo({x:A.x,y:A.y,height:this.hg,level:A.level});var g=this.naviConstraint(A);if(this.Xg&&(this.Xg.passed?this.Xg.moveProportion(1-g.remain/this.Zg):this.Xg.moveProportion(0)),this.KA.AA(Object.assign({},this.vI,{type:"walking",distance:g.distance,remain:g.remain,walk:this.Zg-g.remain,distanceToNext:g.distanceToNext,angle:g.angle,point:g.coords,level:A.level,index:g.index,isReal:!1})),this.JA?this.$g=this.AI(A):this.A.updateCountDown_=0,this.lI)return this.stop(),void this.KA.AA({type:"complete"})}null!=this.oI&&(A=this.GI(this.Hg,this.oI,this.HA),this.Hg=A,this.wg.rotateTo({heading:-A}),this._A&&this.xI(A))}},iI:function(){this.DI(),this.hI=this.FI.bind(this),this.A.on("update",this.hI)},Pg:function(A,g){var I=this.naviConstraint(A);I&&(this.Xg&&(this.Xg.passed?this.Xg.moveProportion(1-I.remain/this.Zg):this.Xg.moveProportion(0)),A={type:"walking",distance:I.distance,remain:I.remain,walk:this.Zg-I.remain,distanceToNext:I.distanceToNext,angle:I.angle,point:I.coords,level:A.level,index:I.index,isReal:!0},this.KA.AA(A),this.wg&&(I.coords.height=this.hg,this.wg.moveTo(I.coords),g?this.wg.rotateTo({heading:g}):this.wg.rotateTo({heading:I.angle})))},Bg:function(A,g){var I=this.naviConstraint(A);I&&(this.KA.AA({type:"walking",distance:I.distance,remain:I.remain,walk:this.Zg-I.remain,distanceToNext:I.distanceToNext,angle:I.angle,point:I.coords,level:A.level,index:I.index,isReal:!0}),this.wg&&(A.height=this.hg,this.wg.moveTo(A),g&&this.wg.rotateTo({heading:g})))},Kg:function(A,g,I,C){for(var t=this,i=A&&void 0!==A.ratio?A.ratio:1,n=!A||void 0===A.animate||A.animate,s=A&&void 0!==A.rotation?A.rotation:0,e=A&&void 0!==A.tilt?A.tilt:30,A=A&&void 0!==A.center?A.center:{x:this.A.getX(),y:this.A.getY()},h=[],r=I[0];r<=I[1];)h.push(r),r++;var o=h[Math.floor((h.length-1)/2)];this.A.setCenter({x:A.x,y:A.y,animate:n,finish:function(){t.A.setVisibleLevels(h),t.A.getInteracations().getControls().panAdd({x:0,y:h.length%2==0?t.A.getFloorSpace()/2:0,z:0}),t.A.setLevel({level:o,animate:n,finish:function(){t.A.setTilt({tilt:e,animate:n,finish:function(){t.A.setRotation({rotation:s,animate:n,finish:function(){var A=[];A.push({x:g.sA.x,y:g.sA.y}),A.push({x:g.sA.x,y:g.eA.y}),A.push({x:g.eA.x,y:g.sA.y}),A.push({x:g.eA.x,y:g.eA.y});A=t.NI(t.A,A,I),A=t.LI(t.A,t.A.getZoom(),A*(i||1));t.A.setZoom({zoom:A,animate:n,finish:function(){C&&C()}})}})}})}})}})}});a=C;function lA(A,g,I,C){this.gA=A||0,this.IA=g||0,this.CA=I||0,this.tA=void 0!==C?C:1}Object.assign(lA,{slerp:function(A,g,I,C){return I.copy(A).slerp(g,C)},slerpFlat:function(A,g,I,C,t,i,n){var s=I[C+0],e=I[C+1],h=I[C+2],r=I[C+3],o=t[i+0],a=t[i+1],u=t[i+2],c=t[i+3];r===c&&s===o&&e===a&&h===u||(I=1-n,t=0<=(C=s*o+e*a+h*u+r*c)?1:-1,(i=1-C*C)>Number.EPSILON&&(i=Math.sqrt(i),C=Math.atan2(i,C*t),I=Math.sin(I*C)/i,n=Math.sin(n*C)/i),s=s*I+o*(t=n*t),e=e*I+a*t,h=h*I+u*t,r=r*I+c*t,I===1-n&&(s*=n=1/Math.sqrt(s*s+e*e+h*h+r*r),e*=n,h*=n,r*=n)),A[g]=s,A[g+1]=e,A[g+2]=h,A[g+3]=r}}),Object.defineProperties(lA.prototype,{x:{get:function(){return this.gA},set:function(A){this.gA=A,this.iA()}},y:{get:function(){return this.IA},set:function(A){this.IA=A,this.iA()}},z:{get:function(){return this.CA},set:function(A){this.CA=A,this.iA()}},w:{get:function(){return this.tA},set:function(A){this.tA=A,this.iA()}}}),Object.assign(lA.prototype,{isQuaternion:!0,set:function(A,g,I,C){return this.gA=A,this.IA=g,this.CA=I,this.tA=C,this.iA(),this},clone:function(){return new this.constructor(this.gA,this.IA,this.CA,this.tA)},copy:function(A){return this.gA=A.x,this.IA=A.y,this.CA=A.z,this.tA=A.w,this.iA(),this},setFromEuler:function(A,g){if(!A||!A.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var I=A.gA,C=A.IA,t=A.CA,i=A.order,n=Math.cos,s=Math.sin,e=n(I/2),A=n(C/2),n=n(t/2),I=s(I/2),C=s(C/2),t=s(t/2);return"XYZ"===i?(this.gA=I*A*n+e*C*t,this.IA=e*C*n-I*A*t,this.CA=e*A*t+I*C*n,this.tA=e*A*n-I*C*t):"YXZ"===i?(this.gA=I*A*n+e*C*t,this.IA=e*C*n-I*A*t,this.CA=e*A*t-I*C*n,this.tA=e*A*n+I*C*t):"ZXY"===i?(this.gA=I*A*n-e*C*t,this.IA=e*C*n+I*A*t,this.CA=e*A*t+I*C*n,this.tA=e*A*n-I*C*t):"ZYX"===i?(this.gA=I*A*n-e*C*t,this.IA=e*C*n+I*A*t,this.CA=e*A*t-I*C*n,this.tA=e*A*n+I*C*t):"YZX"===i?(this.gA=I*A*n+e*C*t,this.IA=e*C*n+I*A*t,this.CA=e*A*t-I*C*n,this.tA=e*A*n-I*C*t):"XZY"===i&&(this.gA=I*A*n-e*C*t,this.IA=e*C*n-I*A*t,this.CA=e*A*t+I*C*n,this.tA=e*A*n+I*C*t),!1!==g&&this.iA(),this},setFromAxisAngle:function(A,g){var I=g/2,g=Math.sin(I);return this.gA=A.x*g,this.IA=A.y*g,this.CA=A.z*g,this.tA=Math.cos(I),this.iA(),this},setFromRotationMatrix:function(A){var g,I=A.elements,C=I[0],t=I[4],i=I[8],n=I[1],s=I[5],e=I[9],h=I[2],r=I[6],A=I[10],I=C+s+A;return 0<I?(g=.5/Math.sqrt(I+1),this.tA=.25/g,this.gA=(r-e)*g,this.IA=(i-h)*g,this.CA=(n-t)*g):s<C&&A<C?(g=2*Math.sqrt(1+C-s-A),this.tA=(r-e)/g,this.gA=.25*g,this.IA=(t+n)/g,this.CA=(i+h)/g):A<s?(g=2*Math.sqrt(1+s-C-A),this.tA=(i-h)/g,this.gA=(t+n)/g,this.IA=.25*g,this.CA=(e+r)/g):(g=2*Math.sqrt(1+A-C-s),this.tA=(n-t)/g,this.gA=(i+h)/g,this.IA=(e+r)/g,this.CA=.25*g),this.iA(),this},setFromUnitVectors:function(A,g){var I=A.dot(g)+1;return I<1e-6?(I=0,Math.abs(A.x)>Math.abs(A.z)?(this.gA=-A.y,this.IA=A.x,this.CA=0):(this.gA=0,this.IA=-A.z,this.CA=A.y)):(this.gA=A.y*g.z-A.z*g.y,this.IA=A.z*g.x-A.x*g.z,this.CA=A.x*g.y-A.y*g.x),this.tA=I,this.normalize()},angleTo:function(A){return 2*Math.acos(Math.abs(p.clamp(this.dot(A),-1,1)))},rotateTowards:function(A,g){var I=this.angleTo(A);if(0===I)return this;I=Math.min(1,g/I);return this.slerp(A,I),this},inverse:function(){return this.conjugate()},conjugate:function(){return this.gA*=-1,this.IA*=-1,this.CA*=-1,this.iA(),this},dot:function(A){return this.gA*A.gA+this.IA*A.IA+this.CA*A.CA+this.tA*A.tA},lengthSq:function(){return this.gA*this.gA+this.IA*this.IA+this.CA*this.CA+this.tA*this.tA},length:function(){return Math.sqrt(this.gA*this.gA+this.IA*this.IA+this.CA*this.CA+this.tA*this.tA)},normalize:function(){var A=this.length();return 0===A?(this.gA=0,this.IA=0,this.CA=0,this.tA=1):(this.gA=this.gA*(A=1/A),this.IA=this.IA*A,this.CA=this.CA*A,this.tA=this.tA*A),this.iA(),this},multiply:function(A,g){return void 0!==g?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(A,g)):this.multiplyQuaternions(this,A)},premultiply:function(A){return this.multiplyQuaternions(A,this)},multiplyQuaternions:function(A,g){var I=A.gA,C=A.IA,t=A.CA,i=A.tA,n=g.gA,s=g.IA,A=g.CA,g=g.tA;return this.gA=I*g+i*n+C*A-t*s,this.IA=C*g+i*s+t*n-I*A,this.CA=t*g+i*A+I*s-C*n,this.tA=i*g-I*n-C*s-t*A,this.iA(),this},slerp:function(A,g){if(0===g)return this;if(1===g)return this.copy(A);var I=this.gA,C=this.IA,t=this.CA,i=this.tA,n=i*A.tA+I*A.gA+C*A.IA+t*A.CA;if(n<0?(this.tA=-A.tA,this.gA=-A.gA,this.IA=-A.IA,this.CA=-A.CA,n=-n):this.copy(A),1<=n)return this.tA=i,this.gA=I,this.IA=C,this.CA=t,this;A=1-n*n;if(A<=Number.EPSILON){var s=1-g;return this.tA=s*i+g*this.tA,this.gA=s*I+g*this.gA,this.IA=s*C+g*this.IA,this.CA=s*t+g*this.CA,this.normalize(),this.iA(),this}s=Math.sqrt(A),A=Math.atan2(s,n),n=Math.sin((1-g)*A)/s,s=Math.sin(g*A)/s;return this.tA=i*n+this.tA*s,this.gA=I*n+this.gA*s,this.IA=C*n+this.IA*s,this.CA=t*n+this.CA*s,this.iA(),this},equals:function(A){return A.gA===this.gA&&A.IA===this.IA&&A.CA===this.CA&&A.tA===this.tA},fromArray:function(A,g){return this.gA=A[g=void 0===g?0:g],this.IA=A[g+1],this.CA=A[g+2],this.tA=A[g+3],this.iA(),this},toArray:function(A,g){return(A=void 0===A?[]:A)[g=void 0===g?0:g]=this.gA,A[g+1]=this.IA,A[g+2]=this.CA,A[g+3]=this.tA,A},fromBufferAttribute:function(A,g){return this.gA=A.getX(g),this.IA=A.getY(g),this.CA=A.getZ(g),this.tA=A.getW(g),this},BI:function(A){return this.iA=A,this},iA:function(){}});var fA=new dA,vA=new lA;function dA(A,g,I){this.x=A||0,this.y=g||0,this.z=I||0}Object.assign(dA.prototype,{isVector3:!0,set:function(A,g,I){return this.x=A,this.y=g,this.z=I,this},setScalar:function(A){return this.x=A,this.y=A,this.z=A,this},setX:function(A){return this.x=A,this},setY:function(A){return this.y=A,this},setZ:function(A){return this.z=A,this},setComponent:function(A,g){switch(A){case 0:this.x=g;break;case 1:this.y=g;break;case 2:this.z=g;break;default:throw new Error("index is out of range: "+A)}return this},getComponent:function(A){switch(A){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+A)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(A){return this.x=A.x,this.y=A.y,this.z=A.z,this},add:function(A,g){return void 0!==g?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(A,g)):(this.x+=A.x,this.y+=A.y,this.z+=A.z,this)},addScalar:function(A){return this.x+=A,this.y+=A,this.z+=A,this},addVectors:function(A,g){return this.x=A.x+g.x,this.y=A.y+g.y,this.z=A.z+g.z,this},addScaledVector:function(A,g){return this.x+=A.x*g,this.y+=A.y*g,this.z+=A.z*g,this},sub:function(A,g){return void 0!==g?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(A,g)):(this.x-=A.x,this.y-=A.y,this.z-=A.z,this)},subScalar:function(A){return this.x-=A,this.y-=A,this.z-=A,this},subVectors:function(A,g){return this.x=A.x-g.x,this.y=A.y-g.y,this.z=A.z-g.z,this},multiply:function(A,g){return void 0!==g?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(A,g)):(this.x*=A.x,this.y*=A.y,this.z*=A.z,this)},multiplyScalar:function(A){return this.x*=A,this.y*=A,this.z*=A,this},multiplyVectors:function(A,g){return this.x=A.x*g.x,this.y=A.y*g.y,this.z=A.z*g.z,this},applyEuler:function(A){return A&&A.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(vA.setFromEuler(A))},applyAxisAngle:function(A,g){return this.applyQuaternion(vA.setFromAxisAngle(A,g))},applyMatrix3:function(A){var g=this.x,I=this.y,C=this.z,A=A.elements;return this.x=A[0]*g+A[3]*I+A[6]*C,this.y=A[1]*g+A[4]*I+A[7]*C,this.z=A[2]*g+A[5]*I+A[8]*C,this},applyNormalMatrix:function(A){return this.applyMatrix3(A).normalize()},applyMatrix4:function(A){var g=this.x,I=this.y,C=this.z,t=A.elements,A=1/(t[3]*g+t[7]*I+t[11]*C+t[15]);return this.x=(t[0]*g+t[4]*I+t[8]*C+t[12])*A,this.y=(t[1]*g+t[5]*I+t[9]*C+t[13])*A,this.z=(t[2]*g+t[6]*I+t[10]*C+t[14])*A,this},applyQuaternion:function(A){var g=this.x,I=this.y,C=this.z,t=A.x,i=A.y,n=A.z,s=A.w,e=s*g+i*C-n*I,h=s*I+n*g-t*C,A=s*C+t*I-i*g,C=-t*g-i*I-n*C;return this.x=e*s+C*-t+h*-n-A*-i,this.y=h*s+C*-i+A*-t-e*-n,this.z=A*s+C*-n+e*-i-h*-t,this},project:function(A){return this.applyMatrix4(A.matrixWorldInverse).applyMatrix4(A.projectionMatrix)},unproject:function(A){return this.applyMatrix4(A.projectionMatrixInverse).applyMatrix4(A.matrixWorld)},transformDirection:function(A){var g=this.x,I=this.y,C=this.z,A=A.elements;return this.x=A[0]*g+A[4]*I+A[8]*C,this.y=A[1]*g+A[5]*I+A[9]*C,this.z=A[2]*g+A[6]*I+A[10]*C,this.normalize()},divide:function(A){return this.x/=A.x,this.y/=A.y,this.z/=A.z,this},divideScalar:function(A){return this.multiplyScalar(1/A)},min:function(A){return this.x=Math.min(this.x,A.x),this.y=Math.min(this.y,A.y),this.z=Math.min(this.z,A.z),this},max:function(A){return this.x=Math.max(this.x,A.x),this.y=Math.max(this.y,A.y),this.z=Math.max(this.z,A.z),this},clamp:function(A,g){return this.x=Math.max(A.x,Math.min(g.x,this.x)),this.y=Math.max(A.y,Math.min(g.y,this.y)),this.z=Math.max(A.z,Math.min(g.z,this.z)),this},clampScalar:function(A,g){return this.x=Math.max(A,Math.min(g,this.x)),this.y=Math.max(A,Math.min(g,this.y)),this.z=Math.max(A,Math.min(g,this.z)),this},clampLength:function(A,g){var I=this.length();return this.divideScalar(I||1).multiplyScalar(Math.max(A,Math.min(g,I)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(A){return this.x*A.x+this.y*A.y+this.z*A.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(A){return this.normalize().multiplyScalar(A)},lerp:function(A,g){return this.x+=(A.x-this.x)*g,this.y+=(A.y-this.y)*g,this.z+=(A.z-this.z)*g,this},lerpVectors:function(A,g,I){return this.subVectors(g,A).multiplyScalar(I).add(A)},cross:function(A,g){return void 0!==g?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(A,g)):this.crossVectors(this,A)},crossVectors:function(A,g){var I=A.x,C=A.y,t=A.z,i=g.x,A=g.y,g=g.z;return this.x=C*g-t*A,this.y=t*i-I*g,this.z=I*A-C*i,this},projectOnVector:function(A){var g=A.lengthSq();if(0===g)return this.set(0,0,0);g=A.dot(this)/g;return this.copy(A).multiplyScalar(g)},projectOnPlane:function(A){return fA.copy(this).projectOnVector(A),this.sub(fA)},reflect:function(A){return this.sub(fA.copy(A).multiplyScalar(2*this.dot(A)))},angleTo:function(A){var g=Math.sqrt(this.lengthSq()*A.lengthSq());if(0===g)return Math.PI/2;g=this.dot(A)/g;return Math.acos(p.clamp(g,-1,1))},distanceTo:function(A){return Math.sqrt(this.distanceToSquared(A))},distanceToSquared:function(A){var g=this.x-A.x,I=this.y-A.y,A=this.z-A.z;return g*g+I*I+A*A},manhattanDistanceTo:function(A){return Math.abs(this.x-A.x)+Math.abs(this.y-A.y)+Math.abs(this.z-A.z)},setFromSpherical:function(A){return this.setFromSphericalCoords(A.radius,A.phi,A.theta)},setFromSphericalCoords:function(A,g,I){var C=Math.sin(g)*A;return this.x=C*Math.sin(I),this.y=Math.cos(g)*A,this.z=C*Math.cos(I),this},setFromCylindrical:function(A){return this.setFromCylindricalCoords(A.radius,A.theta,A.y)},setFromCylindricalCoords:function(A,g,I){return this.x=A*Math.sin(g),this.y=I,this.z=A*Math.cos(g),this},setFromMatrixPosition:function(A){A=A.elements;return this.x=A[12],this.y=A[13],this.z=A[14],this},setFromMatrixScale:function(A){var g=this.setFromMatrixColumn(A,0).length(),I=this.setFromMatrixColumn(A,1).length(),A=this.setFromMatrixColumn(A,2).length();return this.x=g,this.y=I,this.z=A,this},setFromMatrixColumn:function(A,g){return this.fromArray(A.elements,4*g)},setFromMatrix3Column:function(A,g){return this.fromArray(A.elements,3*g)},equals:function(A){return A.x===this.x&&A.y===this.y&&A.z===this.z},fromArray:function(A,g){return this.x=A[g=void 0===g?0:g],this.y=A[g+1],this.z=A[g+2],this},toArray:function(A,g){return(A=void 0===A?[]:A)[g=void 0===g?0:g]=this.x,A[g+1]=this.y,A[g+2]=this.z,A},fromBufferAttribute:function(A,g,I){return void 0!==I&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=A.getX(g),this.y=A.getY(g),this.z=A.getZ(g),this}});var MA=new dA,pA=new RA,mA=new dA(0,0,0),yA=new dA(1,1,1),bA=new dA,wA=new dA,EA=new dA;function RA(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function TA(){}Object.assign(RA.prototype,{isMatrix4:!0,set:function(A,g,I,C,t,i,n,s,e,h,r,o,a,u,c,l){var f=this.elements;return f[0]=A,f[4]=g,f[8]=I,f[12]=C,f[1]=t,f[5]=i,f[9]=n,f[13]=s,f[2]=e,f[6]=h,f[10]=r,f[14]=o,f[3]=a,f[7]=u,f[11]=c,f[15]=l,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new RA).fromArray(this.elements)},copy:function(A){var g=this.elements,A=A.elements;return g[0]=A[0],g[1]=A[1],g[2]=A[2],g[3]=A[3],g[4]=A[4],g[5]=A[5],g[6]=A[6],g[7]=A[7],g[8]=A[8],g[9]=A[9],g[10]=A[10],g[11]=A[11],g[12]=A[12],g[13]=A[13],g[14]=A[14],g[15]=A[15],this},copyPosition:function(A){var g=this.elements,A=A.elements;return g[12]=A[12],g[13]=A[13],g[14]=A[14],this},extractBasis:function(A,g,I){return A.setFromMatrixColumn(this,0),g.setFromMatrixColumn(this,1),I.setFromMatrixColumn(this,2),this},makeBasis:function(A,g,I){return this.set(A.x,g.x,I.x,0,A.y,g.y,I.y,0,A.z,g.z,I.z,0,0,0,0,1),this},extractRotation:function(A){var g=this.elements,I=A.elements,C=1/MA.setFromMatrixColumn(A,0).length(),t=1/MA.setFromMatrixColumn(A,1).length(),A=1/MA.setFromMatrixColumn(A,2).length();return g[0]=I[0]*C,g[1]=I[1]*C,g[2]=I[2]*C,g[3]=0,g[4]=I[4]*t,g[5]=I[5]*t,g[6]=I[6]*t,g[7]=0,g[8]=I[8]*A,g[9]=I[9]*A,g[10]=I[10]*A,g[11]=0,g[12]=0,g[13]=0,g[14]=0,g[15]=1,this},makeRotationFromEuler:function(A){A&&A.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var g,I,C,t,i,n,s,e,h,r,o,a,u=this.elements,c=A.x,l=A.y,f=A.z,v=Math.cos(c),d=Math.sin(c),M=Math.cos(l),c=Math.sin(l),l=Math.cos(f),f=Math.sin(f);return"XYZ"===A.order?(i=v*l,n=v*f,s=d*l,e=d*f,u[0]=M*l,u[4]=-M*f,u[8]=c,u[1]=n+s*c,u[5]=i-e*c,u[9]=-d*M,u[2]=e-i*c,u[6]=s+n*c,u[10]=v*M):"YXZ"===A.order?(I=M*f,C=c*l,u[0]=(g=M*l)+(t=c*f)*d,u[4]=C*d-I,u[8]=v*c,u[1]=v*f,u[5]=v*l,u[9]=-d,u[2]=I*d-C,u[6]=t+g*d,u[10]=v*M):"ZXY"===A.order?(I=M*f,C=c*l,u[0]=(g=M*l)-(t=c*f)*d,u[4]=-v*f,u[8]=C+I*d,u[1]=I+C*d,u[5]=v*l,u[9]=t-g*d,u[2]=-v*c,u[6]=d,u[10]=v*M):"ZYX"===A.order?(i=v*l,n=v*f,s=d*l,e=d*f,u[0]=M*l,u[4]=s*c-n,u[8]=i*c+e,u[1]=M*f,u[5]=e*c+i,u[9]=n*c-s,u[2]=-c,u[6]=d*M,u[10]=v*M):"YZX"===A.order?(h=v*M,r=v*c,o=d*M,a=d*c,u[0]=M*l,u[4]=a-h*f,u[8]=o*f+r,u[1]=f,u[5]=v*l,u[9]=-d*l,u[2]=-c*l,u[6]=r*f+o,u[10]=h-a*f):"XZY"===A.order&&(h=v*M,r=v*c,o=d*M,a=d*c,u[0]=M*l,u[4]=-f,u[8]=c*l,u[1]=h*f+a,u[5]=v*l,u[9]=r*f-o,u[2]=o*f-r,u[6]=d*l,u[10]=a*f+h),u[3]=0,u[7]=0,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,this},makeRotationFromQuaternion:function(A){return this.compose(mA,A,yA)},lookAt:function(A,g,I){var C=this.elements;return EA.subVectors(A,g),0===EA.lengthSq()&&(EA.z=1),EA.normalize(),bA.crossVectors(I,EA),0===bA.lengthSq()&&(1===Math.abs(I.z)?EA.x+=1e-4:EA.z+=1e-4,EA.normalize(),bA.crossVectors(I,EA)),bA.normalize(),wA.crossVectors(EA,bA),C[0]=bA.x,C[4]=wA.x,C[8]=EA.x,C[1]=bA.y,C[5]=wA.y,C[9]=EA.y,C[2]=bA.z,C[6]=wA.z,C[10]=EA.z,this},multiply:function(A,g){return void 0!==g?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(A,g)):this.multiplyMatrices(this,A)},premultiply:function(A){return this.multiplyMatrices(A,this)},multiplyMatrices:function(A,g){var I=A.elements,C=g.elements,t=this.elements,i=I[0],n=I[4],s=I[8],e=I[12],h=I[1],r=I[5],o=I[9],a=I[13],u=I[2],c=I[6],l=I[10],f=I[14],v=I[3],d=I[7],M=I[11],p=I[15],m=C[0],y=C[4],b=C[8],w=C[12],E=C[1],R=C[5],T=C[9],k=C[13],O=C[2],x=C[6],Z=C[10],S=C[14],A=C[3],g=C[7],I=C[11],C=C[15];return t[0]=i*m+n*E+s*O+e*A,t[4]=i*y+n*R+s*x+e*g,t[8]=i*b+n*T+s*Z+e*I,t[12]=i*w+n*k+s*S+e*C,t[1]=h*m+r*E+o*O+a*A,t[5]=h*y+r*R+o*x+a*g,t[9]=h*b+r*T+o*Z+a*I,t[13]=h*w+r*k+o*S+a*C,t[2]=u*m+c*E+l*O+f*A,t[6]=u*y+c*R+l*x+f*g,t[10]=u*b+c*T+l*Z+f*I,t[14]=u*w+c*k+l*S+f*C,t[3]=v*m+d*E+M*O+p*A,t[7]=v*y+d*R+M*x+p*g,t[11]=v*b+d*T+M*Z+p*I,t[15]=v*w+d*k+M*S+p*C,this},multiplyScalar:function(A){var g=this.elements;return g[0]*=A,g[4]*=A,g[8]*=A,g[12]*=A,g[1]*=A,g[5]*=A,g[9]*=A,g[13]*=A,g[2]*=A,g[6]*=A,g[10]*=A,g[14]*=A,g[3]*=A,g[7]*=A,g[11]*=A,g[15]*=A,this},determinant:function(){var A=this.elements,g=A[0],I=A[4],C=A[8],t=A[12],i=A[1],n=A[5],s=A[9],e=A[13],h=A[2],r=A[6],o=A[10],a=A[14];return A[3]*(+t*s*r-C*e*r-t*n*o+I*e*o+C*n*a-I*s*a)+A[7]*(+g*s*a-g*e*o+t*i*o-C*i*a+C*e*h-t*s*h)+A[11]*(+g*e*r-g*n*a-t*i*r+I*i*a+t*n*h-I*e*h)+A[15]*(-C*n*h-g*s*r+g*n*o+C*i*r-I*i*o+I*s*h)},transpose:function(){var A=this.elements,g=A[1];return A[1]=A[4],A[4]=g,g=A[2],A[2]=A[8],A[8]=g,g=A[6],A[6]=A[9],A[9]=g,g=A[3],A[3]=A[12],A[12]=g,g=A[7],A[7]=A[13],A[13]=g,g=A[11],A[11]=A[14],A[14]=g,this},setPosition:function(A,g,I){var C=this.elements;return A.isVector3?(C[12]=A.x,C[13]=A.y,C[14]=A.z):(C[12]=A,C[13]=g,C[14]=I),this},getInverse:function(A,g){void 0!==g&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.");var I=this.elements,C=A.elements,t=C[0],i=C[1],n=C[2],s=C[3],e=C[4],h=C[5],r=C[6],o=C[7],a=C[8],u=C[9],c=C[10],l=C[11],f=C[12],v=C[13],d=C[14],M=C[15],p=u*d*o-v*c*o+v*r*l-h*d*l-u*r*M+h*c*M,m=f*c*o-a*d*o-f*r*l+e*d*l+a*r*M-e*c*M,g=a*v*o-f*u*o+f*h*l-e*v*l-a*h*M+e*u*M,A=f*u*r-a*v*r-f*h*c+e*v*c+a*h*d-e*u*d,C=t*p+i*m+n*g+s*A;if(0==C)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);C=1/C;return I[0]=p*C,I[1]=(v*c*s-u*d*s-v*n*l+i*d*l+u*n*M-i*c*M)*C,I[2]=(h*d*s-v*r*s+v*n*o-i*d*o-h*n*M+i*r*M)*C,I[3]=(u*r*s-h*c*s-u*n*o+i*c*o+h*n*l-i*r*l)*C,I[4]=m*C,I[5]=(a*d*s-f*c*s+f*n*l-t*d*l-a*n*M+t*c*M)*C,I[6]=(f*r*s-e*d*s-f*n*o+t*d*o+e*n*M-t*r*M)*C,I[7]=(e*c*s-a*r*s+a*n*o-t*c*o-e*n*l+t*r*l)*C,I[8]=g*C,I[9]=(f*u*s-a*v*s-f*i*l+t*v*l+a*i*M-t*u*M)*C,I[10]=(e*v*s-f*h*s+f*i*o-t*v*o-e*i*M+t*h*M)*C,I[11]=(a*h*s-e*u*s-a*i*o+t*u*o+e*i*l-t*h*l)*C,I[12]=A*C,I[13]=(a*v*n-f*u*n+f*i*c-t*v*c-a*i*d+t*u*d)*C,I[14]=(f*h*n-e*v*n-f*i*r+t*v*r+e*i*d-t*h*d)*C,I[15]=(e*u*n-a*h*n+a*i*r-t*u*r-e*i*c+t*h*c)*C,this},scale:function(A){var g=this.elements,I=A.x,C=A.y,A=A.z;return g[0]*=I,g[4]*=C,g[8]*=A,g[1]*=I,g[5]*=C,g[9]*=A,g[2]*=I,g[6]*=C,g[10]*=A,g[3]*=I,g[7]*=C,g[11]*=A,this},getMaxScaleOnAxis:function(){var A=this.elements,g=A[0]*A[0]+A[1]*A[1]+A[2]*A[2],I=A[4]*A[4]+A[5]*A[5]+A[6]*A[6],A=A[8]*A[8]+A[9]*A[9]+A[10]*A[10];return Math.sqrt(Math.max(g,I,A))},makeTranslation:function(A,g,I){return this.set(1,0,0,A,0,1,0,g,0,0,1,I,0,0,0,1),this},makeRotationX:function(A){var g=Math.cos(A),A=Math.sin(A);return this.set(1,0,0,0,0,g,-A,0,0,A,g,0,0,0,0,1),this},makeRotationY:function(A){var g=Math.cos(A),A=Math.sin(A);return this.set(g,0,A,0,0,1,0,0,-A,0,g,0,0,0,0,1),this},makeRotationZ:function(A){var g=Math.cos(A),A=Math.sin(A);return this.set(g,-A,0,0,A,g,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(A,g){var I=Math.cos(g),C=Math.sin(g),t=1-I,i=A.x,n=A.y,s=A.z,g=t*i,A=t*n;return this.set(g*i+I,g*n-C*s,g*s+C*n,0,g*n+C*s,A*n+I,A*s-C*i,0,g*s-C*n,A*s+C*i,t*s*s+I,0,0,0,0,1),this},makeScale:function(A,g,I){return this.set(A,0,0,0,0,g,0,0,0,0,I,0,0,0,0,1),this},makeShear:function(A,g,I){return this.set(1,g,I,0,A,1,I,0,A,g,1,0,0,0,0,1),this},compose:function(A,g,I){var C=this.elements,t=g.gA,i=g.IA,n=g.CA,s=g.tA,e=t+t,h=i+i,r=n+n,o=t*e,a=t*h,u=t*r,g=i*h,t=i*r,i=n*r,n=s*e,e=s*h,h=s*r,s=I.x,r=I.y,I=I.z;return C[0]=(1-(g+i))*s,C[1]=(a+h)*s,C[2]=(u-e)*s,C[3]=0,C[4]=(a-h)*r,C[5]=(1-(o+i))*r,C[6]=(t+n)*r,C[7]=0,C[8]=(u+e)*I,C[9]=(t-n)*I,C[10]=(1-(o+g))*I,C[11]=0,C[12]=A.x,C[13]=A.y,C[14]=A.z,C[15]=1,this},decompose:function(A,g,I){var C=this.elements,t=MA.set(C[0],C[1],C[2]).length(),i=MA.set(C[4],C[5],C[6]).length(),n=MA.set(C[8],C[9],C[10]).length();this.determinant()<0&&(t=-t),A.x=C[12],A.y=C[13],A.z=C[14],pA.copy(this);var s=1/t,A=1/i,C=1/n;return pA.elements[0]*=s,pA.elements[1]*=s,pA.elements[2]*=s,pA.elements[4]*=A,pA.elements[5]*=A,pA.elements[6]*=A,pA.elements[8]*=C,pA.elements[9]*=C,pA.elements[10]*=C,g.setFromRotationMatrix(pA),I.x=t,I.y=i,I.z=n,this},makePerspective:function(A,g,I,C,t,i){void 0===i&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var n=this.elements,s=2*t/(I-C),e=(g+A)/(g-A),I=(I+C)/(I-C),C=-(i+t)/(i-t),i=-2*i*t/(i-t);return n[0]=2*t/(g-A),n[4]=0,n[8]=e,n[12]=0,n[1]=0,n[5]=s,n[9]=I,n[13]=0,n[2]=0,n[6]=0,n[10]=C,n[14]=i,n[3]=0,n[7]=0,n[11]=-1,n[15]=0,this},makeOrthographic:function(A,g,I,C,t,i){var n=this.elements,s=1/(g-A),e=1/(I-C),h=1/(i-t),A=(g+A)*s,C=(I+C)*e,t=(i+t)*h;return n[0]=2*s,n[4]=0,n[8]=0,n[12]=-A,n[1]=0,n[5]=2*e,n[9]=0,n[13]=-C,n[2]=0,n[6]=0,n[10]=-2*h,n[14]=-t,n[3]=0,n[7]=0,n[11]=0,n[15]=1,this},equals:function(A){for(var g=this.elements,I=A.elements,C=0;C<16;C++)if(g[C]!==I[C])return!1;return!0},fromArray:function(A,g){void 0===g&&(g=0);for(var I=0;I<16;I++)this.elements[I]=A[I+g];return this},toArray:function(A,g){var I=this.elements;return(A=void 0===A?[]:A)[g=void 0===g?0:g]=I[0],A[g+1]=I[1],A[g+2]=I[2],A[g+3]=I[3],A[g+4]=I[4],A[g+5]=I[5],A[g+6]=I[6],A[g+7]=I[7],A[g+8]=I[8],A[g+9]=I[9],A[g+10]=I[10],A[g+11]=I[11],A[g+12]=I[12],A[g+13]=I[13],A[g+14]=I[14],A[g+15]=I[15],A}}),Object.assign(TA.prototype,{addEventListener:function(A,g){void 0===this._&&(this._={});var I=this._;void 0===I[A]&&(I[A]=[]),-1===I[A].indexOf(g)&&I[A].push(g)},hasEventListener:function(A,g){if(void 0===this._)return!1;var I=this._;return void 0!==I[A]&&-1!==I[A].indexOf(g)},removeEventListener:function(A,g){void 0!==this._&&(void 0===(A=this._[A])||-1!==(g=A.indexOf(g))&&A.splice(g,1))},dispatchEvent:function(A){if(void 0!==this._){var g=this._[A.type];if(void 0!==g){A.target=this;for(var I=g.slice(0),C=0,t=I.length;C<t;C++)I[C].call(this,A)}}}});var kA=new RA,OA=new lA;function xA(A,g,I,C){this.gA=A||0,this.IA=g||0,this.CA=I||0,this.nA=C||xA.DefaultOrder}function ZA(){this.mask=1}function SA(){this.elements=[1,0,0,0,1,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}xA.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],xA.DefaultOrder="XYZ",Object.defineProperties(xA.prototype,{x:{get:function(){return this.gA},set:function(A){this.gA=A,this.iA()}},y:{get:function(){return this.IA},set:function(A){this.IA=A,this.iA()}},z:{get:function(){return this.CA},set:function(A){this.CA=A,this.iA()}},order:{get:function(){return this.nA},set:function(A){this.nA=A,this.iA()}}}),Object.assign(xA.prototype,{isEuler:!0,set:function(A,g,I,C){return this.gA=A,this.IA=g,this.CA=I,this.nA=C||this.nA,this.iA(),this},clone:function(){return new this.constructor(this.gA,this.IA,this.CA,this.nA)},copy:function(A){return this.gA=A.gA,this.IA=A.IA,this.CA=A.CA,this.nA=A.nA,this.iA(),this},setFromRotationMatrix:function(A,g,I){var C=p.clamp,t=A.elements,i=t[0],n=t[4],s=t[8],e=t[1],h=t[5],r=t[9],o=t[2],A=t[6],t=t[10];return"XYZ"===(g=g||this.nA)?(this.IA=Math.asin(C(s,-1,1)),Math.abs(s)<.9999999?(this.gA=Math.atan2(-r,t),this.CA=Math.atan2(-n,i)):(this.gA=Math.atan2(A,h),this.CA=0)):"YXZ"===g?(this.gA=Math.asin(-C(r,-1,1)),Math.abs(r)<.9999999?(this.IA=Math.atan2(s,t),this.CA=Math.atan2(e,h)):(this.IA=Math.atan2(-o,i),this.CA=0)):"ZXY"===g?(this.gA=Math.asin(C(A,-1,1)),Math.abs(A)<.9999999?(this.IA=Math.atan2(-o,t),this.CA=Math.atan2(-n,h)):(this.IA=0,this.CA=Math.atan2(e,i))):"ZYX"===g?(this.IA=Math.asin(-C(o,-1,1)),Math.abs(o)<.9999999?(this.gA=Math.atan2(A,t),this.CA=Math.atan2(e,i)):(this.gA=0,this.CA=Math.atan2(-n,h))):"YZX"===g?(this.CA=Math.asin(C(e,-1,1)),Math.abs(e)<.9999999?(this.gA=Math.atan2(-r,h),this.IA=Math.atan2(-o,i)):(this.gA=0,this.IA=Math.atan2(s,t))):"XZY"===g?(this.CA=Math.asin(-C(n,-1,1)),Math.abs(n)<.9999999?(this.gA=Math.atan2(A,h),this.IA=Math.atan2(s,i)):(this.gA=Math.atan2(-r,t),this.IA=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+g),this.nA=g,!1!==I&&this.iA(),this},setFromQuaternion:function(A,g,I){return kA.makeRotationFromQuaternion(A),this.setFromRotationMatrix(kA,g,I)},setFromVector3:function(A,g){return this.set(A.x,A.y,A.z,g||this.nA)},reorder:function(A){return OA.setFromEuler(this),this.setFromQuaternion(OA,A)},equals:function(A){return A.gA===this.gA&&A.IA===this.IA&&A.CA===this.CA&&A.nA===this.nA},fromArray:function(A){return this.gA=A[0],this.IA=A[1],this.CA=A[2],void 0!==A[3]&&(this.nA=A[3]),this.iA(),this},toArray:function(A,g){return(A=void 0===A?[]:A)[g=void 0===g?0:g]=this.gA,A[g+1]=this.IA,A[g+2]=this.CA,A[g+3]=this.nA,A},toVector3:function(A){return A?A.set(this.gA,this.IA,this.CA):new dA(this.gA,this.IA,this.CA)},BI:function(A){return this.iA=A,this},iA:function(){}}),Object.assign(ZA.prototype,{set:function(A){this.mask=1<<A|0},enable:function(A){this.mask|=1<<A|0},enableAll:function(){this.mask=-1},toggle:function(A){this.mask^=1<<A|0},disable:function(A){this.mask&=~(1<<A|0)},disableAll:function(){this.mask=0},test:function(A){return 0!=(this.mask&A.mask)}}),Object.assign(SA.prototype,{isMatrix3:!0,set:function(A,g,I,C,t,i,n,s,e){var h=this.elements;return h[0]=A,h[1]=C,h[2]=n,h[3]=g,h[4]=t,h[5]=s,h[6]=I,h[7]=i,h[8]=e,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(A){var g=this.elements,A=A.elements;return g[0]=A[0],g[1]=A[1],g[2]=A[2],g[3]=A[3],g[4]=A[4],g[5]=A[5],g[6]=A[6],g[7]=A[7],g[8]=A[8],this},extractBasis:function(A,g,I){return A.setFromMatrix3Column(this,0),g.setFromMatrix3Column(this,1),I.setFromMatrix3Column(this,2),this},setFromMatrix4:function(A){A=A.elements;return this.set(A[0],A[4],A[8],A[1],A[5],A[9],A[2],A[6],A[10]),this},multiply:function(A){return this.multiplyMatrices(this,A)},premultiply:function(A){return this.multiplyMatrices(A,this)},multiplyMatrices:function(A,g){var I=A.elements,C=g.elements,t=this.elements,i=I[0],n=I[3],s=I[6],e=I[1],h=I[4],r=I[7],o=I[2],a=I[5],u=I[8],c=C[0],l=C[3],f=C[6],v=C[1],d=C[4],A=C[7],g=C[2],I=C[5],C=C[8];return t[0]=i*c+n*v+s*g,t[3]=i*l+n*d+s*I,t[6]=i*f+n*A+s*C,t[1]=e*c+h*v+r*g,t[4]=e*l+h*d+r*I,t[7]=e*f+h*A+r*C,t[2]=o*c+a*v+u*g,t[5]=o*l+a*d+u*I,t[8]=o*f+a*A+u*C,this},multiplyScalar:function(A){var g=this.elements;return g[0]*=A,g[3]*=A,g[6]*=A,g[1]*=A,g[4]*=A,g[7]*=A,g[2]*=A,g[5]*=A,g[8]*=A,this},determinant:function(){var A=this.elements,g=A[0],I=A[1],C=A[2],t=A[3],i=A[4],n=A[5],s=A[6],e=A[7],A=A[8];return g*i*A-g*n*e-I*t*A+I*n*s+C*t*e-C*i*s},getInverse:function(A,g){void 0!==g&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");var I=A.elements,C=this.elements,t=I[0],i=I[1],n=I[2],s=I[3],e=I[4],h=I[5],r=I[6],o=I[7],a=I[8],u=a*e-h*o,g=h*r-a*s,A=o*s-e*r,I=t*u+i*g+n*A;if(0==I)return this.set(0,0,0,0,0,0,0,0,0);I=1/I;return C[0]=u*I,C[1]=(n*o-a*i)*I,C[2]=(h*i-n*e)*I,C[3]=g*I,C[4]=(a*t-n*r)*I,C[5]=(n*s-h*t)*I,C[6]=A*I,C[7]=(i*r-o*t)*I,C[8]=(e*t-i*s)*I,this},transpose:function(){var A=this.elements,g=A[1];return A[1]=A[3],A[3]=g,g=A[2],A[2]=A[6],A[6]=g,g=A[5],A[5]=A[7],A[7]=g,this},getNormalMatrix:function(A){return this.setFromMatrix4(A).getInverse(this).transpose()},transposeIntoArray:function(A){var g=this.elements;return A[0]=g[0],A[1]=g[3],A[2]=g[6],A[3]=g[1],A[4]=g[4],A[5]=g[7],A[6]=g[2],A[7]=g[5],A[8]=g[8],this},setUvTransform:function(A,g,I,C,t,i,n){var s=Math.cos(t),t=Math.sin(t);this.set(I*s,I*t,-I*(s*i+t*n)+i+A,-C*t,C*s,-C*(-t*i+s*n)+n+g,0,0,1)},scale:function(A,g){var I=this.elements;return I[0]*=A,I[3]*=A,I[6]*=A,I[1]*=g,I[4]*=g,I[7]*=g,this},rotate:function(A){var g=Math.cos(A),I=Math.sin(A),C=this.elements,t=C[0],i=C[3],n=C[6],s=C[1],e=C[4],A=C[7];return C[0]=g*t+I*s,C[3]=g*i+I*e,C[6]=g*n+I*A,C[1]=-I*t+g*s,C[4]=-I*i+g*e,C[7]=-I*n+g*A,this},translate:function(A,g){var I=this.elements;return I[0]+=A*I[2],I[3]+=A*I[5],I[6]+=A*I[8],I[1]+=g*I[2],I[4]+=g*I[5],I[7]+=g*I[8],this},equals:function(A){for(var g=this.elements,I=A.elements,C=0;C<9;C++)if(g[C]!==I[C])return!1;return!0},fromArray:function(A,g){void 0===g&&(g=0);for(var I=0;I<9;I++)this.elements[I]=A[I+g];return this},toArray:function(A,g){var I=this.elements;return(A=void 0===A?[]:A)[g=void 0===g?0:g]=I[0],A[g+1]=I[1],A[g+2]=I[2],A[g+3]=I[3],A[g+4]=I[4],A[g+5]=I[5],A[g+6]=I[6],A[g+7]=I[7],A[g+8]=I[8],A}});var jA=0,GA=new dA,LA=new lA,NA=new RA,YA=new dA,DA=new dA,FA=new dA,PA=new lA,BA=new dA(1,0,0),UA=new dA(0,1,0),VA=new dA(0,0,1),XA={type:"added"},QA={type:"removed"};function WA(){Object.defineProperty(this,"id",{value:jA++}),this.uuid=p.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=WA.DefaultUp.clone();var A=new dA,g=new xA,I=new lA,C=new dA(1,1,1);g.BI(function(){I.setFromEuler(g,!1)}),I.BI(function(){g.setFromQuaternion(I,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:A},rotation:{configurable:!0,enumerable:!0,value:g},quaternion:{configurable:!0,enumerable:!0,value:I},scale:{configurable:!0,enumerable:!0,value:C},modelViewMatrix:{value:new RA},normalMatrix:{value:new SA}}),this.matrix=new RA,this.matrixWorld=new RA,this.matrixAutoUpdate=WA.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new ZA,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function KA(){WA.call(this),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}WA.DefaultUp=new dA(0,1,0),WA.DefaultMatrixAutoUpdate=!0,WA.prototype=Object.assign(Object.create(TA.prototype),{constructor:WA,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(A){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(A),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(A){return this.quaternion.premultiply(A),this},setRotationFromAxisAngle:function(A,g){this.quaternion.setFromAxisAngle(A,g)},setRotationFromEuler:function(A){this.quaternion.setFromEuler(A,!0)},setRotationFromMatrix:function(A){this.quaternion.setFromRotationMatrix(A)},setRotationFromQuaternion:function(A){this.quaternion.copy(A)},rotateOnAxis:function(A,g){return LA.setFromAxisAngle(A,g),this.quaternion.multiply(LA),this},rotateOnWorldAxis:function(A,g){return LA.setFromAxisAngle(A,g),this.quaternion.premultiply(LA),this},rotateX:function(A){return this.rotateOnAxis(BA,A)},rotateY:function(A){return this.rotateOnAxis(UA,A)},rotateZ:function(A){return this.rotateOnAxis(VA,A)},translateOnAxis:function(A,g){return GA.copy(A).applyQuaternion(this.quaternion),this.position.add(GA.multiplyScalar(g)),this},translateX:function(A){return this.translateOnAxis(BA,A)},translateY:function(A){return this.translateOnAxis(UA,A)},translateZ:function(A){return this.translateOnAxis(VA,A)},localToWorld:function(A){return A.applyMatrix4(this.matrixWorld)},worldToLocal:function(A){return A.applyMatrix4(NA.getInverse(this.matrixWorld))},lookAt:function(A,g,I){A.isVector3?YA.copy(A):YA.set(A,g,I);I=this.parent;this.updateWorldMatrix(!0,!1),DA.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?NA.lookAt(DA,YA,this.up):NA.lookAt(YA,DA,this.up),this.quaternion.setFromRotationMatrix(NA),I&&(NA.extractRotation(I.matrixWorld),LA.setFromRotationMatrix(NA),this.quaternion.premultiply(LA.inverse()))},add:function(A){if(1<arguments.length){for(var g=0;g<arguments.length;g++)this.add(arguments[g]);return this}return A===this?console.error("THREE.Object3D.add: object can't be added as a child of itself.",A):A&&A.isObject3D?(null!==A.parent&&A.parent.remove(A),(A.parent=this).children.push(A),A.dispatchEvent(XA)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",A),this},remove:function(A){if(1<arguments.length){for(var g=0;g<arguments.length;g++)this.remove(arguments[g]);return this}var I=this.children.indexOf(A);return-1!==I&&(A.parent=null,this.children.splice(I,1),A.dispatchEvent(QA)),this},attach:function(A){return this.updateWorldMatrix(!0,!1),NA.getInverse(this.matrixWorld),null!==A.parent&&(A.parent.updateWorldMatrix(!0,!1),NA.multiply(A.parent.matrixWorld)),A.applyMatrix4(NA),A.updateWorldMatrix(!1,!1),this.add(A),this},getObjectById:function(A){return this.getObjectByProperty("id",A)},getObjectByName:function(A){return this.getObjectByProperty("name",A)},getObjectByProperty:function(A,g){if(this[A]===g)return this;for(var I=0,C=this.children.length;I<C;I++){var t=this.children[I].getObjectByProperty(A,g);if(void 0!==t)return t}},getWorldPosition:function(A){return void 0===A&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),A=new dA),this.updateMatrixWorld(!0),A.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(A){return void 0===A&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),A=new lA),this.updateMatrixWorld(!0),this.matrixWorld.decompose(DA,A,FA),A},getWorldScale:function(A){return void 0===A&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),A=new dA),this.updateMatrixWorld(!0),this.matrixWorld.decompose(DA,PA,A),A},getWorldDirection:function(A){void 0===A&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),A=new dA),this.updateMatrixWorld(!0);var g=this.matrixWorld.elements;return A.set(g[8],g[9],g[10]).normalize()},raycast:function(){},traverse:function(A){A(this);for(var g=this.children,I=0,C=g.length;I<C;I++)g[I].traverse(A)},traverseVisible:function(A){if(!1!==this.visible){A(this);for(var g=this.children,I=0,C=g.length;I<C;I++)g[I].traverseVisible(A)}},traverseAncestors:function(A){var g=this.parent;null!==g&&(A(g),g.traverseAncestors(A))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(A){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||A)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),A=!(this.matrixWorldNeedsUpdate=!1));for(var g=this.children,I=0,C=g.length;I<C;I++)g[I].updateMatrixWorld(A)},updateWorldMatrix:function(A,g){var I=this.parent;if(!0===A&&null!==I&&I.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===g)for(var C=this.children,t=0,i=C.length;t<i;t++)C[t].updateWorldMatrix(!1,!0)},clone:function(A){return(new this.constructor).copy(this,A)},copy:function(A,g){if(void 0===g&&(g=!0),this.name=A.name,this.up.copy(A.up),this.position.copy(A.position),this.quaternion.copy(A.quaternion),this.scale.copy(A.scale),this.matrix.copy(A.matrix),this.matrixWorld.copy(A.matrixWorld),this.matrixAutoUpdate=A.matrixAutoUpdate,this.matrixWorldNeedsUpdate=A.matrixWorldNeedsUpdate,this.layers.mask=A.layers.mask,this.visible=A.visible,this.castShadow=A.castShadow,this.receiveShadow=A.receiveShadow,this.frustumCulled=A.frustumCulled,this.renderOrder=A.renderOrder,this.userData=JSON.parse(JSON.stringify(A.userData)),!0===g)for(var I=0;I<A.children.length;I++){var C=A.children[I];this.add(C.clone())}return this}}),KA.prototype=Object.assign(Object.create(WA.prototype),{constructor:KA,isScene:!0,copy:function(A,g){return WA.prototype.copy.call(this,A,g),null!==A.background&&(this.background=A.background.clone()),null!==A.environment&&(this.environment=A.environment.clone()),null!==A.fog&&(this.fog=A.fog.clone()),null!==A.overrideMaterial&&(this.overrideMaterial=A.overrideMaterial.clone()),this.autoUpdate=A.autoUpdate,this.matrixAutoUpdate=A.matrixAutoUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function zA(A){WA.call(this),this.element=A||document.createElement("div"),this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.addEventListener("removed",function(){this.traverse(function(A){A.element instanceof Element&&null!==A.element.parentNode&&A.element.parentNode.removeChild(A.element)})})}zA.prototype=Object.assign(Object.create(WA.prototype),{constructor:zA,copy:function(A,g){return WA.prototype.copy.call(this,A,g),this.element=A.element.cloneNode(!0),this}});function HA(A){zA.call(this,A)}(HA.prototype=Object.create(zA.prototype)).constructor=HA;function JA(){var I,C,i,n,r=this,o=new RA,a={camera:{fov:0,style:""},objects:new WeakMap},s=document.createElement("div");s.style.overflow="hidden",this.domElement=s;var u=document.createElement("div");u.style.WebkitTransformStyle="preserve-3d",u.style.transformStyle="preserve-3d",u.style.pointerEvents="none",s.appendChild(u);var c=/Trident/i.test(navigator.userAgent);function e(A){return Math.abs(A)<1e-10?0:A}function h(A){A=A.elements;return"matrix3d("+e(A[0])+","+e(-A[1])+","+e(A[2])+","+e(A[3])+","+e(A[4])+","+e(-A[5])+","+e(A[6])+","+e(A[7])+","+e(A[8])+","+e(-A[9])+","+e(A[10])+","+e(A[11])+","+e(A[12])+","+e(-A[13])+","+e(A[14])+","+e(A[15])+")"}function l(A,g){A=A.elements,A="matrix3d("+e(A[0])+","+e(A[1])+","+e(A[2])+","+e(A[3])+","+e(-A[4])+","+e(-A[5])+","+e(-A[6])+","+e(-A[7])+","+e(A[8])+","+e(A[9])+","+e(A[10])+","+e(A[11])+","+e(A[12])+","+e(A[13])+","+e(A[14])+","+e(A[15])+")";return c?"translate(-50%,-50%)translate("+i+"px,"+n+"px)"+g+A:"translate(-50%,-50%)"+A}this.getSize=function(){return{width:I,height:C}},this.setSize=function(A,g){i=(I=A)/2,n=(C=g)/2,s.style.width=A+"px",s.style.height=g+"px",u.style.width=A+"px",u.style.height=g+"px"};var t,f,v=(t=new dA,f=new dA,function(A,g){return t.setFromMatrixPosition(A.matrixWorld),f.setFromMatrixPosition(g.matrixWorld),t.distanceToSquared(f)});function d(A){for(var g,I=(g=[],A.traverse(function(A){A instanceof zA&&g.push(A)}),g.sort(function(A,g){return a.objects.get(A).distanceToCameraSquared-a.objects.get(g).distanceToCameraSquared})),C=I.length,t=0,i=I.length;t<i;t++)I[t].element.style.zIndex=C-t}this.render=function(A,g){var I,C=g.projectionMatrix.elements[5]*n;a.camera.fov!==C&&(g.isPerspectiveCamera?(s.style.WebkitPerspective=C+"px",s.style.perspective=C+"px"):(s.style.WebkitPerspective="",s.style.perspective=""),a.camera.fov=C),!0===A.autoUpdate&&A.updateMatrixWorld(),null===g.parent&&g.updateMatrixWorld(),g.isOrthographicCamera&&(I=-(g.right+g.left)/2,t=(g.top+g.bottom)/2);var t=g.isOrthographicCamera?"scale("+C+")translate("+e(I)+"px,"+e(t)+"px)"+h(g.matrixWorldInverse):"translateZ("+C+"px)"+h(g.matrixWorldInverse),C=t+"translate("+i+"px,"+n+"px)";a.camera.style===C||c||(u.style.WebkitTransform=C,u.style.transform=C,a.camera.style=C),function A(g,I,C,t){var i,n,s;g instanceof zA&&(g.onBeforeRender(r,I,C),s=g instanceof HA?(o.copy(C.matrixWorldInverse),o.transpose(),o.copyPosition(g.matrixWorld),o.scale(g.scale),o.elements[3]=0,o.elements[7]=0,o.elements[11]=0,o.elements[15]=1,l(o,t)):l(g.matrixWorld,t),i=g.element,void 0!==(n=a.objects.get(g))&&n.style===s||(i.style.WebkitTransform=s,s={style:i.style.transform=s},c&&(s.distanceToCameraSquared=v(C,g)),a.objects.set(g,s)),i.style.display=g.visible?"":"none",i.parentNode!==u&&u.appendChild(i),g.onAfterRender(r,I,C));for(var e=0,h=g.children.length;e<h;e++)A(g.children[e],I,C,t)}(A,A,g,t),c&&d(A)}}var _A=new dA,qA=new dA,$A=new SA;function Ag(A,g){this.normal=void 0!==A?A:new dA(1,0,0),this.constant=void 0!==g?g:0}Object.assign(Ag.prototype,{isPlane:!0,set:function(A,g){return this.normal.copy(A),this.constant=g,this},setComponents:function(A,g,I,C){return this.normal.set(A,g,I),this.constant=C,this},setFromNormalAndCoplanarPoint:function(A,g){return this.normal.copy(A),this.constant=-g.dot(this.normal),this},setFromCoplanarPoints:function(A,g,I){g=_A.subVectors(I,g).cross(qA.subVectors(A,g)).normalize();return this.setFromNormalAndCoplanarPoint(g,A),this},clone:function(){return(new this.constructor).copy(this)},copy:function(A){return this.normal.copy(A.normal),this.constant=A.constant,this},normalize:function(){var A=1/this.normal.length();return this.normal.multiplyScalar(A),this.constant*=A,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(A){return this.normal.dot(A)+this.constant},distanceToSphere:function(A){return this.distanceToPoint(A.center)-A.radius},projectPoint:function(A,g){return void 0===g&&(console.warn("THREE.Plane: .projectPoint() target is now required"),g=new dA),g.copy(this.normal).multiplyScalar(-this.distanceToPoint(A)).add(A)},intersectLine:function(A,g){void 0===g&&(console.warn("THREE.Plane: .intersectLine() target is now required"),g=new dA);var I=A.delta(_A),C=this.normal.dot(I);if(0===C)return 0===this.distanceToPoint(A.start)?g.copy(A.start):void 0;C=-(A.start.dot(this.normal)+this.constant)/C;return C<0||1<C?void 0:g.copy(I).multiplyScalar(C).add(A.start)},intersectsLine:function(A){var g=this.distanceToPoint(A.start),A=this.distanceToPoint(A.end);return g<0&&0<A||A<0&&0<g},intersectsBox:function(A){return A.intersectsPlane(this)},intersectsSphere:function(A){return A.intersectsPlane(this)},coplanarPoint:function(A){return void 0===A&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),A=new dA),A.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(A,g){g=g||$A.getNormalMatrix(A),A=this.coplanarPoint(_A).applyMatrix4(A),g=this.normal.applyMatrix3(g).normalize();return this.constant=-A.dot(g),this},translate:function(A){return this.constant-=A.dot(this.normal),this},equals:function(A){return A.normal.equals(this.normal)&&A.constant===this.constant}});var gg=new dA,Ig=new dA,Cg=new dA,tg=new dA,ig=new dA,ng=new dA,sg=new dA;function eg(A,g){this.origin=void 0!==A?A:new dA,this.direction=void 0!==g?g:new dA(0,0,-1)}function hg(A,g,I,C){this.ray=new eg(A,g),this.near=I||0,this.far=C||1/0,this.camera=null,this.layers=new ZA,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function rg(A,g){return A.distance-g.distance}function og(A,g,I,C){if(A.layers.test(g.layers)&&A.raycast(g,I),!0===C)for(var t=A.children,i=0,n=t.length;i<n;i++)og(t[i],g,I,!0)}Object.assign(eg.prototype,{set:function(A,g){return this.origin.copy(A),this.direction.copy(g),this},clone:function(){return(new this.constructor).copy(this)},copy:function(A){return this.origin.copy(A.origin),this.direction.copy(A.direction),this},at:function(A,g){return void 0===g&&(console.warn("THREE.Ray: .at() target is now required"),g=new dA),g.copy(this.direction).multiplyScalar(A).add(this.origin)},lookAt:function(A){return this.direction.copy(A).sub(this.origin).normalize(),this},recast:function(A){return this.origin.copy(this.at(A,gg)),this},closestPointToPoint:function(A,g){void 0===g&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),g=new dA),g.subVectors(A,this.origin);A=g.dot(this.direction);return A<0?g.copy(this.origin):g.copy(this.direction).multiplyScalar(A).add(this.origin)},distanceToPoint:function(A){return Math.sqrt(this.distanceSqToPoint(A))},distanceSqToPoint:function(A){var g=gg.subVectors(A,this.origin).dot(this.direction);return g<0?this.origin.distanceToSquared(A):(gg.copy(this.direction).multiplyScalar(g).add(this.origin),gg.distanceToSquared(A))},distanceSqToSegment:function(A,g,I,C){Ig.copy(A).add(g).multiplyScalar(.5),Cg.copy(g).sub(A).normalize(),tg.copy(this.origin).sub(Ig);var t,i,n=.5*A.distanceTo(g),s=-this.direction.dot(Cg),e=tg.dot(this.direction),h=-tg.dot(Cg),r=tg.lengthSq(),A=Math.abs(1-s*s);return r=0<A?(i=s*e-h,g=n*A,0<=(t=s*h-e)?-g<=i?i<=g?(t*=A=1/A)*(t+s*(i*=A)+2*e)+i*(s*t+i+2*h)+r:(i=n,-(t=Math.max(0,-(s*i+e)))*t+i*(i+2*h)+r):(i=-n,-(t=Math.max(0,-(s*i+e)))*t+i*(i+2*h)+r):i<=-g?-(t=Math.max(0,-(-s*n+e)))*t+(i=0<t?-n:Math.min(Math.max(-n,-h),n))*(i+2*h)+r:i<=g?(t=0,(i=Math.min(Math.max(-n,-h),n))*(i+2*h)+r):-(t=Math.max(0,-(s*n+e)))*t+(i=0<t?n:Math.min(Math.max(-n,-h),n))*(i+2*h)+r):(i=0<s?-n:n,-(t=Math.max(0,-(s*i+e)))*t+i*(i+2*h)+r),I&&I.copy(this.direction).multiplyScalar(t).add(this.origin),C&&C.copy(Cg).multiplyScalar(i).add(Ig),r},intersectSphere:function(A,g){gg.subVectors(A.center,this.origin);var I=gg.dot(this.direction),C=gg.dot(gg)-I*I,A=A.radius*A.radius;if(A<C)return null;A=Math.sqrt(A-C),C=I-A,A=I+A;return C<0&&A<0?null:C<0?this.at(A,g):this.at(C,g)},intersectsSphere:function(A){return this.distanceSqToPoint(A.center)<=A.radius*A.radius},distanceToPlane:function(A){var g=A.normal.dot(this.direction);if(0===g)return 0===A.distanceToPoint(this.origin)?0:null;g=-(this.origin.dot(A.normal)+A.constant)/g;return 0<=g?g:null},intersectPlane:function(A,g){A=this.distanceToPlane(A);return null===A?null:this.at(A,g)},intersectsPlane:function(A){var g=A.distanceToPoint(this.origin);return 0===g||A.normal.dot(this.direction)*g<0},intersectBox:function(A,g){var I,C,t,i=1/this.direction.x,n=1/this.direction.y,s=1/this.direction.z,e=this.origin,i=0<=i?(I=(A.min.x-e.x)*i,(A.max.x-e.x)*i):(I=(A.max.x-e.x)*i,(A.min.x-e.x)*i),n=0<=n?(C=(A.min.y-e.y)*n,(A.max.y-e.y)*n):(C=(A.max.y-e.y)*n,(A.min.y-e.y)*n);return n<I||i<C?null:((I<C||I!=I)&&(I=C),(n<i||i!=i)&&(i=n),(s=0<=s?(t=(A.min.z-e.z)*s,(A.max.z-e.z)*s):(t=(A.max.z-e.z)*s,(A.min.z-e.z)*s))<I||i<t?null:((I<t||I!=I)&&(I=t),(i=s<i||i!=i?s:i)<0?null:this.at(0<=I?I:i,g)))},intersectsBox:function(A){return null!==this.intersectBox(A,gg)},intersectTriangle:function(A,g,I,C,t){ig.subVectors(g,A),ng.subVectors(I,A),sg.crossVectors(ig,ng);I=this.direction.dot(sg);if(0<I){if(C)return null;i=1}else{if(!(I<0))return null;i=-1,I=-I}tg.subVectors(this.origin,A);C=i*this.direction.dot(ng.crossVectors(tg,ng));if(C<0)return null;A=i*this.direction.dot(ig.cross(tg));if(A<0)return null;if(I<C+A)return null;var i=-i*tg.dot(sg);return i<0?null:this.at(i/I,t)},applyMatrix4:function(A){return this.origin.applyMatrix4(A),this.direction.transformDirection(A),this},equals:function(A){return A.origin.equals(this.origin)&&A.direction.equals(this.direction)}}),Object.assign(hg.prototype,{set:function(A,g){this.ray.set(A,g)},setFromCamera:function(A,g){g&&g.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(g.matrixWorld),this.ray.direction.set(A.x,A.y,.5).unproject(g).sub(this.ray.origin).normalize(),this.camera=g):g&&g.isOrthographicCamera?(this.ray.origin.set(A.x,A.y,(g.near+g.far)/(g.near-g.far)).unproject(g),this.ray.direction.set(0,0,-1).transformDirection(g.matrixWorld),this.camera=g):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(A,g,I){I=I||[];return og(A,this,I,g),I.sort(rg),I},intersectObjects:function(A,g,I){var C=I||[];if(!1===Array.isArray(A))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),C;for(var t=0,i=A.length;t<i;t++)og(A[t],this,C,g);return C.sort(rg),C}});var ag={AMAP_SATELLITE:1,AMAP_VECTOR:2,BAIDU_VECTOR:4,BAIDU_SATELLITE:8,TD_VECTOR:16,TD_SATELLITE:32};function ug(A,g){for(var I=0;I<g.length;I++){var C=g[I];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(A,C.key,C)}}C=function(){function g(A){!function(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}(this,g),this.UI=void 0!==(A=A||{}).width?A.width:1e3,this.VI=void 0!==A.length?A.length:1e3,this.XI=void 0!==A.offset?A.offset:1,this.QI=void 0===A.visible||A.visible,this.fg=void 0!==A.mode?A.mode:ag.AMAP_VECTOR,this.WI=void 0!==A.cameraY?A.cameraY:1e3,this.KI=.5,this.zI=A.container,void 0===this.zI&&(this.zI=document.createElement("div"),document.getElementsByTagName("body")[0].appendChild(this.zI)),this.zI.style.width=this.UI/this.KI+"px",this.zI.style.height=this.VI/this.KI+"px",this.zI.style.opacity=1,this.HI=new KA,this.JI=new hg,this._I=null,this.qI=this.XI,this.$I=null,this.AC=new Ag(new dA(0,1,0),0),this.gC=new dA,this.IC=new dA,this.CC=!1,this.tC=this.tC.bind(this),this.iC=this.iC.bind(this),this.nC=this.nC.bind(this),this.sC=this.sC.bind(this),this.eC=null}var A,I,C;return A=g,(I=[{key:"visible",get:function(){return this.QI},set:function(A){this.QI=A,this.eC&&(this.eC.visible=this.QI)}},{key:"addTo",value:function(A){this._I=A,this.qI=this._I.getFloor(this._I.getVisibleLevels()[0]).height-this.XI,this.a()}},{key:"remove",value:function(){this.dispose(),this._I.off("resize",this.tC),this._I.off("update",this.iC),this._I.off("viewChanged",this.nC),this._I.off("visibleLevelsLoaded",this.sC),this._I=null,this.CC=!1}},{key:"dispose",value:function(){this.$I&&this.$I.dispose(),this.$I=null,this.zI.style.display="",this.eC=null,this.hC=null}}])&&ug(A.prototype,I),C&&ug(A,C),g}();Object.assign(C.prototype,{a:function(){this.CC||(this.hC=this.rC(),this.eC=this.oC(),this.$I=this.aC(),this.uC(),this._I.on("resize",this.tC),this._I.on("update",this.iC),this._I.on("viewChanged",this.nC),this._I.on("visibleLevelsLoaded",this.sC),this.CC=!0)},rC:function(){var A=new JA;return A.setSize(this._I.getContainer().clientWidth,this._I.getContainer().clientHeight),A.domElement.style.position="absolute",A.domElement.style.top=0,A.domElement.style.zIndex=-1,this._I.getContainer().appendChild(A.domElement),A},oC:function(){var A=new zA(this.zI);return A.position.x=0,A.position.y=this.qI,A.position.z=0,A.rotation.x=-Math.PI/2,A.scale.set(this.KI,this.KI,this.KI),A.visible=this.QI,this.HI.add(A),A},aC:function(){for(var A,C=this,g=ol.proj.get("EPSG:3857"),I=[],t=0;t<19;t++)I[t]=Math.pow(2,18-t);this.fg===ag.AMAP_SATELLITE||this.fg===ag.AMAP_VECTOR?i=new ol.source.XYZ({url:this.cC()}):this.fg===ag.BAIDU_VECTOR||this.fg===ag.BAIDU_SATELLITE?(A=new ol.tilegrid.TileGrid({origin:[0,0],resolutions:I}),i=new ol.source.TileImage({projection:g,tileGrid:A,tileUrlFunction:function(A){if(!A)return"";var g=A[0],I=A[1],A=-A[2]-1;return C.lC(I=I<0?"M"+-I:I,A=A<0?"M"+-A:A,g)}})):(i=new ol.source.XYZ({url:this.fC()[0],tileSize:[512,512]}),n=new ol.source.XYZ({url:this.fC()[1],tileSize:[512,512]}));var i=new ol.Map({view:new ol.View({center:[this._I.getX(),this._I.getY()],zoom:16,projection:g}),layers:[new ol.layer.Tile({source:i}),new ol.layer.Tile({source:n})]});i.setTarget(this.zI);var n=ol.geom.Polygon.fromExtent([this._I.getX()-this.UI/2,(this._I.getY()-this.qI)/2,this._I.getX()+this.UI/2,this._I.getY()+this.qI/2]);return i.getView().fit(n),i},cC:function(){var A=this.fg===ag.AMAP_SATELLITE?"http://wprd0{1-4}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&style=6&x={x}&y={y}&z={z}":"https://wprd0{1-4}.is.autonavi.com/appmaptile?lang=zh_cn&size=2&style=7&x={x}&y={y}&z={z}";return A},lC:function(A,g,I){I=this.fg===ag.BAIDU_SATELLITE?"https://gss0.bdstatic.com/5bwHcj7lABFY8t_jkk_Z1zRvfdw6buu/it/u=x="+A+";y="+g+";z="+I+";v=009;type=sate&fm=46&udt=20210415&scaler=2":"https://maponline"+parseInt(4*Math.random())+".bdimg.com/tile/?qt=vtile&x="+A+"&y="+g+"&z="+I+"&styles=pl&scaler=2&udt=20210415&from=jsapi2_0&scaler=2";return I},fC:function(){var A;return this.fg===ag.TD_SATELLITE?((A=[]).push("http://t{0-7}.tianditu.gov.cn/img_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&Layer=img&STYLE=default&TILEMATRIXSET=w&FORMAT=png&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=9a8b557e9db74e442bd9544001392255"),A.push("https://t{0-7}.tianditu.gov.cn/cia_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=cia&STYLE=default&TILEMATRIXSET=w&FORMAT=png&TILECOL={x}&TILEROW={y}&TILEMATRIX={z}&tk=9a8b557e9db74e442bd9544001392255")):((A=[]).push("http://t{0-7}.tianditu.gov.cn/vec_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&Layer=vec&STYLE=default&TILEMATRIXSET=w&FORMAT=png&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=9a8b557e9db74e442bd9544001392255"),A.push("https://t{0-7}.tianditu.gov.cn/cva_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=cva&STYLE=default&TILEMATRIXSET=w&FORMAT=png&TILECOL={x}&TILEROW={y}&TILEMATRIX={z}&tk=9a8b557e9db74e442bd9544001392255")),A},tC:function(){this.hC.setSize(this._I.getContainer().clientWidth,this._I.getContainer().clientHeight)},iC:function(){this.hC.render(this.HI,this._I.getCamera())},nC:function(){this.uC()},uC:function(){var A=new dA(0,0,.5);this.JI.setFromCamera(A,this._I.getCamera());var g=new dA;this.JI.ray.intersectPlane(this.AC,g);var I=this.JI.ray.distanceToPlane(this.AC)/this.WI,C=g.x+this._I.getX(),t=-g.z+this._I.getY(),A=this.UI*I;this.eC.position.x=g.x,this.eC.position.z=g.z,this.eC.scale.set(I*this.KI,I*this.KI,I*this.KI);A=ol.geom.Polygon.fromExtent([C-A/2,t-A/2,C+A/2,t+A/2]);this.$I.getView().fit(A),this.$I.getView().setCenter([C,t])},sC:function(){this.qI=this._I.getFloor(this._I.getVisibleLevels()[0]).height-this.XI,this.eC.position.y=this.qI}});var cg,C=C,lg=window.fengmap||{},fg={FMCompass:i,FMControlPosition:c,FMZoomControl:o,FMToolbar:y};for(cg in fg)lg[cg]=fg[cg];var vg,dg={FMNaviMode:b,FMNaviPriority:w,FMLanguageType:I,FMNavigation:a};for(vg in dg)lg[vg]=dg[vg];lg.FMTileLayer=C,lg.FMTileProvider=ag,window.fengmap=lg;g.default=lg}],C={},t.m=I,t.c=C,t.d=function(A,g,I){t.o(A,g)||Object.defineProperty(A,g,{enumerable:!0,get:I})},t.r=function(A){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"vC",{value:!0})},t.t=function(g,A){if(1&A&&(g=t(g)),8&A)return g;if(4&A&&"object"==typeof g&&g&&g.vC)return g;var I=Object.create(null);if(t.r(I),Object.defineProperty(I,"default",{enumerable:!0,value:g}),2&A&&"string"!=typeof g)for(var C in g)t.d(I,C,function(A){return g[A]}.bind(null,C));return I},t.n=function(A){var g=A&&A.vC?function(){return A.default}:function(){return A};return t.d(g,"a",g),g},t.o=function(A,g){return Object.prototype.hasOwnProperty.call(A,g)},t.p="",t(t.s=0).default;function t(A){if(C[A])return C[A].exports;var g=C[A]={i:A,l:!1,exports:{}};return I[A].call(g.exports,g,g.exports,t),g.l=!0,g.exports}var I,C});