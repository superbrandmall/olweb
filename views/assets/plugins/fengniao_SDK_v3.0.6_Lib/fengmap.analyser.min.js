/*! Released Version v3.0.6,BUILD 3470. Fengmap Javascript SDK, see: https://www.fengmap.com for details */
!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("fs")):"function"==typeof define&&define.amd?define(["fs"],n):"object"==typeof exports?exports.fengmap=n(require("fs")):t.fengmap=n(t.fs)}(this,function(__WEBPACK_EXTERNAL_MODULE__47__){return d=[function(t,n,i){"use strict";var r,e,s=t.exports=i(1),o=i(16);s.codegen=i(40),s.fetch=i(41),s.path=i(42),s.fs=s.inquire("fs"),s.toArray=function(t){if(t){for(var n=Object.keys(t),i=new Array(n.length),r=0;r<n.length;)i[r]=t[n[r++]];return i}return[]},s.toObject=function(t){for(var n={},i=0;i<t.length;){var r=t[i++],e=t[i++];void 0!==e&&(n[r]=e)}return n};var u=/\\/g,h=/"/g;s.isReserved=function(t){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(t)},s.safeProp=function(t){return!/^[$\w_]+$/.test(t)||s.isReserved(t)?'["'+t.replace(u,"\\\\").replace(h,'\\"')+'"]':"."+t},s.ucFirst=function(t){return t.charAt(0).toUpperCase()+t.substring(1)};var f=/_([a-z])/g;s.camelCase=function(t){return t.substring(0,1)+t.substring(1).replace(f,function(t,n){return n.toUpperCase()})},s.compareFieldsById=function(t,n){return t.id-n.id},s.decorateType=function(t,n){if(t.$type)return n&&t.$type.name!==n&&(s.decorateRoot.remove(t.$type),t.$type.name=n,s.decorateRoot.add(t.$type)),t.$type;n=new(r=r||i(18))(n||t.name);return s.decorateRoot.add(n),n.ctor=t,Object.defineProperty(t,"$type",{value:n,enumerable:!1}),Object.defineProperty(t.prototype,"$type",{value:n,enumerable:!1}),n};var a=0;s.decorateEnum=function(t){if(t.$type)return t.$type;var n=new(e=e||i(2))("Enum"+a++,t);return s.decorateRoot.add(n),Object.defineProperty(t,"$type",{value:n,enumerable:!1}),n},s.setProperty=function(t,n,i){if("object"!=typeof t)throw TypeError("dst must be an object");if(!n)throw TypeError("path must be specified");return function t(n,i,r){var e=i.shift();return 0<i.length?n[e]=t(n[e]||{},i,r):((i=n[e])&&(r=[].concat(i).concat(r)),n[e]=r),n}(t,n=n.split("."),i)},Object.defineProperty(s,"decorateRoot",{get:function(){return o.decorated||(o.decorated=new(i(26)))}})},function(t,i,s){"use strict";!function(t){var r=i;function e(t,n,i){for(var r=Object.keys(n),e=0;e<r.length;++e)void 0!==t[r[e]]&&i||(t[r[e]]=n[r[e]]);return t}function n(t){function i(t,n){if(!(this instanceof i))return new i(t,n);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,i):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&e(this,n)}return(i.prototype=Object.create(Error.prototype)).constructor=i,Object.defineProperty(i.prototype,"name",{get:function(){return t}}),i.prototype.toString=function(){return this.name+": "+this.message},i}r.asPromise=s(13),r.base64=s(31),r.EventEmitter=s(32),r.float=s(33),r.inquire=s(14),r.utf8=s(34),r.pool=s(35),r.LongBits=s(36),r.isNode=Boolean(void 0!==t&&t&&t.process&&t.process.versions&&t.process.versions.node),r.global=r.isNode&&t||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},r.isString=function(t){return"string"==typeof t||t instanceof String},r.isObject=function(t){return t&&"object"==typeof t},r.isset=r.isSet=function(t,n){var i=t[n];return!(null==i||!t.hasOwnProperty(n))&&("object"!=typeof i||0<(Array.isArray(i)?i:Object.keys(i)).length)},r.Buffer=function(){try{var t=r.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),r.u=null,r.h=null,r.newBuffer=function(t){return"number"==typeof t?r.Buffer?r.h(t):new r.Array(t):r.Buffer?r.u(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(t){return t?r.LongBits.from(t).toHash():r.LongBits.zeroHash},r.longFromHash=function(t,n){t=r.LongBits.fromHash(t);return r.Long?r.Long.fromBits(t.lo,t.hi,n):t.toNumber(Boolean(n))},r.merge=e,r.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},r.newError=n,r.ProtocolError=n("ProtocolError"),r.oneOfGetter=function(t){for(var i={},n=0;n<t.length;++n)i[t[n]]=1;return function(){for(var t=Object.keys(this),n=t.length-1;-1<n;--n)if(1===i[t[n]]&&void 0!==this[t[n]]&&null!==this[t[n]])return t[n]}},r.oneOfSetter=function(i){return function(t){for(var n=0;n<i.length;++n)i[n]!==t&&delete this[i[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r.v=function(){var i=r.Buffer;i?(r.u=i.from!==Uint8Array.from&&i.from||function(t,n){return new i(t,n)},r.h=i.allocUnsafe||function(t){return new i(t)}):r.u=r.h=null}}.call(this,s(9))},function(t,n,i){"use strict";t.exports=s;var u=i(4);((s.prototype=Object.create(u.prototype)).constructor=s).className="Enum";var r=i(6),e=i(0);function s(t,n,i,r,e){if(u.call(this,t,i),n&&"object"!=typeof n)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=r,this.comments=e||{},this.reserved=void 0,n)for(var s=Object.keys(n),o=0;o<s.length;++o)"number"==typeof n[s[o]]&&(this.valuesById[this.values[s[o]]=n[s[o]]]=s[o])}s.fromJSON=function(t,n){t=new s(t,n.values,n.options,n.comment,n.comments);return t.reserved=n.reserved,t},s.prototype.toJSON=function(t){t=!!t&&Boolean(t.keepComments);return e.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},s.prototype.add=function(t,n,i){if(!e.isString(t))throw TypeError("name must be a string");if(!e.isInteger(n))throw TypeError("id must be an integer");if(void 0!==this.values[t])throw Error("duplicate name '"+t+"' in "+this);if(this.isReservedId(n))throw Error("id "+n+" is reserved in "+this);if(this.isReservedName(t))throw Error("name '"+t+"' is reserved in "+this);if(void 0!==this.valuesById[n]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+n+" in "+this);this.values[t]=n}else this.valuesById[this.values[t]=n]=t;return this.comments[t]=i||null,this},s.prototype.remove=function(t){if(!e.isString(t))throw TypeError("name must be a string");var n=this.values[t];if(null==n)throw Error("name '"+t+"' does not exist in "+this);return delete this.valuesById[n],delete this.values[t],delete this.comments[t],this},s.prototype.isReservedId=function(t){return r.isReservedId(this.reserved,t)},s.prototype.isReservedName=function(t){return r.isReservedName(this.reserved,t)}},function(t,n,i){"use strict";!function(o){function u(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var h=null,t=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,i,r,e;function s(){return e.apply(this,arguments)}return n=t,i=null,r=[{key:"global",value:(e=function(){if("undefined"!=typeof self&&null!==self&&0!==Object.keys(self).length)return self;if("undefined"!=typeof window&&null!==window&&0!==Object.keys(window).length)return window;if(null!=o&&0!==Object.keys(o).length)return o;if("undefined"==typeof my)throw new Error("unable to locate global object");var t;return h||(t=my.getAppIdSync(),h={location:{host:t.appId+".hybrid.alipay-eco.com"}}),h},s.toString=function(){return e.toString()},s)}],i&&u(n.prototype,i),r&&u(n,r),t}();n.a=t}.call(this,i(9))},function(t,n,i){"use strict";(t.exports=e).className="ReflectionObject";var r,o=i(0);function e(t,n){if(!o.isString(t))throw TypeError("name must be a string");if(n&&!o.isObject(n))throw TypeError("options must be an object");this.options=n,this.parsedOptions=null,this.name=t,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(e.prototype,{root:{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t}},fullName:{get:function(){for(var t=[this.name],n=this.parent;n;)t.unshift(n.name),n=n.parent;return t.join(".")}}}),e.prototype.toJSON=function(){throw Error()},e.prototype.onAdd=function(t){this.parent&&this.parent!==t&&this.parent.remove(this),this.parent=t,this.resolved=!1;t=t.root;t instanceof r&&t.b(this)},e.prototype.onRemove=function(t){t=t.root;t instanceof r&&t._(this),this.parent=null,this.resolved=!1},e.prototype.resolve=function(){return this.resolved||this.root instanceof r&&(this.resolved=!0),this},e.prototype.getOption=function(t){if(this.options)return this.options[t]},e.prototype.setOption=function(t,n,i){return i&&this.options&&void 0!==this.options[t]||((this.options||(this.options={}))[t]=n),this},e.prototype.setParsedOption=function(n,t,i){this.parsedOptions||(this.parsedOptions=[]);var r,e,s=this.parsedOptions;return i?(e=s.find(function(t){return Object.prototype.hasOwnProperty.call(t,n)}))?(r=e[n],o.setProperty(r,i,t)):((e={})[n]=o.setProperty({},i,t),s.push(e)):((e={})[n]=t,s.push(e)),this},e.prototype.setOptions=function(t,n){if(t)for(var i=Object.keys(t),r=0;r<i.length;++r)this.setOption(i[r],t[i[r]],n);return this},e.prototype.toString=function(){var t=this.constructor.className,n=this.fullName;return n.length?t+" "+n:t},e.v=function(t){r=t}},function(t,n,i){"use strict";t.exports=o;var u=i(4);((o.prototype=Object.create(u.prototype)).constructor=o).className="Field";var r,e=i(2),h=i(7),f=i(0),a=/^required|optional|repeated$/;function o(t,n,i,r,e,s,o){if(f.isObject(r)?(o=e,s=r,r=e=void 0):f.isObject(e)&&(o=s,s=e,e=void 0),u.call(this,t,s),!f.isInteger(n)||n<0)throw TypeError("id must be a non-negative integer");if(!f.isString(i))throw TypeError("type must be a string");if(void 0!==r&&!a.test(r=r.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==e&&!f.isString(e))throw TypeError("extend must be a string");this.rule=(r="proto3_optional"===r?"optional":r)&&"optional"!==r?r:void 0,this.type=i,this.id=n,this.extend=e||void 0,this.required="required"===r,this.optional=!this.required,this.repeated="repeated"===r,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!f.Long&&void 0!==h.long[i],this.bytes="bytes"===i,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this.g=null,this.comment=o}o.fromJSON=function(t,n){return new o(t,n.id,n.type,n.rule,n.extend,n.options,n.comment)},Object.defineProperty(o.prototype,"packed",{get:function(){return null===this.g&&(this.g=!1!==this.getOption("packed")),this.g}}),o.prototype.setOption=function(t,n,i){return"packed"===t&&(this.g=null),u.prototype.setOption.call(this,t,n,i)},o.prototype.toJSON=function(t){t=!!t&&Boolean(t.keepComments);return f.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},o.prototype.resolve=function(){return this.resolved?this:(void 0===(this.typeDefault=h.defaults[this.type])&&(this.resolvedType=(this.declaringField||this).parent.lookupTypeOrEnum(this.type),this.resolvedType instanceof r?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof e&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof e)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long?(this.typeDefault=f.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault)):this.bytes&&"string"==typeof this.typeDefault&&(f.base64.test(this.typeDefault)?f.base64.decode(this.typeDefault,t=f.newBuffer(f.base64.length(this.typeDefault)),0):f.utf8.write(this.typeDefault,t=f.newBuffer(f.utf8.length(this.typeDefault)),0),this.typeDefault=t),this.map?this.defaultValue=f.emptyObject:this.repeated?this.defaultValue=f.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof r&&(this.parent.ctor.prototype[this.name]=this.defaultValue),u.prototype.resolve.call(this));var t},o.d=function(i,r,e,s){return"function"==typeof r?r=f.decorateType(r).name:r&&"object"==typeof r&&(r=f.decorateEnum(r).name),function(t,n){f.decorateType(t.constructor).add(new o(n,i,r,e,{default:s}))}},o.v=function(t){r=t}},function(t,n,i){"use strict";t.exports=c;var r=i(4);((c.prototype=Object.create(r.prototype)).constructor=c).className="Namespace";var e,s,o,u=i(5),h=i(8),f=i(0);function a(t,n){if(t&&t.length){for(var i={},r=0;r<t.length;++r)i[t[r].name]=t[r].toJSON(n);return i}}function c(t,n){r.call(this,t,n),this.nested=void 0,this.O=null}function l(t){return t.O=null,t}c.fromJSON=function(t,n){return new c(t,n.options).addJSON(n.nested)},c.arrayToJSON=a,c.isReservedId=function(t,n){if(t)for(var i=0;i<t.length;++i)if("string"!=typeof t[i]&&t[i][0]<=n&&t[i][1]>n)return!0;return!1},c.isReservedName=function(t,n){if(t)for(var i=0;i<t.length;++i)if(t[i]===n)return!0;return!1},Object.defineProperty(c.prototype,"nestedArray",{get:function(){return this.O||(this.O=f.toArray(this.nested))}}),c.prototype.toJSON=function(t){return f.toObject(["options",this.options,"nested",a(this.nestedArray,t)])},c.prototype.addJSON=function(t){if(t)for(var n,i=Object.keys(t),r=0;r<i.length;++r)n=t[i[r]],this.add((void 0!==n.fields?e:void 0!==n.values?o:void 0!==n.methods?s:void 0!==n.id?u:c).fromJSON(i[r],n));return this},c.prototype.get=function(t){return this.nested&&this.nested[t]||null},c.prototype.getEnum=function(t){if(this.nested&&this.nested[t]instanceof o)return this.nested[t].values;throw Error("no such enum: "+t)},c.prototype.add=function(t){if(!(t instanceof u&&void 0!==t.extend||t instanceof e||t instanceof o||t instanceof s||t instanceof c||t instanceof h))throw TypeError("object must be a valid nested object");if(this.nested){var n=this.get(t.name);if(n){if(!(n instanceof c&&t instanceof c)||n instanceof e||n instanceof s)throw Error("duplicate name '"+t.name+"' in "+this);for(var i=n.nestedArray,r=0;r<i.length;++r)t.add(i[r]);this.remove(n),this.nested||(this.nested={}),t.setOptions(n.options,!0)}}else this.nested={};return(this.nested[t.name]=t).onAdd(this),l(this)},c.prototype.remove=function(t){if(!(t instanceof r))throw TypeError("object must be a ReflectionObject");if(t.parent!==this)throw Error(t+" is not a member of "+this);return delete this.nested[t.name],Object.keys(this.nested).length||(this.nested=void 0),t.onRemove(this),l(this)},c.prototype.define=function(t,n){if(f.isString(t))t=t.split(".");else if(!Array.isArray(t))throw TypeError("illegal path");if(t&&t.length&&""===t[0])throw Error("path must be relative");for(var i=this;0<t.length;){var r=t.shift();if(i.nested&&i.nested[r]){if(!((i=i.nested[r])instanceof c))throw Error("path conflicts with non-namespace objects")}else i.add(i=new c(r))}return n&&i.addJSON(n),i},c.prototype.resolveAll=function(){for(var t=this.nestedArray,n=0;n<t.length;)t[n]instanceof c?t[n++].resolveAll():t[n++].resolve();return this.resolve()},c.prototype.lookup=function(t,n,i){if("boolean"==typeof n?(i=n,n=void 0):n&&!Array.isArray(n)&&(n=[n]),f.isString(t)&&t.length){if("."===t)return this.root;t=t.split(".")}else if(!t.length)return this;if(""===t[0])return this.root.lookup(t.slice(1),n);var r=this.get(t[0]);if(r){if(1===t.length){if(!n||-1<n.indexOf(r.constructor))return r}else if(r instanceof c&&(r=r.lookup(t.slice(1),n,!0)))return r}else for(var e=0;e<this.nestedArray.length;++e)if(this.O[e]instanceof c&&(r=this.O[e].lookup(t,n,!0)))return r;return null===this.parent||i?null:this.parent.lookup(t,n)},c.prototype.lookupType=function(t){var n=this.lookup(t,[e]);if(!n)throw Error("no such type: "+t);return n},c.prototype.lookupEnum=function(t){var n=this.lookup(t,[o]);if(!n)throw Error("no such Enum '"+t+"' in "+this);return n},c.prototype.lookupTypeOrEnum=function(t){var n=this.lookup(t,[e,o]);if(!n)throw Error("no such Type or Enum '"+t+"' in "+this);return n},c.prototype.lookupService=function(t){var n=this.lookup(t,[s]);if(!n)throw Error("no such Service '"+t+"' in "+this);return n},c.v=function(t,n,i){e=t,s=n,o=i}},function(t,n,i){"use strict";var n=n,i=i(0),e=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function r(t,n){var i=0,r={};for(n|=0;i<t.length;)r[e[i+n]]=t[i++];return r}n.basic=r([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),n.defaults=r([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",i.emptyArray,null]),n.long=r([0,0,0,1,1],7),n.mapKey=r([0,0,0,5,5,0,0,0,1,1,0,2],2),n.packed=r([1,5,0,0,0,5,5,0,0,0,1,1,0])},function(t,n,i){"use strict";t.exports=o;var e=i(4);((o.prototype=Object.create(e.prototype)).constructor=o).className="OneOf";var r=i(5),s=i(0);function o(t,n,i,r){if(Array.isArray(n)||(i=n,n=void 0),e.call(this,t,i),void 0!==n&&!Array.isArray(n))throw TypeError("fieldNames must be an Array");this.oneof=n||[],this.fieldsArray=[],this.comment=r}function u(t){if(t.parent)for(var n=0;n<t.fieldsArray.length;++n)t.fieldsArray[n].parent||t.parent.add(t.fieldsArray[n])}o.fromJSON=function(t,n){return new o(t,n.oneof,n.options,n.comment)},o.prototype.toJSON=function(t){t=!!t&&Boolean(t.keepComments);return s.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},o.prototype.add=function(t){if(!(t instanceof r))throw TypeError("field must be a Field");return t.parent&&t.parent!==this.parent&&t.parent.remove(t),this.oneof.push(t.name),this.fieldsArray.push(t),u(t.partOf=this),this},o.prototype.remove=function(t){if(!(t instanceof r))throw TypeError("field must be a Field");var n=this.fieldsArray.indexOf(t);if(n<0)throw Error(t+" is not a member of "+this);return this.fieldsArray.splice(n,1),-1<(n=this.oneof.indexOf(t.name))&&this.oneof.splice(n,1),t.partOf=null,this},o.prototype.onAdd=function(t){e.prototype.onAdd.call(this,t);for(var n=0;n<this.oneof.length;++n){var i=t.get(this.oneof[n]);i&&!i.partOf&&(i.partOf=this).fieldsArray.push(i)}u(this)},o.prototype.onRemove=function(t){for(var n,i=0;i<this.fieldsArray.length;++i)(n=this.fieldsArray[i]).parent&&n.parent.remove(n);e.prototype.onRemove.call(this,t)},o.d=function(){for(var i=new Array(arguments.length),t=0;t<arguments.length;)i[t]=arguments[t++];return function(t,n){s.decorateType(t.constructor).add(new o(n,i)),Object.defineProperty(t,n,{get:s.oneOfGetter(i),set:s.oneOfSetter(i)})}}},function(t,n){var i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,n,i){"use strict";t.exports=c;var r,e=i(1),s=e.LongBits,o=e.base64,u=e.utf8;function h(t,n,i){this.fn=t,this.len=n,this.next=void 0,this.val=i}function f(){}function a(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function c(){this.len=0,this.head=new h(f,0,0),this.tail=this.head,this.states=null}function l(){return e.Buffer?function(){return(c.create=function(){return new r})()}:function(){return new c}}function v(t,n,i){n[i]=255&t}function d(t,n){this.len=t,this.next=void 0,this.val=n}function y(t,n,i){for(;t.hi;)n[i++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;127<t.lo;)n[i++]=127&t.lo|128,t.lo=t.lo>>>7;n[i++]=t.lo}function b(t,n,i){n[i]=255&t,n[i+1]=t>>>8&255,n[i+2]=t>>>16&255,n[i+3]=t>>>24}c.create=l(),c.alloc=function(t){return new e.Array(t)},e.Array!==Array&&(c.alloc=e.pool(c.alloc,e.Array.prototype.subarray)),c.prototype.j=function(t,n,i){return this.tail=this.tail.next=new h(t,n,i),this.len+=n,this},(d.prototype=Object.create(h.prototype)).fn=function(t,n,i){for(;127<t;)n[i++]=127&t|128,t>>>=7;n[i]=t},c.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new d((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},c.prototype.int32=function(t){return t<0?this.j(y,10,s.fromNumber(t)):this.uint32(t)},c.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},c.prototype.int64=c.prototype.uint64=function(t){t=s.from(t);return this.j(y,t.length(),t)},c.prototype.sint64=function(t){t=s.from(t).zzEncode();return this.j(y,t.length(),t)},c.prototype.bool=function(t){return this.j(v,1,t?1:0)},c.prototype.sfixed32=c.prototype.fixed32=function(t){return this.j(b,4,t>>>0)},c.prototype.sfixed64=c.prototype.fixed64=function(t){t=s.from(t);return this.j(b,4,t.lo).j(b,4,t.hi)},c.prototype.float=function(t){return this.j(e.float.writeFloatLE,4,t)},c.prototype.double=function(t){return this.j(e.float.writeDoubleLE,8,t)};var p=e.Array.prototype.set?function(t,n,i){n.set(t,i)}:function(t,n,i){for(var r=0;r<t.length;++r)n[i+r]=t[r]};c.prototype.bytes=function(t){var n,i=t.length>>>0;return i?(e.isString(t)&&(n=c.alloc(i=o.length(t)),o.decode(t,n,0),t=n),this.uint32(i).j(p,i,t)):this.j(v,1,0)},c.prototype.string=function(t){var n=u.length(t);return n?this.uint32(n).j(u.write,n,t):this.j(v,1,0)},c.prototype.fork=function(){return this.states=new a(this),this.head=this.tail=new h(f,0,0),this.len=0,this},c.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new h(f,0,0),this.len=0),this},c.prototype.ldelim=function(){var t=this.head,n=this.tail,i=this.len;return this.reset().uint32(i),i&&(this.tail.next=t.next,this.tail=n,this.len+=i),this},c.prototype.finish=function(){for(var t=this.head.next,n=this.constructor.alloc(this.len),i=0;t;)t.fn(t.val,n,i),i+=t.len,t=t.next;return n},c.v=function(t){r=t,c.create=l(),r.v()}},function(t,n,i){"use strict";t.exports=h;var r,e=i(1),s=e.LongBits,o=e.utf8;function u(t,n){return RangeError("index out of range: "+t.pos+" + "+(n||1)+" > "+t.len)}function h(t){this.buf=t,this.pos=0,this.len=t.length}function f(){return e.Buffer?function(t){return(h.create=function(t){return e.Buffer.isBuffer(t)?new r(t):c(t)})(t)}:c}var a,c="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new h(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new h(t);throw Error("illegal buffer")};function l(){var t=new s(0,0),n=0;if(!(4<this.len-this.pos)){for(;n<3;++n){if(this.pos>=this.len)throw u(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*n)>>>0,t}for(;n<4;++n)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(n=0,4<this.len-this.pos){for(;n<5;++n)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}else for(;n<5;++n){if(this.pos>=this.len)throw u(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function v(t,n){return(t[n-4]|t[n-3]<<8|t[n-2]<<16|t[n-1]<<24)>>>0}function d(){if(this.pos+8>this.len)throw u(this,8);return new s(v(this.buf,this.pos+=4),v(this.buf,this.pos+=4))}h.create=f(),h.prototype.T=e.Array.prototype.subarray||e.Array.prototype.slice,h.prototype.uint32=(a=4294967295,function(){if(a=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return a;if(a=(a|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return a;if(a=(a|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return a;if(a=(a|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return a;if(a=(a|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return a;if((this.pos+=5)>this.len)throw this.pos=this.len,u(this,10);return a}),h.prototype.int32=function(){return 0|this.uint32()},h.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},h.prototype.bool=function(){return 0!==this.uint32()},h.prototype.fixed32=function(){if(this.pos+4>this.len)throw u(this,4);return v(this.buf,this.pos+=4)},h.prototype.sfixed32=function(){if(this.pos+4>this.len)throw u(this,4);return 0|v(this.buf,this.pos+=4)},h.prototype.float=function(){if(this.pos+4>this.len)throw u(this,4);var t=e.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},h.prototype.double=function(){if(this.pos+8>this.len)throw u(this,4);var t=e.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},h.prototype.bytes=function(){var t=this.uint32(),n=this.pos,i=this.pos+t;if(i>this.len)throw u(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(n,i):n===i?new this.buf.constructor(0):this.T.call(this.buf,n,i)},h.prototype.string=function(){var t=this.bytes();return o.read(t,0,t.length)},h.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw u(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw u(this)}while(128&this.buf[this.pos++]);return this},h.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},h.v=function(t){r=t,h.create=f(),r.v();var n=e.Long?"toLong":"toNumber";e.merge(h.prototype,{int64:function(){return l.call(this)[n](!1)},uint64:function(){return l.call(this)[n](!0)},sint64:function(){return l.call(this).zzDecode()[n](!1)},fixed64:function(){return d.call(this)[n](!0)},sfixed64:function(){return d.call(this)[n](!1)}})}},function(t,n,i){"use strict";t.exports=e;var r=i(1);function e(t){if(t)for(var n=Object.keys(t),i=0;i<n.length;++i)this[n[i]]=t[n[i]]}e.create=function(t){return this.$type.create(t)},e.encode=function(t,n){return this.$type.encode(t,n)},e.encodeDelimited=function(t,n){return this.$type.encodeDelimited(t,n)},e.decode=function(t){return this.$type.decode(t)},e.decodeDelimited=function(t){return this.$type.decodeDelimited(t)},e.verify=function(t){return this.$type.verify(t)},e.fromObject=function(t){return this.$type.fromObject(t)},e.toObject=function(t,n){return this.$type.toObject(t,n)},e.prototype.toJSON=function(){return this.$type.toObject(this,r.toJSONOptions)}},function(t,n,i){"use strict";t.exports=function(t,n){var i=new Array(arguments.length-1),s=0,r=2,o=!0;for(;r<arguments.length;)i[s++]=arguments[r++];return new Promise(function(r,e){i[s]=function(t){if(o)if(o=!1,t)e(t);else{for(var n=new Array(arguments.length-1),i=0;i<n.length;)n[i++]=arguments[i];r.apply(null,n)}};try{t.apply(n||null,i)}catch(t){o&&(o=!1,e(t))}})}},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},function(t,n,i){"use strict";n.Service=i(39)},function(t,n,i){"use strict";t.exports={}},function(t,n,i){"use strict";t.exports=function(t){for(var n,i=c.codegen(["m","w"],t.name+"$encode")("if(!w)")("w=Writer.create()"),r=t.fieldsArray.slice().sort(c.compareFieldsById),e=0;e<r.length;++e){var s=r[e].resolve(),o=t.M.indexOf(s),u=s.resolvedType instanceof f?"int32":s.type,h=a.basic[u];n="m"+c.safeProp(s.name),s.map?(i("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",n,s.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",n)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(s.id<<3|2)>>>0,8|a.mapKey[s.keyType],s.keyType),void 0===h?i("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",o,n):i(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|h,u,n),i("}")("}")):s.repeated?(i("if(%s!=null&&%s.length){",n,n),s.packed&&void 0!==a.packed[u]?i("w.uint32(%i).fork()",(s.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",n)("w.%s(%s[i])",u,n)("w.ldelim()"):(i("for(var i=0;i<%s.length;++i)",n),void 0===h?l(i,s,o,n+"[i]"):i("w.uint32(%i).%s(%s[i])",(s.id<<3|h)>>>0,u,n)),i("}")):(s.optional&&i("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",n,s.name),void 0===h?l(i,s,o,n):i("w.uint32(%i).%s(%s)",(s.id<<3|h)>>>0,u,n))}return i("return w")};var f=i(2),a=i(7),c=i(0);function l(t,n,i,r){return n.resolvedType.group?t("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",i,r,(n.id<<3|3)>>>0,(n.id<<3|4)>>>0):t("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",i,r,(n.id<<3|2)>>>0)}},function(t,n,i){"use strict";t.exports=_;var o=i(6);((_.prototype=Object.create(o.prototype)).constructor=_).className="Type";var u=i(2),h=i(8),f=i(5),a=i(19),c=i(20),e=i(12),s=i(11),l=i(10),v=i(0),d=i(17),y=i(22),b=i(23),p=i(24),w=i(25);function _(t,n){o.call(this,t,n),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this.k=null,this.M=null,this.R=null,this.A=null}function r(t){return t.k=t.M=t.R=null,delete t.encode,delete t.decode,delete t.verify,t}Object.defineProperties(_.prototype,{fieldsById:{get:function(){if(this.k)return this.k;this.k={};for(var t=Object.keys(this.fields),n=0;n<t.length;++n){var i=this.fields[t[n]],r=i.id;if(this.k[r])throw Error("duplicate id "+r+" in "+this);this.k[r]=i}return this.k}},fieldsArray:{get:function(){return this.M||(this.M=v.toArray(this.fields))}},oneofsArray:{get:function(){return this.R||(this.R=v.toArray(this.oneofs))}},ctor:{get:function(){return this.A||(this.ctor=_.generateConstructor(this)())},set:function(t){var n=t.prototype;n instanceof e||((t.prototype=new e).constructor=t,v.merge(t.prototype,n)),t.$type=t.prototype.$type=this,v.merge(t,e,!0),this.A=t;for(var i=0;i<this.fieldsArray.length;++i)this.M[i].resolve();for(var r={},i=0;i<this.oneofsArray.length;++i)r[this.R[i].resolve().name]={get:v.oneOfGetter(this.R[i].oneof),set:v.oneOfSetter(this.R[i].oneof)};i&&Object.defineProperties(t.prototype,r)}}}),_.generateConstructor=function(t){for(var n,i=v.codegen(["p"],t.name),r=0;r<t.fieldsArray.length;++r)(n=t.M[r]).map?i("this%s={}",v.safeProp(n.name)):n.repeated&&i("this%s=[]",v.safeProp(n.name));return i("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},_.fromJSON=function(t,n){var i=new _(t,n.options);i.extensions=n.extensions,i.reserved=n.reserved;for(var r=Object.keys(n.fields),e=0;e<r.length;++e)i.add((void 0!==n.fields[r[e]].keyType?a:f).fromJSON(r[e],n.fields[r[e]]));if(n.oneofs)for(r=Object.keys(n.oneofs),e=0;e<r.length;++e)i.add(h.fromJSON(r[e],n.oneofs[r[e]]));if(n.nested)for(r=Object.keys(n.nested),e=0;e<r.length;++e){var s=n.nested[r[e]];i.add((void 0!==s.id?f:void 0!==s.fields?_:void 0!==s.values?u:void 0!==s.methods?c:o).fromJSON(r[e],s))}return n.extensions&&n.extensions.length&&(i.extensions=n.extensions),n.reserved&&n.reserved.length&&(i.reserved=n.reserved),n.group&&(i.group=!0),n.comment&&(i.comment=n.comment),i},_.prototype.toJSON=function(t){var n=o.prototype.toJSON.call(this,t),i=!!t&&Boolean(t.keepComments);return v.toObject(["options",n&&n.options||void 0,"oneofs",o.arrayToJSON(this.oneofsArray,t),"fields",o.arrayToJSON(this.fieldsArray.filter(function(t){return!t.declaringField}),t)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",n&&n.nested||void 0,"comment",i?this.comment:void 0])},_.prototype.resolveAll=function(){for(var t=this.fieldsArray,n=0;n<t.length;)t[n++].resolve();for(var i=this.oneofsArray,n=0;n<i.length;)i[n++].resolve();return o.prototype.resolveAll.call(this)},_.prototype.get=function(t){return this.fields[t]||this.oneofs&&this.oneofs[t]||this.nested&&this.nested[t]||null},_.prototype.add=function(t){if(this.get(t.name))throw Error("duplicate name '"+t.name+"' in "+this);if(t instanceof f&&void 0===t.extend){if((this.k||this.fieldsById)[t.id])throw Error("duplicate id "+t.id+" in "+this);if(this.isReservedId(t.id))throw Error("id "+t.id+" is reserved in "+this);if(this.isReservedName(t.name))throw Error("name '"+t.name+"' is reserved in "+this);return t.parent&&t.parent.remove(t),(this.fields[t.name]=t).message=this,t.onAdd(this),r(this)}return t instanceof h?(this.oneofs||(this.oneofs={}),(this.oneofs[t.name]=t).onAdd(this),r(this)):o.prototype.add.call(this,t)},_.prototype.remove=function(t){if(t instanceof f&&void 0===t.extend){if(!this.fields||this.fields[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.fields[t.name],t.parent=null,t.onRemove(this),r(this)}if(t instanceof h){if(!this.oneofs||this.oneofs[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.oneofs[t.name],t.parent=null,t.onRemove(this),r(this)}return o.prototype.remove.call(this,t)},_.prototype.isReservedId=function(t){return o.isReservedId(this.reserved,t)},_.prototype.isReservedName=function(t){return o.isReservedName(this.reserved,t)},_.prototype.create=function(t){return new this.ctor(t)},_.prototype.setup=function(){for(var t=this.fullName,n=[],i=0;i<this.fieldsArray.length;++i)n.push(this.M[i].resolve().resolvedType);this.encode=d(this)({Writer:l,types:n,util:v}),this.decode=y(this)({Reader:s,types:n,util:v}),this.verify=b(this)({types:n,util:v}),this.fromObject=p.fromObject(this)({types:n,util:v}),this.toObject=p.toObject(this)({types:n,util:v});var r=w[t];return r&&((t=Object.create(this)).fromObject=this.fromObject,this.fromObject=r.fromObject.bind(t),t.toObject=this.toObject,this.toObject=r.toObject.bind(t)),this},_.prototype.encode=function(t,n){return this.setup().encode(t,n)},_.prototype.encodeDelimited=function(t,n){return this.encode(t,n&&n.len?n.fork():n).ldelim()},_.prototype.decode=function(t,n){return this.setup().decode(t,n)},_.prototype.decodeDelimited=function(t){return t instanceof s||(t=s.create(t)),this.decode(t,t.uint32())},_.prototype.verify=function(t){return this.setup().verify(t)},_.prototype.fromObject=function(t){return this.setup().fromObject(t)},_.prototype.toObject=function(t,n){return this.setup().toObject(t,n)},_.d=function(n){return function(t){v.decorateType(t,n)}}},function(t,n,i){"use strict";t.exports=s;var o=i(5);((s.prototype=Object.create(o.prototype)).constructor=s).className="MapField";var r=i(7),u=i(0);function s(t,n,i,r,e,s){if(o.call(this,t,n,r,void 0,void 0,e,s),!u.isString(i))throw TypeError("keyType must be a string");this.keyType=i,this.resolvedKeyType=null,this.map=!0}s.fromJSON=function(t,n){return new s(t,n.id,n.keyType,n.type,n.options,n.comment)},s.prototype.toJSON=function(t){t=!!t&&Boolean(t.keepComments);return u.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},s.prototype.resolve=function(){if(this.resolved)return this;if(void 0===r.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return o.prototype.resolve.call(this)},s.d=function(i,r,e){return"function"==typeof e?e=u.decorateType(e).name:e&&"object"==typeof e&&(e=u.decorateEnum(e).name),function(t,n){u.decorateType(t.constructor).add(new s(n,i,r,e))}}},function(t,n,i){"use strict";t.exports=o;var r=i(6);((o.prototype=Object.create(r.prototype)).constructor=o).className="Service";var s=i(21),u=i(0),h=i(15);function o(t,n){r.call(this,t,n),this.methods={},this.S=null}function e(t){return t.S=null,t}o.fromJSON=function(t,n){var i=new o(t,n.options);if(n.methods)for(var r=Object.keys(n.methods),e=0;e<r.length;++e)i.add(s.fromJSON(r[e],n.methods[r[e]]));return n.nested&&i.addJSON(n.nested),i.comment=n.comment,i},o.prototype.toJSON=function(t){var n=r.prototype.toJSON.call(this,t),i=!!t&&Boolean(t.keepComments);return u.toObject(["options",n&&n.options||void 0,"methods",r.arrayToJSON(this.methodsArray,t)||{},"nested",n&&n.nested||void 0,"comment",i?this.comment:void 0])},Object.defineProperty(o.prototype,"methodsArray",{get:function(){return this.S||(this.S=u.toArray(this.methods))}}),o.prototype.get=function(t){return this.methods[t]||r.prototype.get.call(this,t)},o.prototype.resolveAll=function(){for(var t=this.methodsArray,n=0;n<t.length;++n)t[n].resolve();return r.prototype.resolve.call(this)},o.prototype.add=function(t){if(this.get(t.name))throw Error("duplicate name '"+t.name+"' in "+this);return t instanceof s?e((this.methods[t.name]=t).parent=this):r.prototype.add.call(this,t)},o.prototype.remove=function(t){if(t instanceof s){if(this.methods[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.methods[t.name],t.parent=null,e(this)}return r.prototype.remove.call(this,t)},o.prototype.create=function(t,n,i){for(var r,e=new h.Service(t,n,i),s=0;s<this.methodsArray.length;++s){var o=u.lcFirst((r=this.S[s]).resolve().name).replace(/[^$\w_]/g,"");e[o]=u.codegen(["r","c"],u.isReserved(o)?o+"_":o)("return this.rpcCall(m,q,s,r,c)")({m:r,q:r.resolvedRequestType.ctor,s:r.resolvedResponseType.ctor})}return e}},function(t,n,i){"use strict";t.exports=r;var f=i(4);((r.prototype=Object.create(f.prototype)).constructor=r).className="Method";var a=i(0);function r(t,n,i,r,e,s,o,u,h){if(a.isObject(e)?(o=e,e=s=void 0):a.isObject(s)&&(o=s,s=void 0),void 0!==n&&!a.isString(n))throw TypeError("type must be a string");if(!a.isString(i))throw TypeError("requestType must be a string");if(!a.isString(r))throw TypeError("responseType must be a string");f.call(this,t,o),this.type=n||"rpc",this.requestType=i,this.requestStream=!!e||void 0,this.responseType=r,this.responseStream=!!s||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=u,this.parsedOptions=h}r.fromJSON=function(t,n){return new r(t,n.type,n.requestType,n.responseType,n.requestStream,n.responseStream,n.options,n.comment,n.parsedOptions)},r.prototype.toJSON=function(t){t=!!t&&Boolean(t.keepComments);return a.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])},r.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),f.prototype.resolve.call(this))}},function(t,n,i){"use strict";t.exports=function(t){var n=f.codegen(["r","l"],t.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(t.fieldsArray.filter(function(t){return t.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");t.group&&n("if((t&7)===4)")("break");n("switch(t>>>3){");for(var i=0;i<t.fieldsArray.length;++i){var r=t.M[i].resolve(),e=r.resolvedType instanceof u?"int32":r.type,s="m"+f.safeProp(r.name);n("case %i:",r.id),r.map?(n("if(%s===util.emptyObject)",s)("%s={}",s)("var c2 = r.uint32()+r.pos"),void 0!==h.defaults[r.keyType]?n("k=%j",h.defaults[r.keyType]):n("k=null"),void 0!==h.defaults[e]?n("value=%j",h.defaults[e]):n("value=null"),n("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",r.keyType)("case 2:"),void 0===h.basic[e]?n("value=types[%i].decode(r,r.uint32())",i):n("value=r.%s()",e),n("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),void 0!==h.long[r.keyType]?n('%s[typeof k==="object"?util.longToHash(k):k]=value',s):n("%s[k]=value",s)):r.repeated?(n("if(!(%s&&%s.length))",s,s)("%s=[]",s),void 0!==h.packed[e]&&n("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",s,e)("}else"),void 0===h.basic[e]?n(r.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",s,i):n("%s.push(r.%s())",s,e)):void 0===h.basic[e]?n(r.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",s,i):n("%s=r.%s()",s,e),n("break")}for(n("default:")("r.skipType(t&7)")("break")("}")("}"),i=0;i<t.M.length;++i){var o=t.M[i];o.required&&n("if(!m.hasOwnProperty(%j))",o.name)("throw util.ProtocolError(%j,{instance:m})","missing required '"+o.name+"'")}return n("return m")};var u=i(2),h=i(7),f=i(0)},function(t,n,i){"use strict";t.exports=function(t){var n=h.codegen(["m"],t.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),i=t.oneofsArray,r={};i.length&&n("var p={}");for(var e=0;e<t.fieldsArray.length;++e){var s,o=t.M[e].resolve(),u="m"+h.safeProp(o.name);o.optional&&n("if(%s!=null&&m.hasOwnProperty(%j)){",u,o.name),o.map?(n("if(!util.isObject(%s))",u)("return%j",f(o,"object"))("var k=Object.keys(%s)",u)("for(var i=0;i<k.length;++i){"),function(t,n,i){switch(n.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.key32Re.test(%s))",i)("return%j",f(n,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.key64Re.test(%s))",i)("return%j",f(n,"integer|Long key"));break;case"bool":t("if(!util.key2Re.test(%s))",i)("return%j",f(n,"boolean key"))}}(n,o,"k[i]"),a(n,o,e,u+"[k[i]]")("}")):o.repeated?(n("if(!Array.isArray(%s))",u)("return%j",f(o,"array"))("for(var i=0;i<%s.length;++i){",u),a(n,o,e,u+"[i]")("}")):(o.partOf&&(s=h.safeProp(o.partOf.name),1===r[o.partOf.name]&&n("if(p%s===1)",s)("return%j",o.partOf.name+": multiple values"),r[o.partOf.name]=1,n("p%s=1",s)),a(n,o,e,u)),o.optional&&n("}")}return n("return null")};var o=i(2),h=i(0);function f(t,n){return t.name+": "+n+(t.repeated&&"array"!==n?"[]":t.map&&"object"!==n?"{k:"+t.keyType+"}":"")+" expected"}function a(t,n,i,r){if(n.resolvedType)if(n.resolvedType instanceof o){t("switch(%s){",r)("default:")("return%j",f(n,"enum value"));for(var e=Object.keys(n.resolvedType.values),s=0;s<e.length;++s)t("case %i:",n.resolvedType.values[e[s]]);t("break")("}")}else t("{")("var e=types[%i].verify(%s);",i,r)("if(e)")("return%j+e",n.name+".")("}");else switch(n.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.isInteger(%s))",r)("return%j",f(n,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",r,r,r,r)("return%j",f(n,"integer|Long"));break;case"float":case"double":t('if(typeof %s!=="number")',r)("return%j",f(n,"number"));break;case"bool":t('if(typeof %s!=="boolean")',r)("return%j",f(n,"boolean"));break;case"string":t("if(!util.isString(%s))",r)("return%j",f(n,"string"));break;case"bytes":t('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',r,r,r)("return%j",f(n,"buffer"))}return t}},function(t,n,i){"use strict";var n=n,l=i(2),v=i(0);function o(t,n,i,r){if(n.resolvedType)if(n.resolvedType instanceof l){t("switch(d%s){",r);for(var e=n.resolvedType.values,s=Object.keys(e),o=0;o<s.length;++o)n.repeated&&e[s[o]]===n.typeDefault&&t("default:"),t("case%j:",s[o])("case %i:",e[s[o]])("m%s=%j",r,e[s[o]])("break");t("}")}else t('if(typeof d%s!=="object")',r)("throw TypeError(%j)",n.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",r,i,r);else{var u=!1;switch(n.type){case"double":case"float":t("m%s=Number(d%s)",r,r);break;case"uint32":case"fixed32":t("m%s=d%s>>>0",r,r);break;case"int32":case"sint32":case"sfixed32":t("m%s=d%s|0",r,r);break;case"uint64":u=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",r,r,u)('else if(typeof d%s==="string")',r)("m%s=parseInt(d%s,10)",r,r)('else if(typeof d%s==="number")',r)("m%s=d%s",r,r)('else if(typeof d%s==="object")',r)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",r,r,r,u?"true":"");break;case"bytes":t('if(typeof d%s==="string")',r)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",r,r,r)("else if(d%s.length)",r)("m%s=d%s",r,r);break;case"string":t("m%s=String(d%s)",r,r);break;case"bool":t("m%s=Boolean(d%s)",r,r)}}return t}function d(t,n,i,r){if(n.resolvedType)n.resolvedType instanceof l?t("d%s=o.enums===String?types[%i].values[m%s]:m%s",r,i,r,r):t("d%s=types[%i].toObject(m%s,o)",r,i,r);else{var e=!1;switch(n.type){case"double":case"float":t("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",r,r,r,r);break;case"uint64":e=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t('if(typeof m%s==="number")',r)("d%s=o.longs===String?String(m%s):m%s",r,r,r)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",r,r,r,r,e?"true":"",r);break;case"bytes":t("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",r,r,r,r,r);break;default:t("d%s=m%s",r,r)}}return t}n.fromObject=function(t){var n=t.fieldsArray,i=v.codegen(["d"],t.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!n.length)return i("return new this.ctor");i("var m=new this.ctor");for(var r=0;r<n.length;++r){var e=n[r].resolve(),s=v.safeProp(e.name);e.map?(i("if(d%s){",s)('if(typeof d%s!=="object")',s)("throw TypeError(%j)",e.fullName+": object expected")("m%s={}",s)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",s),o(i,e,r,s+"[ks[i]]")("}")("}")):e.repeated?(i("if(d%s){",s)("if(!Array.isArray(d%s))",s)("throw TypeError(%j)",e.fullName+": array expected")("m%s=[]",s)("for(var i=0;i<d%s.length;++i){",s),o(i,e,r,s+"[i]")("}")("}")):(e.resolvedType instanceof l||i("if(d%s!=null){",s),o(i,e,r,s),e.resolvedType instanceof l||i("}"))}return i("return m")},n.toObject=function(t){var n=t.fieldsArray.slice().sort(v.compareFieldsById);if(!n.length)return v.codegen()("return {}");for(var i=v.codegen(["m","o"],t.name+"$toObject")("if(!o)")("o={}")("var d={}"),r=[],e=[],s=[],o=0;o<n.length;++o)n[o].partOf||(n[o].resolve().repeated?r:n[o].map?e:s).push(n[o]);if(r.length){for(i("if(o.arrays||o.defaults){"),o=0;o<r.length;++o)i("d%s=[]",v.safeProp(r[o].name));i("}")}if(e.length){for(i("if(o.objects||o.defaults){"),o=0;o<e.length;++o)i("d%s={}",v.safeProp(e[o].name));i("}")}if(s.length){for(i("if(o.defaults){"),o=0;o<s.length;++o){var u,h=s[o],f=v.safeProp(h.name);h.resolvedType instanceof l?i("d%s=o.enums===String?%j:%j",f,h.resolvedType.valuesById[h.typeDefault],h.typeDefault):h.long?i("if(util.Long){")("var n=new util.Long(%i,%i,%j)",h.typeDefault.low,h.typeDefault.high,h.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",f)("}else")("d%s=o.longs===String?%j:%i",f,h.typeDefault.toString(),h.typeDefault.toNumber()):h.bytes?(u="["+Array.prototype.slice.call(h.typeDefault).join(",")+"]",i("if(o.bytes===String)d%s=%j",f,String.fromCharCode.apply(String,h.typeDefault))("else{")("d%s=%s",f,u)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",f,f)("}")):i("d%s=%j",f,h.typeDefault)}i("}")}for(var a=!1,o=0;o<n.length;++o){var h=n[o],c=t.M.indexOf(h),f=v.safeProp(h.name);h.map?(a||(a=!0,i("var ks2")),i("if(m%s&&(ks2=Object.keys(m%s)).length){",f,f)("d%s={}",f)("for(var j=0;j<ks2.length;++j){"),d(i,h,c,f+"[ks2[j]]")("}")):h.repeated?(i("if(m%s&&m%s.length){",f,f)("d%s=[]",f)("for(var j=0;j<m%s.length;++j){",f),d(i,h,c,f+"[j]")("}")):(i("if(m%s!=null&&m.hasOwnProperty(%j)){",f,h.name),d(i,h,c,f),h.partOf&&i("if(o.oneofs)")("d%s=%j",v.safeProp(h.partOf.name),h.name)),i("}")}return i("return d")}},function(t,n,i){"use strict";var n=n,s=i(12);n[".google.protobuf.Any"]={fromObject:function(t){if(t&&t["@type"]){var n=t["@type"].substring(t["@type"].lastIndexOf("/")+1),i=this.lookup(n);if(i){n="."===t["@type"].charAt(0)?t["@type"].substr(1):t["@type"];return-1===n.indexOf("/")&&(n="/"+n),this.create({type_url:n,value:i.encode(i.fromObject(t)).finish()})}}return this.fromObject(t)},toObject:function(t,n){var i,r="",e="";if(n&&n.json&&t.type_url&&t.value&&(e=t.type_url.substring(t.type_url.lastIndexOf("/")+1),r=t.type_url.substring(0,t.type_url.lastIndexOf("/")+1),(i=this.lookup(e))&&(t=i.decode(t.value))),t instanceof this.ctor||!(t instanceof s))return this.toObject(t,n);n=t.$type.toObject(t,n),t="."===t.$type.fullName[0]?t.$type.fullName.substr(1):t.$type.fullName;return n["@type"]=e=(r=""===r?"type.googleapis.com/":r)+t,n}}},function(t,n,i){"use strict";t.exports=h;var r=i(6);((h.prototype=Object.create(r.prototype)).constructor=h).className="Root";var e,v,d,s=i(5),o=i(2),u=i(8),y=i(0);function h(t){r.call(this,"",t),this.deferred=[],this.files=[]}function b(){}h.fromJSON=function(t,n){return n=n||new h,t.options&&n.setOptions(t.options),n.addJSON(t.nested)},h.prototype.resolvePath=y.path.resolve,h.prototype.fetch=y.fetch,h.prototype.load=function t(n,s,e){"function"==typeof s&&(e=s,s=void 0);var o=this;if(!e)return y.asPromise(t,o,n,s);var u=e===b;function h(t,n){if(e){var i=e;if(e=null,u)throw t;i(t,n)}}function f(t){var n=t.lastIndexOf("google/protobuf/");if(-1<n){n=t.substring(n);if(n in d)return n}return null}function a(t,n){try{if(y.isString(n)&&"{"===n.charAt(0)&&(n=JSON.parse(n)),y.isString(n)){v.filename=t;var i,r=v(n,o,s),e=0;if(r.imports)for(;e<r.imports.length;++e)(i=f(r.imports[e])||o.resolvePath(t,r.imports[e]))&&c(i);if(r.weakImports)for(e=0;e<r.weakImports.length;++e)(i=f(r.weakImports[e])||o.resolvePath(t,r.weakImports[e]))&&c(i,!0)}else o.setOptions(n.options).addJSON(n.nested)}catch(t){h(t)}u||l||h(null,o)}function c(i,r){if(!(-1<o.files.indexOf(i)))if(o.files.push(i),i in d)u?a(i,d[i]):(++l,setTimeout(function(){--l,a(i,d[i])}));else if(u){var t;try{t=y.fs.readFileSync(i).toString("utf8")}catch(t){return void(r||h(t))}a(i,t)}else++l,o.fetch(i,function(t,n){--l,e&&(t?r?l||h(null,o):h(t):a(i,n))})}var l=0;y.isString(n)&&(n=[n]);for(var i,r=0;r<n.length;++r)(i=o.resolvePath("",n[r]))&&c(i);if(u)return o;l||h(null,o)},h.prototype.loadSync=function(t,n){if(!y.isNode)throw Error("not supported");return this.load(t,n,b)},h.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(t){return"'extend "+t.extend+"' in "+t.parent.fullName}).join(", "));return r.prototype.resolveAll.call(this)};var f=/^[A-Z]/;function a(t,n){var i=n.parent.lookup(n.extend);if(i){var r=new s(n.fullName,n.id,n.type,n.rule,void 0,n.options);return(r.declaringField=n).extensionField=r,i.add(r),1}}h.prototype.b=function(t){if(t instanceof s)void 0===t.extend||t.extensionField||a(0,t)||this.deferred.push(t);else if(t instanceof o)f.test(t.name)&&(t.parent[t.name]=t.values);else if(!(t instanceof u)){if(t instanceof e)for(var n=0;n<this.deferred.length;)a(0,this.deferred[n])?this.deferred.splice(n,1):++n;for(var i=0;i<t.nestedArray.length;++i)this.b(t.O[i]);f.test(t.name)&&(t.parent[t.name]=t)}},h.prototype._=function(t){var n;if(t instanceof s)void 0!==t.extend&&(t.extensionField?(t.extensionField.parent.remove(t.extensionField),t.extensionField=null):-1<(n=this.deferred.indexOf(t))&&this.deferred.splice(n,1));else if(t instanceof o)f.test(t.name)&&delete t.parent[t.name];else if(t instanceof r){for(var i=0;i<t.nestedArray.length;++i)this._(t.O[i]);f.test(t.name)&&delete t.parent[t.name]}},h.v=function(t,n,i){e=t,v=n,d=i}},function(t,n,i){"use strict";t.exports=i(29)},function(t,n,i){"use strict";!function(s){function e(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=i(47),t=(i(48),function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.N=null,this.I=400,this.L=null,this.D=null,this.P=new Map}var n,i,r;return n=t,(i=[{key:"url",get:function(){return this.N}},{key:"status",get:function(){return this.I}},{key:"responseType",get:function(){return this.L},set:function(t){this.L=t}},{key:"response",get:function(){return this.D}},{key:"open",value:function(t,n){"GET"==t&&(this.N=n)}},{key:"addEventListener",value:function(t,n){var i=this.P.get(t);i||this.P.set(t,i=[]),i.push(n)}},{key:"send",value:function(){var n=this,t=this.N,i=o.createReadStream(t),r=[],e=0;this.D=null,i.on("readable",function(){var t=i.read();null!=t&&(r.push(t),e+=t.length,n.D?n.D=s.concat([n.D,new s(t)],e):n.D=new s(t))}),i.on("end",function(){n.I=200,n.F("load")}),i.on("error",function(t){n.I=400,n.F("error",t)})}}])&&e(n.prototype,i),r&&e(n,r),t}());Object.assign(t.prototype,{F:function(t,n){if(0!=this.P.size){var i=this.P.get(t);if(i)for(var r=0;r<i.length;r++)i[r]&&i[r](n)}}}),n.a=t}.call(this,i(43).Buffer)},function(t,n,i){"use strict";var r=t.exports=i(30);r.build="light",r.load=function(t,n,i){return(n="function"==typeof n?(i=n,new r.Root):n||new r.Root).load(t,i)},r.loadSync=function(t,n){return(n=n||new r.Root).loadSync(t)},r.encoder=i(17),r.decoder=i(22),r.verifier=i(23),r.converter=i(24),r.ReflectionObject=i(4),r.Namespace=i(6),r.Root=i(26),r.Enum=i(2),r.Type=i(18),r.Field=i(5),r.OneOf=i(8),r.MapField=i(19),r.Service=i(20),r.Method=i(21),r.Message=i(12),r.wrappers=i(25),r.types=i(7),r.util=i(0),r.ReflectionObject.v(r.Root),r.Namespace.v(r.Type,r.Service,r.Enum),r.Root.v(r.Type),r.Field.v(r.Type)},function(t,n,i){"use strict";var r=n;function e(){r.util.v(),r.Writer.v(r.BufferWriter),r.Reader.v(r.BufferReader)}r.build="minimal",r.Writer=i(10),r.BufferWriter=i(37),r.Reader=i(11),r.BufferReader=i(38),r.util=i(1),r.rpc=i(15),r.roots=i(16),r.configure=e,e()},function(t,n,i){"use strict";n.length=function(t){var n=t.length;if(!n)return 0;for(var i=0;1<--n%4&&"="===t.charAt(n);)++i;return Math.ceil(3*t.length)/4-i};for(var f=new Array(64),h=new Array(123),r=0;r<64;)h[f[r]=r<26?r+65:r<52?r+71:r<62?r-4:r-59|43]=r++;n.encode=function(t,n,i){for(var r,e=null,s=[],o=0,u=0;n<i;){var h=t[n++];switch(u){case 0:s[o++]=f[h>>2],r=(3&h)<<4,u=1;break;case 1:s[o++]=f[r|h>>4],r=(15&h)<<2,u=2;break;case 2:s[o++]=f[r|h>>6],s[o++]=f[63&h],u=0}8191<o&&((e=e||[]).push(String.fromCharCode.apply(String,s)),o=0)}return u&&(s[o++]=f[r],s[o++]=61,1===u&&(s[o++]=61)),e?(o&&e.push(String.fromCharCode.apply(String,s.slice(0,o))),e.join("")):String.fromCharCode.apply(String,s.slice(0,o))};var a="invalid encoding";n.decode=function(t,n,i){for(var r,e=i,s=0,o=0;o<t.length;){var u=t.charCodeAt(o++);if(61===u&&1<s)break;if(void 0===(u=h[u]))throw Error(a);switch(s){case 0:r=u,s=1;break;case 1:n[i++]=r<<2|(48&u)>>4,r=u,s=2;break;case 2:n[i++]=(15&r)<<4|(60&u)>>2,r=u,s=3;break;case 3:n[i++]=(3&r)<<6|u,s=0}}if(1===s)throw Error(a);return i-e},n.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}},function(t,n,i){"use strict";function r(){this.P={}}(t.exports=r).prototype.on=function(t,n,i){return(this.P[t]||(this.P[t]=[])).push({fn:n,ctx:i||this}),this},r.prototype.off=function(t,n){if(void 0===t)this.P={};else if(void 0===n)this.P[t]=[];else for(var i=this.P[t],r=0;r<i.length;)i[r].fn===n?i.splice(r,1):++r;return this},r.prototype.emit=function(t){var n=this.P[t];if(n){for(var i=[],r=1;r<arguments.length;)i.push(arguments[r++]);for(r=0;r<n.length;)n[r].fn.apply(n[r++].ctx,i)}return this}},function(t,n,i){"use strict";function r(t){function n(t,n,i,r){var e=n<0?1:0;0===(n=e?-n:n)?t(0<1/n?0:2147483648,i,r):isNaN(n)?t(2143289344,i,r):t(34028234663852886e22<n?(e<<31|2139095040)>>>0:n<11754943508222875e-54?(e<<31|Math.round(n/1401298464324817e-60))>>>0:(e<<31|(e=Math.floor(Math.log(n)/Math.LN2))+127<<23|8388607&Math.round(n*Math.pow(2,-e)*8388608))>>>0,i,r)}function i(t,n,i){t=t(n,i),n=2*(t>>31)+1,i=t>>>23&255,t&=8388607;return 255==i?t?NaN:1/0*n:0==i?1401298464324817e-60*n*t:n*Math.pow(2,i-150)*(8388608+t)}function r(t,n,i){u[0]=t,n[i]=h[0],n[i+1]=h[1],n[i+2]=h[2],n[i+3]=h[3]}function e(t,n,i){u[0]=t,n[i]=h[3],n[i+1]=h[2],n[i+2]=h[1],n[i+3]=h[0]}function s(t,n){return h[0]=t[n],h[1]=t[n+1],h[2]=t[n+2],h[3]=t[n+3],u[0]}function o(t,n){return h[3]=t[n],h[2]=t[n+1],h[1]=t[n+2],h[0]=t[n+3],u[0]}var u,h,f,a,c;function l(t,n,i,r,e,s){var o,u,h=r<0?1:0;0===(r=h?-r:r)?(t(0,e,s+n),t(0<1/r?0:2147483648,e,s+i)):isNaN(r)?(t(0,e,s+n),t(2146959360,e,s+i)):17976931348623157e292<r?(t(0,e,s+n),t((h<<31|2146435072)>>>0,e,s+i)):r<22250738585072014e-324?(t((o=r/5e-324)>>>0,e,s+n),t((h<<31|o/4294967296)>>>0,e,s+i)):(1024===(u=Math.floor(Math.log(r)/Math.LN2))&&(u=1023),t(4503599627370496*(o=r*Math.pow(2,-u))>>>0,e,s+n),t((h<<31|u+1023<<20|1048576*o&1048575)>>>0,e,s+i))}function v(t,n,i,r,e){n=t(r,e+n),r=t(r,e+i),e=2*(r>>31)+1,i=r>>>20&2047,n=4294967296*(1048575&r)+n;return 2047==i?n?NaN:1/0*e:0==i?5e-324*e*n:e*Math.pow(2,i-1075)*(n+4503599627370496)}function d(t,n,i){f[0]=t,n[i]=a[0],n[i+1]=a[1],n[i+2]=a[2],n[i+3]=a[3],n[i+4]=a[4],n[i+5]=a[5],n[i+6]=a[6],n[i+7]=a[7]}function y(t,n,i){f[0]=t,n[i]=a[7],n[i+1]=a[6],n[i+2]=a[5],n[i+3]=a[4],n[i+4]=a[3],n[i+5]=a[2],n[i+6]=a[1],n[i+7]=a[0]}function b(t,n){return a[0]=t[n],a[1]=t[n+1],a[2]=t[n+2],a[3]=t[n+3],a[4]=t[n+4],a[5]=t[n+5],a[6]=t[n+6],a[7]=t[n+7],f[0]}function p(t,n){return a[7]=t[n],a[6]=t[n+1],a[5]=t[n+2],a[4]=t[n+3],a[3]=t[n+4],a[2]=t[n+5],a[1]=t[n+6],a[0]=t[n+7],f[0]}return"undefined"!=typeof Float32Array?(u=new Float32Array([-0]),h=new Uint8Array(u.buffer),c=128===h[3],t.writeFloatLE=c?r:e,t.writeFloatBE=c?e:r,t.readFloatLE=c?s:o,t.readFloatBE=c?o:s):(t.writeFloatLE=n.bind(null,w),t.writeFloatBE=n.bind(null,_),t.readFloatLE=i.bind(null,m),t.readFloatBE=i.bind(null,g)),"undefined"!=typeof Float64Array?(f=new Float64Array([-0]),a=new Uint8Array(f.buffer),c=128===a[7],t.writeDoubleLE=c?d:y,t.writeDoubleBE=c?y:d,t.readDoubleLE=c?b:p,t.readDoubleBE=c?p:b):(t.writeDoubleLE=l.bind(null,w,0,4),t.writeDoubleBE=l.bind(null,_,4,0),t.readDoubleLE=v.bind(null,m,0,4),t.readDoubleBE=v.bind(null,g,4,0)),t}function w(t,n,i){n[i]=255&t,n[i+1]=t>>>8&255,n[i+2]=t>>>16&255,n[i+3]=t>>>24}function _(t,n,i){n[i]=t>>>24,n[i+1]=t>>>16&255,n[i+2]=t>>>8&255,n[i+3]=255&t}function m(t,n){return(t[n]|t[n+1]<<8|t[n+2]<<16|t[n+3]<<24)>>>0}function g(t,n){return(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3])>>>0}t.exports=r(r)},function(t,n,i){"use strict";n.length=function(t){for(var n,i=0,r=0;r<t.length;++r)(n=t.charCodeAt(r))<128?i+=1:n<2048?i+=2:55296==(64512&n)&&56320==(64512&t.charCodeAt(r+1))?(++r,i+=4):i+=3;return i},n.read=function(t,n,i){if(i-n<1)return"";for(var r,e=null,s=[],o=0;n<i;)(r=t[n++])<128?s[o++]=r:191<r&&r<224?s[o++]=(31&r)<<6|63&t[n++]:239<r&&r<365?(r=((7&r)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536,s[o++]=55296+(r>>10),s[o++]=56320+(1023&r)):s[o++]=(15&r)<<12|(63&t[n++])<<6|63&t[n++],8191<o&&((e=e||[]).push(String.fromCharCode.apply(String,s)),o=0);return e?(o&&e.push(String.fromCharCode.apply(String,s.slice(0,o))),e.join("")):String.fromCharCode.apply(String,s.slice(0,o))},n.write=function(t,n,i){for(var r,e,s=i,o=0;o<t.length;++o)(r=t.charCodeAt(o))<128?n[i++]=r:(r<2048?n[i++]=r>>6|192:(55296==(64512&r)&&56320==(64512&(e=t.charCodeAt(o+1)))?(++o,n[i++]=(r=65536+((1023&r)<<10)+(1023&e))>>18|240,n[i++]=r>>12&63|128):n[i++]=r>>12|224,n[i++]=r>>6&63|128),n[i++]=63&r|128);return i-s}},function(t,n,i){"use strict";t.exports=function(n,i,t){var r=t||8192,e=r>>>1,s=null,o=r;return function(t){if(t<1||e<t)return n(t);r<o+t&&(s=n(r),o=0);t=i.call(s,o,o+=t);return 7&o&&(o=1+(7|o)),t}}},function(t,n,i){"use strict";t.exports=e;var r=i(1);function e(t,n){this.lo=t>>>0,this.hi=n>>>0}var s=e.zero=new e(0,0);s.toNumber=function(){return 0},s.zzEncode=s.zzDecode=function(){return this},s.length=function(){return 1};e.zeroHash="\0\0\0\0\0\0\0\0";e.fromNumber=function(t){if(0===t)return s;var n=t<0,i=(t=n?-t:t)>>>0,t=(t-i)/4294967296>>>0;return n&&(t=~t>>>0,i=~i>>>0,4294967295<++i&&(i=0,4294967295<++t&&(t=0))),new e(i,t)},e.from=function(t){if("number"==typeof t)return e.fromNumber(t);if(r.isString(t)){if(!r.Long)return e.fromNumber(parseInt(t,10));t=r.Long.fromString(t)}return t.low||t.high?new e(t.low>>>0,t.high>>>0):s},e.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var n=1+~this.lo>>>0,t=~this.hi>>>0;return-(n+4294967296*(t=!n?t+1>>>0:t))}return this.lo+4294967296*this.hi},e.prototype.toLong=function(t){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var o=String.prototype.charCodeAt;e.fromHash=function(t){return"\0\0\0\0\0\0\0\0"===t?s:new e((o.call(t,0)|o.call(t,1)<<8|o.call(t,2)<<16|o.call(t,3)<<24)>>>0,(o.call(t,4)|o.call(t,5)<<8|o.call(t,6)<<16|o.call(t,7)<<24)>>>0)},e.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},e.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},e.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},e.prototype.length=function(){var t=this.lo,n=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return 0==i?0==n?t<16384?t<128?1:2:t<2097152?3:4:n<16384?n<128?5:6:n<2097152?7:8:i<128?9:10}},function(t,n,i){"use strict";t.exports=s;var r=i(10);(s.prototype=Object.create(r.prototype)).constructor=s;var e=i(1);function s(){r.call(this)}function o(t,n,i){t.length<40?e.utf8.write(t,n,i):n.utf8Write?n.utf8Write(t,i):n.write(t,i)}s.v=function(){s.alloc=e.h,s.writeBytesBuffer=e.Buffer&&e.Buffer.prototype instanceof Uint8Array&&"set"===e.Buffer.prototype.set.name?function(t,n,i){n.set(t,i)}:function(t,n,i){if(t.copy)t.copy(n,i,0,t.length);else for(var r=0;r<t.length;)n[i++]=t[r++]}},s.prototype.bytes=function(t){var n=(t=e.isString(t)?e.u(t,"base64"):t).length>>>0;return this.uint32(n),n&&this.j(s.writeBytesBuffer,n,t),this},s.prototype.string=function(t){var n=e.Buffer.byteLength(t);return this.uint32(n),n&&this.j(o,n,t),this},s.v()},function(t,n,i){"use strict";t.exports=s;var r=i(11);(s.prototype=Object.create(r.prototype)).constructor=s;var e=i(1);function s(t){r.call(this,t)}s.v=function(){e.Buffer&&(s.prototype.T=e.Buffer.prototype.slice)},s.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))},s.v()},function(t,n,i){"use strict";t.exports=r;var u=i(1);function r(t,n,i){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");u.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(n),this.responseDelimited=Boolean(i)}((r.prototype=Object.create(u.EventEmitter.prototype)).constructor=r).prototype.rpcCall=function t(i,n,r,e,s){if(!e)throw TypeError("request must be specified");var o=this;if(!s)return u.asPromise(t,o,i,n,r,e);if(o.rpcImpl)try{return o.rpcImpl(i,n[o.requestDelimited?"encodeDelimited":"encode"](e).finish(),function(t,n){if(t)return o.emit("error",t,i),s(t);if(null!==n){if(!(n instanceof r))try{n=r[o.responseDelimited?"decodeDelimited":"decode"](n)}catch(t){return o.emit("error",t,i),s(t)}return o.emit("data",n,i),s(null,n)}o.end(!0)})}catch(t){return o.emit("error",t,i),void setTimeout(function(){s(t)},0)}else setTimeout(function(){s(Error("already ended"))},0)},r.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(t,n,i){"use strict";function r(n,i){"string"==typeof n&&(i=n,n=void 0);var h=[];function f(t){if("string"!=typeof t){var n="return "+(n=a());if(t){for(var i=Object.keys(t),r=new Array(i.length+1),e=new Array(i.length),s=0;s<i.length;)r[s]=i[s],e[s]=t[i[s++]];return r[s]=n,Function.apply(null,r).apply(null,e)}return Function(n)()}for(var o=new Array(arguments.length-1),u=0;u<o.length;)o[u]=arguments[++u];if(u=0,t=t.replace(/%([%dfijs])/g,function(t,n){var i=o[u++];switch(n){case"d":case"f":return String(Number(i));case"i":return String(Math.floor(i));case"j":return JSON.stringify(i);case"s":return String(i)}return"%"}),u!==o.length)throw Error("parameter count mismatch");return h.push(t),f}function a(t){return"function "+(t||i||"")+"("+(n&&n.join(",")||"")+"){\n  "+h.join("\n  ")+"\n}"}return f.toString=a,f}(t.exports=r).verbose=!1},function(t,n,i){"use strict";t.exports=u;var s=i(13),o=i(14)("fs");function u(i,r,e){return r="function"==typeof r?(e=r,{}):r||{},e?!r.xhr&&o&&o.readFile?o.readFile(i,function(t,n){return t&&"undefined"!=typeof XMLHttpRequest?u.xhr(i,r,e):t?e(t):e(null,r.binary?n:n.toString("utf8"))}):u.xhr(i,r,e):s(u,this,i,r)}u.xhr=function(t,i,r){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4===e.readyState){if(0!==e.status&&200!==e.status)return r(Error("status "+e.status));if(i.binary){if(!(t=e.response))for(var t=[],n=0;n<e.responseText.length;++n)t.push(255&e.responseText.charCodeAt(n));return r(null,"undefined"!=typeof Uint8Array?new Uint8Array(t):t)}return r(null,e.responseText)}},i.binary&&("overrideMimeType"in e&&e.overrideMimeType("text/plain; charset=x-user-defined"),e.responseType="arraybuffer"),e.open("GET",t),e.send()}},function(t,n,i){"use strict";var n=n,e=n.isAbsolute=function(t){return/^(?:\/|\w+:)/.test(t)},r=n.normalize=function(t){var n=(t=t.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),i=e(t),t="";i&&(t=n.shift()+"/");for(var r=0;r<n.length;)".."===n[r]?0<r&&".."!==n[r-1]?n.splice(--r,2):i?n.splice(r,1):++r:"."===n[r]?n.splice(r,1):++r;return t+n.join("/")};n.resolve=function(t,n,i){return i||(n=r(n)),!e(n)&&(t=(t=!i?r(t):t).replace(/(?:\/|^)[^/]+$/,"")).length?r(t+"/"+n):n}},function(t,N,I){"use strict";!function(t){var u=I(44),s=I(45),o=I(46);function i(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function e(t,n){if(i()<n)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(n)).__proto__=c.prototype:(t=null===t?new c(n):t).length=n,t}function c(t,n,i){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,n,i);if("number"!=typeof t)return r(this,t,n,i);if("string"==typeof n)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}function r(t,n,i,r){if("number"==typeof n)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer?function(t,n,i,r){if(n.byteLength,i<0||n.byteLength<i)throw new RangeError("'offset' is out of bounds");if(n.byteLength<i+(r||0))throw new RangeError("'length' is out of bounds");n=void 0===i&&void 0===r?new Uint8Array(n):void 0===r?new Uint8Array(n,i):new Uint8Array(n,i,r);c.TYPED_ARRAY_SUPPORT?(t=n).__proto__=c.prototype:t=a(t,n);return t}(t,n,i,r):"string"==typeof n?function(t,n,i){"string"==typeof i&&""!==i||(i="utf8");if(!c.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var r=0|v(n,i),i=(t=e(t,r)).write(n,i);i!==r&&(t=t.slice(0,i));return t}(t,n,i):function(t,n){if(c.isBuffer(n)){var i=0|l(n.length);return 0===(t=e(t,i)).length?t:(n.copy(t,0,0,i),t)}if(n){if("undefined"!=typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer||"length"in n)return"number"!=typeof n.length||function(t){return t!=t}(n.length)?e(t,0):a(t,n);if("Buffer"===n.type&&o(n.data))return a(t,n.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,n)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,n){if(h(n),t=e(t,n<0?0:0|l(n)),!c.TYPED_ARRAY_SUPPORT)for(var i=0;i<n;++i)t[i]=0;return t}function a(t,n){var i=n.length<0?0:0|l(n.length);t=e(t,i);for(var r=0;r<i;r+=1)t[r]=255&n[r];return t}function l(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function v(t,n){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;var i=(t="string"!=typeof t?""+t:t).length;if(0===i)return 0;for(var r=!1;;)switch(n){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return R(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return A(t).length;default:if(r)return R(t).length;n=(""+n).toLowerCase(),r=!0}}function n(t,n,i){var r,e,s,o=!1;if((n=void 0===n||n<0?0:n)>this.length)return"";if((i=void 0===i||i>this.length?this.length:i)<=0)return"";if((i>>>=0)<=(n>>>=0))return"";for(t=t||"utf8";;)switch(t){case"hex":return function(t,n,i){var r=t.length;(!n||n<0)&&(n=0);(!i||i<0||r<i)&&(i=r);for(var e="",s=n;s<i;++s)e+=function(t){return t<16?"0"+t.toString(16):t.toString(16)}(t[s]);return e}(this,n,i);case"utf8":case"utf-8":return _(this,n,i);case"ascii":return function(t,n,i){var r="";i=Math.min(t.length,i);for(var e=n;e<i;++e)r+=String.fromCharCode(127&t[e]);return r}(this,n,i);case"latin1":case"binary":return function(t,n,i){var r="";i=Math.min(t.length,i);for(var e=n;e<i;++e)r+=String.fromCharCode(t[e]);return r}(this,n,i);case"base64":return r=this,s=i,0===(e=n)&&s===r.length?u.fromByteArray(r):u.fromByteArray(r.slice(e,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(t,n,i){for(var r=t.slice(n,i),e="",s=0;s<r.length;s+=2)e+=String.fromCharCode(r[s]+256*r[s+1]);return e}(this,n,i);default:if(o)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),o=!0}}function d(t,n,i){var r=t[n];t[n]=t[i],t[i]=r}function y(t,n,i,r,e){if(0===t.length)return-1;if("string"==typeof i?(r=i,i=0):2147483647<i?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,(i=(i=isNaN(i)?e?0:t.length-1:i)<0?t.length+i:i)>=t.length){if(e)return-1;i=t.length-1}else if(i<0){if(!e)return-1;i=0}if("string"==typeof n&&(n=c.from(n,r)),c.isBuffer(n))return 0===n.length?-1:b(t,n,i,r,e);if("number"==typeof n)return n&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?(e?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(t,n,i):b(t,[n],i,r,e);throw new TypeError("val must be string, number or Buffer")}function b(t,n,i,r,e){var s=1,o=t.length,u=n.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||n.length<2)return-1;o/=s=2,u/=2,i/=2}function h(t,n){return 1===s?t[n]:t.readUInt16BE(n*s)}if(e)for(var f=-1,a=i;a<o;a++)if(h(t,a)===h(n,-1===f?0:a-f)){if(a-(f=-1===f?a:f)+1===u)return f*s}else-1!==f&&(a-=a-f),f=-1;else for(a=i=o<i+u?o-u:i;0<=a;a--){for(var c=!0,l=0;l<u;l++)if(h(t,a+l)!==h(n,l)){c=!1;break}if(c)return a}return-1}function p(t,n,i,r){return S(function(t){for(var n=[],i=0;i<t.length;++i)n.push(255&t.charCodeAt(i));return n}(n),t,i,r)}function w(t,n,i,r){return S(function(t,n){for(var i,r,e=[],s=0;s<t.length&&!((n-=2)<0);++s)r=t.charCodeAt(s),i=r>>8,r=r%256,e.push(r),e.push(i);return e}(n,t.length-i),t,i,r)}function _(t,n,i){i=Math.min(t.length,i);for(var r=[],e=n;e<i;){var s,o,u,h,f=t[e],a=null,c=239<f?4:223<f?3:191<f?2:1;if(e+c<=i)switch(c){case 1:f<128&&(a=f);break;case 2:128==(192&(s=t[e+1]))&&127<(h=(31&f)<<6|63&s)&&(a=h);break;case 3:s=t[e+1],o=t[e+2],128==(192&s)&&128==(192&o)&&2047<(h=(15&f)<<12|(63&s)<<6|63&o)&&(h<55296||57343<h)&&(a=h);break;case 4:s=t[e+1],o=t[e+2],u=t[e+3],128==(192&s)&&128==(192&o)&&128==(192&u)&&65535<(h=(15&f)<<18|(63&s)<<12|(63&o)<<6|63&u)&&h<1114112&&(a=h)}null===a?(a=65533,c=1):65535<a&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),e+=c}return function(t){var n=t.length;if(n<=m)return String.fromCharCode.apply(String,t);var i="",r=0;for(;r<n;)i+=String.fromCharCode.apply(String,t.slice(r,r+=m));return i}(r)}N.Buffer=c,N.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},N.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),N.kMaxLength=i(),c.poolSize=8192,c.C=function(t){return t.__proto__=c.prototype,t},c.from=function(t,n,i){return r(null,t,n,i)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,n,i){return r=null,n=n,i=i,h(t=t),!(t<=0)&&void 0!==n?"string"==typeof i?e(r,t).fill(n,i):e(r,t).fill(n):e(r,t);var r},c.allocUnsafe=function(t){return f(null,t)},c.allocUnsafeSlow=function(t){return f(null,t)},c.isBuffer=function(t){return!(null==t||!t.U)},c.compare=function(t,n){if(!c.isBuffer(t)||!c.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(t===n)return 0;for(var i=t.length,r=n.length,e=0,s=Math.min(i,r);e<s;++e)if(t[e]!==n[e]){i=t[e],r=n[e];break}return i<r?-1:r<i?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,n){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);if(void 0===n)for(e=n=0;e<t.length;++e)n+=t[e].length;for(var i=c.allocUnsafe(n),r=0,e=0;e<t.length;++e){var s=t[e];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,r),r+=s.length}return i},c.byteLength=v,c.prototype.U=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<t;n+=2)d(this,n,n+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<t;n+=4)d(this,n,n+3),d(this,n+1,n+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<t;n+=8)d(this,n,n+7),d(this,n+1,n+6),d(this,n+2,n+5),d(this,n+3,n+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0==t?"":0===arguments.length?_(this,0,t):n.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=N.INSPECT_MAX_BYTES;return 0<this.length&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,n,i,r,e){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===i&&(i=t?t.length:0),void 0===r&&(r=0),void 0===e&&(e=this.length),(n=void 0===n?0:n)<0||i>t.length||r<0||e>this.length)throw new RangeError("out of range index");if(e<=r&&i<=n)return 0;if(e<=r)return-1;if(i<=n)return 1;if(this===t)return 0;for(var s=(e>>>=0)-(r>>>=0),o=(i>>>=0)-(n>>>=0),u=Math.min(s,o),h=this.slice(r,e),f=t.slice(n,i),a=0;a<u;++a)if(h[a]!==f[a]){s=h[a],o=f[a];break}return s<o?-1:o<s?1:0},c.prototype.includes=function(t,n,i){return-1!==this.indexOf(t,n,i)},c.prototype.indexOf=function(t,n,i){return y(this,t,n,i,!0)},c.prototype.lastIndexOf=function(t,n,i){return y(this,t,n,i,!1)},c.prototype.write=function(t,n,i,r){if(void 0===n)r="utf8",i=this.length,n=0;else if(void 0===i&&"string"==typeof n)r=n,i=this.length,n=0;else{if(!isFinite(n))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");n|=0,isFinite(i)?(i|=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}var e=this.length-n;if((void 0===i||e<i)&&(i=e),0<t.length&&(i<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");r=r||"utf8";for(var s,o,u,h=!1;;)switch(r){case"hex":return function(t,n,i,r){i=Number(i)||0;var e=t.length-i;if((!r||e<(r=Number(r)))&&(r=e),(e=n.length)%2!=0)throw new TypeError("Invalid hex string");e/2<r&&(r=e/2);for(var s=0;s<r;++s){var o=parseInt(n.substr(2*s,2),16);if(isNaN(o))return s;t[i+s]=o}return s}(this,t,n,i);case"utf8":case"utf-8":return o=n,u=i,S(R(t,(s=this).length-o),s,o,u);case"ascii":return p(this,t,n,i);case"latin1":case"binary":return p(this,t,n,i);case"base64":return s=this,o=n,u=i,S(A(t),s,o,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,t,n,i);default:if(h)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),h=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this.B||this,0)}};var m=4096;function g(t,n,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(i<t+n)throw new RangeError("Trying to access beyond buffer length")}function x(t,n,i,r,e,s){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e<n||n<s)throw new RangeError('"value" argument is out of bounds');if(i+r>t.length)throw new RangeError("Index out of range")}function O(t,n,i,r){n<0&&(n=65535+n+1);for(var e=0,s=Math.min(t.length-i,2);e<s;++e)t[i+e]=(n&255<<8*(r?e:1-e))>>>8*(r?e:1-e)}function j(t,n,i,r){n<0&&(n=4294967295+n+1);for(var e=0,s=Math.min(t.length-i,4);e<s;++e)t[i+e]=n>>>8*(r?e:3-e)&255}function E(t,n,i,r){if(i+r>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function T(t,n,i,r,e){return e||E(t,0,i,4),s.write(t,n,i,r,23,4),i+4}function M(t,n,i,r,e){return e||E(t,0,i,8),s.write(t,n,i,r,52,8),i+8}c.prototype.slice=function(t,n){var i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):i<t&&(t=i),(n=void 0===n?i:~~n)<0?(n+=i)<0&&(n=0):i<n&&(n=i),n<t&&(n=t),c.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,n)).__proto__=c.prototype;else for(var r=n-t,e=new c(r,void 0),s=0;s<r;++s)e[s]=this[s+t];return e},c.prototype.readUIntLE=function(t,n,i){t|=0,n|=0,i||g(t,n,this.length);for(var r=this[t],e=1,s=0;++s<n&&(e*=256);)r+=this[t+s]*e;return r},c.prototype.readUIntBE=function(t,n,i){t|=0,n|=0,i||g(t,n,this.length);for(var r=this[t+--n],e=1;0<n&&(e*=256);)r+=this[t+--n]*e;return r},c.prototype.readUInt8=function(t,n){return n||g(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,n){return n||g(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,n){return n||g(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,n){return n||g(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,n){return n||g(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,n,i){t|=0,n|=0,i||g(t,n,this.length);for(var r=this[t],e=1,s=0;++s<n&&(e*=256);)r+=this[t+s]*e;return(e*=128)<=r&&(r-=Math.pow(2,8*n)),r},c.prototype.readIntBE=function(t,n,i){t|=0,n|=0,i||g(t,n,this.length);for(var r=n,e=1,s=this[t+--r];0<r&&(e*=256);)s+=this[t+--r]*e;return(e*=128)<=s&&(s-=Math.pow(2,8*n)),s},c.prototype.readInt8=function(t,n){return n||g(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,n){n||g(t,2,this.length);t=this[t]|this[t+1]<<8;return 32768&t?4294901760|t:t},c.prototype.readInt16BE=function(t,n){n||g(t,2,this.length);t=this[t+1]|this[t]<<8;return 32768&t?4294901760|t:t},c.prototype.readInt32LE=function(t,n){return n||g(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,n){return n||g(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,n){return n||g(t,4,this.length),s.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,n){return n||g(t,4,this.length),s.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,n){return n||g(t,8,this.length),s.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,n){return n||g(t,8,this.length),s.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,n,i,r){t=+t,n|=0,i|=0,r||x(this,t,n,i,Math.pow(2,8*i)-1,0);var e=1,s=0;for(this[n]=255&t;++s<i&&(e*=256);)this[n+s]=t/e&255;return n+i},c.prototype.writeUIntBE=function(t,n,i,r){t=+t,n|=0,i|=0,r||x(this,t,n,i,Math.pow(2,8*i)-1,0);var e=i-1,s=1;for(this[n+e]=255&t;0<=--e&&(s*=256);)this[n+e]=t/s&255;return n+i},c.prototype.writeUInt8=function(t,n,i){return t=+t,n|=0,i||x(this,t,n,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[n]=255&t,n+1},c.prototype.writeUInt16LE=function(t,n,i){return t=+t,n|=0,i||x(this,t,n,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):O(this,t,n,!0),n+2},c.prototype.writeUInt16BE=function(t,n,i){return t=+t,n|=0,i||x(this,t,n,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):O(this,t,n,!1),n+2},c.prototype.writeUInt32LE=function(t,n,i){return t=+t,n|=0,i||x(this,t,n,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t):j(this,t,n,!0),n+4},c.prototype.writeUInt32BE=function(t,n,i){return t=+t,n|=0,i||x(this,t,n,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):j(this,t,n,!1),n+4},c.prototype.writeIntLE=function(t,n,i,r){t=+t,n|=0,r||x(this,t,n,i,(r=Math.pow(2,8*i-1))-1,-r);var e=0,s=1,o=0;for(this[n]=255&t;++e<i&&(s*=256);)t<0&&0===o&&0!==this[n+e-1]&&(o=1),this[n+e]=(t/s>>0)-o&255;return n+i},c.prototype.writeIntBE=function(t,n,i,r){t=+t,n|=0,r||x(this,t,n,i,(r=Math.pow(2,8*i-1))-1,-r);var e=i-1,s=1,o=0;for(this[n+e]=255&t;0<=--e&&(s*=256);)t<0&&0===o&&0!==this[n+e+1]&&(o=1),this[n+e]=(t/s>>0)-o&255;return n+i},c.prototype.writeInt8=function(t,n,i){return t=+t,n|=0,i||x(this,t,n,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[n]=255&(t=t<0?255+t+1:t),n+1},c.prototype.writeInt16LE=function(t,n,i){return t=+t,n|=0,i||x(this,t,n,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):O(this,t,n,!0),n+2},c.prototype.writeInt16BE=function(t,n,i){return t=+t,n|=0,i||x(this,t,n,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):O(this,t,n,!1),n+2},c.prototype.writeInt32LE=function(t,n,i){return t=+t,n|=0,i||x(this,t,n,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24):j(this,t,n,!0),n+4},c.prototype.writeInt32BE=function(t,n,i){return t=+t,n|=0,i||x(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):j(this,t,n,!1),n+4},c.prototype.writeFloatLE=function(t,n,i){return T(this,t,n,!0,i)},c.prototype.writeFloatBE=function(t,n,i){return T(this,t,n,!1,i)},c.prototype.writeDoubleLE=function(t,n,i){return M(this,t,n,!0,i)},c.prototype.writeDoubleBE=function(t,n,i){return M(this,t,n,!1,i)},c.prototype.copy=function(t,n,i,r){if(i=i||0,r||0===r||(r=this.length),n>=t.length&&(n=t.length),(r=0<r&&r<i?i:r)===i)return 0;if(0===t.length||0===this.length)return 0;if((n=n||0)<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length);var e,s=(r=t.length-n<r-i?t.length-n+i:r)-i;if(this===t&&i<n&&n<r)for(e=s-1;0<=e;--e)t[e+n]=this[e+i];else if(s<1e3||!c.TYPED_ARRAY_SUPPORT)for(e=0;e<s;++e)t[e+n]=this[e+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+s),n);return s},c.prototype.fill=function(t,n,i,r){if("string"==typeof t){var e;if("string"==typeof n?(r=n,n=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),1!==t.length||(e=t.charCodeAt(0))<256&&(t=e),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(n<0||this.length<n||this.length<i)throw new RangeError("Out of range index");if(i<=n)return this;if(n>>>=0,i=void 0===i?this.length:i>>>0,"number"==typeof(t=t||0))for(u=n;u<i;++u)this[u]=t;else for(var s=c.isBuffer(t)?t:R(new c(t,r).toString()),o=s.length,u=0;u<i-n;++u)this[u+n]=s[u%o];return this};var k=/[^+\/0-9A-Za-z-_]/g;function R(t,n){var i;n=n||1/0;for(var r=t.length,e=null,s=[],o=0;o<r;++o){if(55295<(i=t.charCodeAt(o))&&i<57344){if(!e){if(56319<i){-1<(n-=3)&&s.push(239,191,189);continue}if(o+1===r){-1<(n-=3)&&s.push(239,191,189);continue}e=i;continue}if(i<56320){-1<(n-=3)&&s.push(239,191,189),e=i;continue}i=65536+(e-55296<<10|i-56320)}else e&&-1<(n-=3)&&s.push(239,191,189);if(e=null,i<128){if(--n<0)break;s.push(i)}else if(i<2048){if((n-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((n-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((n-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return s}function A(t){return u.toByteArray(function(t){var n;if((t=((n=t).trim?n.trim():n.replace(/^\s+|\s+$/g,"")).replace(k,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function S(t,n,i,r){for(var e=0;e<r&&!(e+i>=n.length||e>=t.length);++e)n[e+i]=t[e];return e}}.call(this,I(9))},function(t,n,i){"use strict";n.byteLength=function(t){var n=a(t),t=n[0],n=n[1];return 3*(t+n)/4-n},n.toByteArray=function(t){var n,i,r=a(t),e=r[0],r=r[1],s=new f(function(t,n){return 3*(t+n)/4-n}(e,r)),o=0,u=0<r?e-4:e;for(i=0;i<u;i+=4)n=h[t.charCodeAt(i)]<<18|h[t.charCodeAt(i+1)]<<12|h[t.charCodeAt(i+2)]<<6|h[t.charCodeAt(i+3)],s[o++]=n>>16&255,s[o++]=n>>8&255,s[o++]=255&n;2===r&&(n=h[t.charCodeAt(i)]<<2|h[t.charCodeAt(i+1)]>>4,s[o++]=255&n);1===r&&(n=h[t.charCodeAt(i)]<<10|h[t.charCodeAt(i+1)]<<4|h[t.charCodeAt(i+2)]>>2,s[o++]=n>>8&255,s[o++]=255&n);return s},n.fromByteArray=function(t){for(var n,i=t.length,r=i%3,e=[],s=0,o=i-r;s<o;s+=16383)e.push(function(t,n,i){for(var r,e=[],s=n;s<i;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),e.push(function(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}(r));return e.join("")}(t,s,o<s+16383?o:s+16383));1==r?(n=t[i-1],e.push(u[n>>2]+u[n<<4&63]+"==")):2==r&&(n=(t[i-2]<<8)+t[i-1],e.push(u[n>>10]+u[n>>4&63]+u[n<<2&63]+"="));return e.join("")};for(var u=[],h=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,s=r.length;e<s;++e)u[e]=r[e],h[r.charCodeAt(e)]=e;function a(t){var n=t.length;if(0<n%4)throw new Error("Invalid string. Length must be a multiple of 4");t=t.indexOf("=");return[t=-1===t?n:t,t===n?0:4-t%4]}h["-".charCodeAt(0)]=62,h["_".charCodeAt(0)]=63},function(t,n){n.read=function(t,n,i,r,e){var s,o,u=8*e-r-1,h=(1<<u)-1,f=h>>1,a=-7,c=i?e-1:0,l=i?-1:1,i=t[n+c];for(c+=l,s=i&(1<<-a)-1,i>>=-a,a+=u;0<a;s=256*s+t[n+c],c+=l,a-=8);for(o=s&(1<<-a)-1,s>>=-a,a+=r;0<a;o=256*o+t[n+c],c+=l,a-=8);if(0===s)s=1-f;else{if(s===h)return o?NaN:1/0*(i?-1:1);o+=Math.pow(2,r),s-=f}return(i?-1:1)*o*Math.pow(2,s-r)},n.write=function(t,n,i,r,e,s){var o,u,h=8*s-e-1,f=(1<<h)-1,a=f>>1,c=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,l=r?0:s-1,v=r?1:-1,s=n<0||0===n&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(u=isNaN(n)?1:0,o=f):(o=Math.floor(Math.log(n)/Math.LN2),n*(r=Math.pow(2,-o))<1&&(o--,r*=2),2<=(n+=1<=o+a?c/r:c*Math.pow(2,1-a))*r&&(o++,r/=2),f<=o+a?(u=0,o=f):1<=o+a?(u=(n*r-1)*Math.pow(2,e),o+=a):(u=n*Math.pow(2,a-1)*Math.pow(2,e),o=0));8<=e;t[i+l]=255&u,l+=v,u/=256,e-=8);for(o=o<<e|u,h+=e;0<h;t[i+l]=255&o,l+=v,o/=256,h-=8);t[i+l-v]|=128*s}},function(t,n){var i={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},function(t,n){t.exports=__WEBPACK_EXTERNAL_MODULE__47__},function(t,f,n){!function(e){function s(t,n){for(var i=0,r=t.length-1;0<=r;r--){var e=t[r];"."===e?t.splice(r,1):".."===e?(t.splice(r,1),i++):i&&(t.splice(r,1),i--)}if(n)for(;i--;)t.unshift("..");return t}function o(t,n){if(t.filter)return t.filter(n);for(var i=[],r=0;r<t.length;r++)n(t[r],r,t)&&i.push(t[r]);return i}f.resolve=function(){for(var t="",n=!1,i=arguments.length-1;-1<=i&&!n;i--){var r=0<=i?arguments[i]:e.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(t=r+"/"+t,n="/"===r.charAt(0))}return(n?"/":"")+(t=s(o(t.split("/"),function(t){return!!t}),!n).join("/"))||"."},f.normalize=function(t){var n=f.isAbsolute(t),i="/"===r(t,-1);return(t=!(t=s(o(t.split("/"),function(t){return!!t}),!n).join("/"))&&!n?".":t)&&i&&(t+="/"),(n?"/":"")+t},f.isAbsolute=function(t){return"/"===t.charAt(0)},f.join=function(){var t=Array.prototype.slice.call(arguments,0);return f.normalize(o(t,function(t,n){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},f.relative=function(t,n){function i(t){for(var n=0;n<t.length&&""===t[n];n++);for(var i=t.length-1;0<=i&&""===t[i];i--);return i<n?[]:t.slice(n,i-n+1)}t=f.resolve(t).substr(1),n=f.resolve(n).substr(1);for(var r=i(t.split("/")),e=i(n.split("/")),s=Math.min(r.length,e.length),o=s,u=0;u<s;u++)if(r[u]!==e[u]){o=u;break}for(var h=[],u=o;u<r.length;u++)h.push("..");return(h=h.concat(e.slice(o))).join("/")},f.sep="/",f.delimiter=":",f.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var n=47===t.charCodeAt(0),i=-1,r=!0,e=t.length-1;1<=e;--e)if(47===t.charCodeAt(e)){if(!r){i=e;break}}else r=!1;return-1===i?n?"/":".":n&&1===i?"/":t.slice(0,i)},f.basename=function(t,n){t=function(t){"string"!=typeof t&&(t+="");for(var n=0,i=-1,r=!0,e=t.length-1;0<=e;--e)if(47===t.charCodeAt(e)){if(!r){n=e+1;break}}else-1===i&&(r=!1,i=e+1);return-1===i?"":t.slice(n,i)}(t);return t=n&&t.substr(-1*n.length)===n?t.substr(0,t.length-n.length):t},f.extname=function(t){"string"!=typeof t&&(t+="");for(var n=-1,i=0,r=-1,e=!0,s=0,o=t.length-1;0<=o;--o){var u=t.charCodeAt(o);if(47===u){if(e)continue;i=o+1;break}-1===r&&(e=!1,r=o+1),46===u?-1===n?n=o:1!==s&&(s=1):-1!==n&&(s=-1)}return-1===n||-1===r||0===s||1===s&&n===r-1&&n===i+1?"":t.slice(n,r)};var r="b"==="ab".substr(-1)?function(t,n,i){return t.substr(n,i)}:function(t,n,i){return n<0&&(n=t.length+n),t.substr(n,i)}}.call(this,n(49))},function(t,n){var i,r,t=t.exports={};function e(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(n){if(i===setTimeout)return setTimeout(n,0);if((i===e||!i)&&setTimeout)return i=setTimeout,setTimeout(n,0);try{return i(n,0)}catch(t){try{return i.call(null,n,0)}catch(t){return i.call(this,n,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:e}catch(t){i=e}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,h=[],f=!1,a=-1;function c(){f&&u&&(f=!1,u.length?h=u.concat(h):a=-1,h.length&&l())}function l(){if(!f){var t=o(c);f=!0;for(var n=h.length;n;){for(u=h,h=[];++a<n;)u&&u[a].run();a=-1,n=h.length}u=null,f=!1,function(n){if(r===clearTimeout)return clearTimeout(n);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(n);try{r(n)}catch(t){try{return r.call(null,n)}catch(t){return r.call(this,n)}}}(t)}}function v(t,n){this.fun=t,this.array=n}function d(){}t.nextTick=function(t){var n=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)n[i-1]=arguments[i];h.push(new v(t,n)),1!==h.length||f||o(l)},v.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=d,t.addListener=d,t.once=d,t.off=d,t.removeListener=d,t.removeAllListeners=d,t.emit=d,t.prependListener=d,t.prependOnceListener=d,t.listeners=function(t){return[]},t.binding=function(t){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(t){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},function(t,n,i){"use strict";i.r(n);var u="v3.0.6",h=3470,r={NONE:0,EXTRUDE_MARKER:2,IMAGE_MARKER:8,LOCATION_MARKER:16,POLYGON_MARKER:32,TEXT_MARKER:64,LINE_MARKER:128,HEAT_MAP_MARKER:512,EXTENT:1024,EXTERNAL_MODEL:2048,MODEL:4096,FACILITY:8192,LABEL:16384,DYNAMIC_MODEL_MARKER:32768,DOM_MARKER:65536,EXTENT_LAYER:1<<20,EXTERNAL_MODEL_LAYER:1<<21,MODEL_LAYER:1<<22,FACILITY_LAYER:1<<23,LABEL_LAYER:1<<24,MARKER_GROUP:1<<25};Object.freeze(r);var e=r,s={MODULE_SHORTEST:1,MODULE_BEST:2},p={PRIORITY_DEFAULT:1,PRIORITY_LIFTFIRST:2,PRIORITY_ESCALATORFIRST:3,PRIORITY_STAIRFIRST:4,PRIORITY_LIFTONLY:5,PRIORITY_ESCALATORONLY:6,PRIORITY_STAIRONLY:7,PRIORITY_ACCESSIBLEONLY:8,PRIORITY_LIFTFIRST1:9,PRIORITY_ESCALATORFIRST1:10,PRIORITY_STAIRFIRST1:11},M={ROUTE_SUCCESS:1,ROUTE_FAILED_NO_FMDBDATA:2,ROUTE_FAILED_TOO_CLOSE:3,ROUTE_FAILED_NO_DATA_START:4,ROUTE_FAILED_NO_DATA_DEST:5,ROUTE_FAILED_NO_STAIR:6,ROUTE_FAILED_NOTSUPPORT:7,ROUTE_FAILED_CANNOT_CALCULATE:8,ROUTE_FAILED_CANNOT_ARRIVE:9,ROUTE_FAILED_WAYPOINT_CALCULATE_ERROR:10,ROUTE_FAILED_NO_START_ARRIVAL:11,ROUTE_FAILED_NO_DEST_ARRIVAL:12,ROUTE_FAILED_OUTLINE:13,ROUTE_FAILED_NO_DOOR_START:14,ROUTE_FAILED_NO_DOOR_DEST:15},o={ZH:"zh",EN:"en"};var f=function t(n,i){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.G=n,this.Z=i};Object.assign(f.prototype,{W:function(t){return!1},V:function(t,n){}});var a=f;function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,n){return(l=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function v(i){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,n=d(i);return function(t,n){{if(n&&("object"===c(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined")}return function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t)}(this,r?(t=d(this).constructor,Reflect.construct(n,arguments,t)):n.apply(this,arguments))}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&l(t,n)}(r,a);var i=v(r);function r(t,n){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r),i.call(this,t,n)}return r}();Object.assign(y.prototype,{W:function(t){return this.Z==t.fid}});var b=y;function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,n){return(_=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function m(i){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,n=g(i);return function(t,n){{if(n&&("object"===w(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined")}return function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t)}(this,r?(t=g(this).constructor,Reflect.construct(n,arguments,t)):n.apply(this,arguments))}}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var x=function(){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&_(t,n)}(r,a);var i=m(r);function r(t,n){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r),"object"==w((n=i.call(this,t,n)).Z)?(n.Y=n.Z.text,n.X=n.Z.fuzzy):n.Y=n.Z,n}return r}();Object.assign(x.prototype,{W:function(t){if(t.name){if(this.X&&-1!=t.name.indexOf(this.Y))return!0;if(this.Y==t.name)return!0}return!1}});var O=x;function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,n){return(E=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function T(i){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,n=k(i);return function(t,n){{if(n&&("object"===j(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined")}return function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t)}(this,r?(t=k(this).constructor,Reflect.construct(n,arguments,t)):n.apply(this,arguments))}}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}r=function(){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&E(t,n)}(r,a);var i=T(r);function r(t,n){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r),"object"==j((n=i.call(this,t,n)).Z)?(n.Y=n.Z.text,n.X=n.Z.fuzzy):n.Y=n.Z,n}return r}();Object.assign(r.prototype,{W:function(t){if(t.ename){if(this.X&&-1!=t.ename.indexOf(this.Y))return!0;if(this.Y==t.ename)return!0}return!1}});var R=r;function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,n){return(S=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function N(i){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,n=I(i);return function(t,n){{if(n&&("object"===A(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined")}return function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t)}(this,r?(t=I(this).constructor,Reflect.construct(n,arguments,t)):n.apply(this,arguments))}}function I(t){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}f=function(){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&S(t,n)}(r,a);var i=N(r);function r(t,n){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r),(t=i.call(this,t)).Z=Array.isArray(n)?n:[n],t}return r}();Object.assign(f.prototype,{W:function(t){return-1!=this.Z.indexOf(t.type)}});var L=f;function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P(t,n){return(P=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function F(i){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,n=C(i);return function(t,n){{if(n&&("object"===D(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined")}return function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t)}(this,r?(t=C(this).constructor,Reflect.construct(n,arguments,t)):n.apply(this,arguments))}}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}y=function(){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&P(t,n)}(r,a);var i=F(r);function r(t,n){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r),"object"==D((n=i.call(this,t,n)).Z)?(n.Y=n.Z.text,n.X=void 0===n.Z.fuzzy||n.Z.fuzzy):(n.Y=n.Z,n.X=!0),n}return r}();Object.assign(y.prototype,{W:function(t){if(this.X){if(t.name&&-1!=t.name.indexOf(this.Y)||t.ename&&-1!=t.ename.indexOf(this.Y))return!0}else if(t.name&&t.name==this.Y||t.ename&&t.ename==this.Y)return!0;return!1}});var U=y,x={NONE:0,POINT:1,LINE:2,POLYGON:4,MULTIPOINT:8,MULTILINE:16,MULTIPOLYGON:32,GROUP:64,EXTENT:1024,EXTERNALMODEL:2048,MODEL:4096,FACILITY:8192,LABEL:16384,EXTENTGROUP:1<<20,EXTERNALMODELGROUP:1<<21,MODELGROUP:1<<22,FACILITYGROUP:1<<23,LABELGROUP:1<<24};Object.freeze(x);var B=x,G=function(t,n,i){i=i||2;var r,e,s,o,u,h=n&&n.length,f=h?n[0]*i:t.length,a=Z(t,0,f,i,!0),c=[];if(!a||a.next===a.prev)return c;if(h&&(a=function(t,n,i,r){var e,s,o,u,h=[];for(e=0,s=n.length;e<s;e++)o=n[e]*r,u=e<s-1?n[e+1]*r:t.length,(u=Z(t,o,u,r,!1))===u.next&&(u.steiner=!0),h.push(function(t){var n=t,i=t;for(;(n.x<i.x||n.x===i.x&&n.y<i.y)&&(i=n),n=n.next,n!==t;);return i}(u));for(h.sort(Y),e=0;e<h.length;e++)!function(t,n){(n=function(t,n){var i,r=n,e=t.x,s=t.y,o=-1/0;do{if(s<=r.y&&s>=r.next.y&&r.next.y!==r.y){var u=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(u<=e&&o<u){if((o=u)===e){if(s===r.y)return r;if(s===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}}while(r=r.next,r!==n);if(!i)return null;if(e===o)return i;var h,f=i,a=i.x,c=i.y,l=1/0;r=i;for(;e>=r.x&&r.x>=a&&e!==r.x&&z(s<c?e:o,s,a,c,s<c?o:e,s,r.x,r.y)&&(h=Math.abs(s-r.y)/(e-r.x),K(r,t)&&(h<l||h===l&&(r.x>i.x||r.x===i.x&&function(t,n){return X(t.prev,t,n.prev)<0&&X(n.next,t,t.next)<0}(i,r)))&&(i=r,l=h)),r=r.next,r!==f;);return i}(t,n))&&(t=tt(n,t),W(n,n.next),W(t,t.next))}(h[e],i),i=W(i,i.next);return i}(t,n,a,i)),t.length>80*i){for(var l=r=t[0],v=e=t[1],d=i;d<f;d+=i)(s=t[d])<l&&(l=s),(o=t[d+1])<v&&(v=o),r<s&&(r=s),e<o&&(e=o);u=0!==(u=Math.max(r-l,e-v))?1/u:0}return V(a,c,i,l,v,u),c};function Z(t,n,i,r,e){var s,o;if(e===0<function(t,n,i,r){for(var e=0,s=n,o=i-r;s<i;s+=r)e+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return e}(t,n,i,r))for(s=n;s<i;s+=r)o=nt(s,t[s],t[s+1],o);else for(s=i-r;n<=s;s-=r)o=nt(s,t[s],t[s+1],o);return o&&H(o,o.next)&&(it(o),o=o.next),o}function W(t,n){if(!t)return t;n=n||t;var i,r=t;do{if(i=!1,r.steiner||!H(r,r.next)&&0!==X(r.prev,r,r.next))r=r.next;else{if(it(r),(r=n=r.prev)===r.next)break;i=!0}}while(i||r!==n);return n}function V(t,n,i,r,e,s,o){if(t){!o&&s&&function(t,n,i,r){var e=t;for(;null===e.z&&(e.z=q(e.x,e.y,n,i,r)),e.prevZ=e.prev,e.nextZ=e.next,e=e.next,e!==t;);e.prevZ.nextZ=null,e.prevZ=null,function(t){var n,i,r,e,s,o,u,h,f=1;do{for(i=t,s=t=null,o=0;i;){for(o++,r=i,n=u=0;n<f&&(u++,r=r.nextZ);n++);for(h=f;0<u||0<h&&r;)0!==u&&(0===h||!r||i.z<=r.z)?(i=(e=i).nextZ,u--):(r=(e=r).nextZ,h--),s?s.nextZ=e:t=e,e.prevZ=s,s=e;i=r}}while(s.nextZ=null,f*=2,1<o)}(e)}(t,r,e,s);for(var u,h,f=t;t.prev!==t.next;)if(u=t.prev,h=t.next,s?function(t,n,i,r){var e=t.prev,s=t,o=t.next;if(0<=X(e,s,o))return!1;var u=(e.x<s.x?e.x<o.x?e:o:s.x<o.x?s:o).x,h=(e.y<s.y?e.y<o.y?e:o:s.y<o.y?s:o).y,f=(e.x>s.x?e.x>o.x?e:o:s.x>o.x?s:o).x,a=(e.y>s.y?e.y>o.y?e:o:s.y>o.y?s:o).y,c=q(u,h,n,i,r),l=q(f,a,n,i,r),v=t.prevZ,d=t.nextZ;for(;v&&v.z>=c&&d&&d.z<=l;){if(v!==t.prev&&v!==t.next&&z(e.x,e.y,s.x,s.y,o.x,o.y,v.x,v.y)&&0<=X(v.prev,v,v.next))return!1;if(v=v.prevZ,d!==t.prev&&d!==t.next&&z(e.x,e.y,s.x,s.y,o.x,o.y,d.x,d.y)&&0<=X(d.prev,d,d.next))return!1;d=d.nextZ}for(;v&&v.z>=c;){if(v!==t.prev&&v!==t.next&&z(e.x,e.y,s.x,s.y,o.x,o.y,v.x,v.y)&&0<=X(v.prev,v,v.next))return!1;v=v.prevZ}for(;d&&d.z<=l;){if(d!==t.prev&&d!==t.next&&z(e.x,e.y,s.x,s.y,o.x,o.y,d.x,d.y)&&0<=X(d.prev,d,d.next))return!1;d=d.nextZ}return!0}(t,r,e,s):function(t){var n=t.prev,i=t,r=t.next;if(0<=X(n,i,r))return!1;var e=t.next.next;for(;e!==t.prev;){if(z(n.x,n.y,i.x,i.y,r.x,r.y,e.x,e.y)&&0<=X(e.prev,e,e.next))return!1;e=e.next}return!0}(t))n.push(u.i/i),n.push(t.i/i),n.push(h.i/i),it(t),t=h.next,f=h.next;else if((t=h)===f){o?1===o?V(t=function(t,n,i){var r=t;do{var e=r.prev,s=r.next.next}while(!H(e,s)&&Q(e,r,r.next,s)&&K(e,s)&&K(s,e)&&(n.push(e.i/i),n.push(r.i/i),n.push(s.i/i),it(r),it(r.next),r=t=s),r=r.next,r!==t);return W(r)}(W(t),n,i),n,i,r,e,s,2):2===o&&function(t,n,i,r,e,s){var o=t;do{for(var u=o.next.next;u!==o.prev;){if(o.i!==u.i&&function(t,n){return t.next.i!==n.i&&t.prev.i!==n.i&&!function(t,n){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==n.i&&i.next.i!==n.i&&Q(i,i.next,t,n))return!0}while(i=i.next,i!==t);return!1}(t,n)&&(K(t,n)&&K(n,t)&&function(t,n){var i=t,r=!1,e=(t.x+n.x)/2,s=(t.y+n.y)/2;for(;i.y>s!=i.next.y>s&&i.next.y!==i.y&&e<(i.next.x-i.x)*(s-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next,i!==t;);return r}(t,n)&&(X(t.prev,t,n.prev)||X(t,n.prev,n))||H(t,n)&&0<X(t.prev,t,t.next)&&0<X(n.prev,n,n.next))}(o,u)){var h=tt(o,u);return o=W(o,o.next),h=W(h,h.next),V(o,n,i,r,e,s),V(h,n,i,r,e,s)}u=u.next}}while(o=o.next,o!==t)}(t,n,i,r,e,s):V(W(t),n,i,r,e,s,1);break}}}function Y(t,n){return t.x-n.x}function q(t,n,i,r,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*e)|t<<8))|t<<4))|t<<2))|t<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-r)*e)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function z(t,n,i,r,e,s,o,u){return 0<=(e-o)*(n-u)-(t-o)*(s-u)&&0<=(t-o)*(r-u)-(i-o)*(n-u)&&0<=(i-o)*(s-u)-(e-o)*(r-u)}function X(t,n,i){return(n.y-t.y)*(i.x-n.x)-(n.x-t.x)*(i.y-n.y)}function H(t,n){return t.x===n.x&&t.y===n.y}function Q(t,n,i,r){var e=J(X(t,n,i)),s=J(X(t,n,r)),o=J(X(i,r,t)),u=J(X(i,r,n));return e!==s&&o!==u||(0===e&&$(t,i,n)||(0===s&&$(t,r,n)||(0===o&&$(i,t,r)||!(0!==u||!$(i,n,r)))))}function $(t,n,i){return n.x<=Math.max(t.x,i.x)&&n.x>=Math.min(t.x,i.x)&&n.y<=Math.max(t.y,i.y)&&n.y>=Math.min(t.y,i.y)}function J(t){return 0<t?1:t<0?-1:0}function K(t,n){return X(t.prev,t,t.next)<0?0<=X(t,n,t.next)&&0<=X(t,t.prev,n):X(t,n,t.prev)<0||X(t,t.next,n)<0}function tt(t,n){var i=new rt(t.i,t.x,t.y),r=new rt(n.i,n.x,n.y),e=t.next,s=n.prev;return(t.next=n).prev=t,(i.next=e).prev=i,(r.next=i).prev=r,(s.next=r).prev=s,r}function nt(t,n,i,r){i=new rt(t,n,i);return r?(i.next=r.next,(i.prev=r).next.prev=i,r.next=i):(i.prev=i).next=i,i}function it(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function rt(t,n,i){this.i=t,this.x=n,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function et(t){return function(t){if(Array.isArray(t))return st(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return st(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(i="Object"===i&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?st(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=new Array(n);i<n;i++)r[i]=t[i];return r}var ot={area:function(t){for(var n=t.length,i=0,r=n-1,e=0;e<n;r=e++)i+=t[r].x*t[e].y-t[e].x*t[r].y;return.5*i},isClockWise:function(t){return ot.area(t)<0},triangulateShape:function(t,n){var i=[],r=[],e=[];ut(t),ht(i,t);var s=t.length;n.forEach(ut);for(var o=0;o<n.length;o++)r.push(s),s+=n[o].length,ht(i,n[o]);for(var u=G(i,r),h=0;h<u.length;h+=3)e.push(u.slice(h,h+3));return e},triangulate:function(t){(e=[]).push.apply(e,et(t[0]));for(var n=[],i=1;i<t.length;i++){var r=[];r.push.apply(r,et(t[i])),n.push(r)}if(!ot.isClockWise(e))for(var e=e.reverse(),s=0,o=n.length;s<o;s++){var u=n[s];ot.isClockWise(u)&&(n[s]=u.reverse())}return ot.triangulateShape(e,n)}};function ut(t){var n,i=t.length;2<i&&(n=t[i-1],i=t[0],n.x===i.x&&n.y===i.y)&&t.pop()}function ht(t,n){for(var i=0;i<n.length;i++)t.push(n[i].x),t.push(n[i].y)}var ft=1e-5,at=Math.PI/180,ct=180/Math.PI,r=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)};Object.assign(r.prototype,{H:function(){return ft},Q:function(){return at},$:function(){return ct},J:function(t){return t<ft&&-ft<t},K:function(t){return ft<t},tt:function(t){return t<-ft},nt:function(t,n,i){return(t.x-i.x)*(n.y-i.y)-(n.x-i.x)*(t.y-i.y)},distanceOfTwoPoints:function(t,n){return t&&n?Math.sqrt((t.x-n.x)*(t.x-n.x)+(t.y-n.y)*(t.y-n.y)):Number.NaN},distance:function(t,n){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))},isPolygonContainPoint:function(t,n){for(var i=0,r=0;r<t.length;r++){var e=t[r].x,s=t[r].y,o=0,u=0,u=r<t.length-1?(o=t[r+1].x,t[r+1].y):(o=t[0].x,t[0].y);if(e===n.x&&s===n.y||o===n.x&&u===n.y)return!0;if(u!==s){var h=e+(n.y-s)*(o-e)/(u-s);if(h===n.x)return!0;e!==o?h<=Math.max(e,o)&&h>=Math.min(e,o)&&h>n.x&&h!==e&&(h===o&&0<(s-n.y)*(u-n.y)?i+=2:i++):h<=Math.max(e,o)&&h>=Math.min(e,o)&&h>n.x&&(h===o&&0<(s-n.y)*(u-n.y)?i+=2:i++)}}return 0<i%2},it:function(t,n,i,r){return!(Math.max(t.x,n.x)<Math.min(i.x,r.x))&&(!(Math.max(t.y,n.y)<Math.min(i.y,r.y))&&(!(Math.max(i.x,r.x)<Math.min(t.x,n.x))&&!(Math.max(i.y,r.y)<Math.min(t.y,n.y))))},rt:function(t,n,i,r){return!(Math.max(t.x,n.x)<Math.min(i.x,r.x))&&(!(Math.max(t.y,n.y)<Math.min(i.y,r.y))&&(!(Math.max(i.x,r.x)<Math.min(t.x,n.x))&&(!(Math.max(i.y,r.y)<Math.min(t.y,n.y))&&(!(this.nt(i,n,t)*this.nt(n,r,t)<0)&&!(this.nt(t,r,i)*this.nt(r,n,i)<0)))))},et:function(t,n,i){return!(t.x<n.x)&&(!(t.y<n.y)&&(!(t.x>i.x)&&!(t.y>i.y)))},st:function(t,n,i){var r=Math.min(n.x,i.x),e=Math.max(n.x,i.x),s=Math.min(n.y,i.y),i=Math.max(n.y,i.y);return!(t.x<r||t.x>e||t.y<s||t.y>i)},ot:function(t,n,i){var r=Math.min(i.x,n.x),e=Math.max(i.x,n.x),s=Math.min(i.y,n.y),n=Math.max(i.y,n.y);return!(t.x<r||t.x>e||t.y<s||t.y>n)},ut:function(t,n,i){for(var r,e,s=!1,o=0;o<i;o++)r=n[o],e=n[(o+1)%i],(r.y<t.y&&e.y>=t.y||e.y<t.y&&r.y>=t.y)&&(r.x<=t.x||e.x<=t.x)&&r.x+(t.y-r.y)/(e.y-r.y)*(e.x-r.x)<t.x&&(s=!s);return s},ht:function(t,n,i){return(t.x-n.x)*(i.y-n.y)==(i.x-n.x)*(t.y-n.y)&&Math.min(n.x,i.x)<=t.x&&t.x<=Math.max(n.x,i.x)&&Math.min(n.y,i.y)<=t.y&&t.y<=Math.max(n.y,i.y)},ft:function(t,n){return Math.sqrt((t.x-n.x)*(t.x-n.x)+(t.y-n.y)*(t.y-n.y))},at:function(t,n){return(t.x-n.x)*(t.x-n.x)+(t.y-n.y)*(t.y-n.y)},ct:function(t,n,i){var r=n.x,e=n.y,s=i.x,o=i.y,u=t.x,h=t.y,f=s-r,a=o-e,c=f*f+a*a,n=u-r,i=h-e,t=n*n+i*i;if(this.J(c))return this.J(t)?0:t;c=Math.sqrt(c),f/=c,a/=c,i=f*n+a*i;if(!this.K(i))return t;if(!this.tt(i-c)){s=u-s,o=h-o;return s*s+o*o}f=u-(r+i*f),a=h-(e+i*a);return f*f+a*a},lt:function(t,n,i,r){var e=n.x,s=n.y,o=i.x,u=i.y,h=t.x,f=t.y,a=o-e,c=u-s,l=Math.sqrt(a*a+c*c),v=h-e,d=f-s,t=Math.sqrt(v*v+d*d);if(this.J(l))return r.x=n.x,r.y=n.y,this.J(t)?0:t;a/=l,c/=l,d=a*v+c*d;if(!this.K(d))return r.x=n.x,r.y=n.y,t;if(!this.tt(d-l)){o=h-o,u=f-u,u=Math.sqrt(o*o+u*u);return r.x=i.x,r.y=i.y,u}a=e+d*a,c=s+d*c,h-=a,f-=c,f=Math.sqrt(h*h+f*f);return r.x=a,r.y=c,f},vt:function(t,n){for(var i=0,r=0,e=0,s=0;s<n;s++){var o=t[s],u=t[(s+1)%n],h=(o.x*u.y-o.y*u.x)/2;i+=h,r+=h*(o.x+u.x)/3,e+=h*(o.y+u.y)/3}return{x:r/=i,y:e/=i}},dt:function(t){for(var n=ot.triangulate([t]),i=0,r=0,e=0,s=0;s<n.length;s++){var o=t[n[s][0]],u=t[n[s][1]],h=t[n[s][2]],f=u.x-o.x,a=u.y-o.y,c=h.x-o.x,a=(f*(h.y-o.y)-c*a)/2;i+=a,r+=(o.x+u.x+h.x)/3*a,e+=(o.y+u.y+h.y)/3*a}return{x:r/i,y:e/i}},yt:function(t,n){if(n<3)return 0;for(var i=0,r=0;r<n;++r){var e=t[r],s=t[(r+1)%n];i+=e.x*s.y-e.y*s.x}return Math.abs(i/2)},bt:function(t,n,i,r,e){if(this.rt(t,n,i,r)){var s=(r.x-i.x)*(t.y-n.y)-(n.x-t.x)*(i.y-r.y),o=(t.y-i.y)*(n.x-t.x)*(r.x-i.x)+i.x*(r.y-i.y)*(n.x-t.x)-t.x*(n.y-t.y)*(r.x-i.x);return e.x=o/s,s=(t.x-n.x)*(r.y-i.y)-(n.y-t.y)*(i.x-r.x),o=n.y*(t.x-n.x)*(r.y-i.y)+(r.x-n.x)*(r.y-i.y)*(t.y-n.y)-r.y*(i.x-r.x)*(n.y-t.y),e.y=o/s,1}return 0},pt:function(t,n,i,r,e){var s=Math.min(i.x,r.x),o=Math.max(i.x,r.x),u=Math.min(i.y,r.y),h=Math.max(i.y,r.y),f=t.x,a=t.y,c=i.x,l=i.y,v=r.x,d=r.y;if(90==n){if(t.x<s||t.x>o)return!1;var y=(d-l)/(v-c)*(f-c)+l;return e.y=y,e.x=f,y<a?!1:!!this.ot(e,i,r)}if(270==n){if(t.x<s||t.x>o)return!1;t=(d-l)/(v-c)*(f-c)+l;return e.y=t,e.x=f,a<t?!1:!!this.ot(e,i,r)}if(270!=n&&90!=n&&o-s<.001){o=s,s=Math.tan(n/180*Math.PI)*(o-f)+a;if(e.y=s,e.x=o,this.ot(e,i,r)){o=o-f,s=s-a;return 0<o/Math.sqrt(o*o+s*s)*Math.cos(n/180*Math.PI)}}if(h-u<=1e-6){h=u,u=1/Math.tan(n/180*Math.PI)*(h-a)+f;if(e.x=u,e.y=h,this.ot(e,i,r)){var u=u-f,b=h-a;return 0<u/Math.sqrt(u*u+b*b)*Math.cos(n/180*Math.PI)}return!1}b=Math.tan(n/180*Math.PI),v=(d-l)/(v-c),v=(l-a-(v*c-b*f))/(b-v),b=a+b*(v-f);if(e.x=v,e.y=b,this.ot(e,i,r)){f=v-f,a=b-a;return 0<f/Math.sqrt(f*f+a*a)*Math.cos(n/180*Math.PI)}return!1},wt:function(t,n,i,r){var e=Math.min(n.x,i.x),s=Math.max(n.x,i.x),o=Math.min(n.y,i.y),u=Math.max(n.y,i.y),h=t.x,f=t.y,a=n.x,c=n.y,l=i.x,t=i.y;if(Math.abs(a-l)<1e-5)return r.x=a,o<=(r.y=f)&&f<=u;if(Math.abs(c-t)<1e-5)return r.x=h,r.y=c,e<=h&&h<=s;s=-1/((t-c)/(l-a)),l=(t-c)/(l-a),l=(c-f-(l*a-s*h))/(s-l),h=f+s*(l-h);return r.x=l,r.y=h,!!this.ot(r,n,i)},_t:function(t,n){return{x:t.y*n.z-t.z*n.y,y:t.z*n.x-t.x*n.z,z:t.x*n.y-t.y*n.x}},mt:function(t,n){return t.x*n.x+t.y*n.y+t.z*n.z},gt:function(t){return Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z)},xt:function(t,n){return t.x*n.x+t.y*n.y},Ot:function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},jt:function(t,n){if(0==t.x&&0==t.y||0==n.x&&0==n.y)return 0;var i={x:t.x,y:t.y,z:0},r={x:n.x,y:n.y,z:0},i=this._t(i,r),r=this.xt(t,n),n=Math.acos(r/(this.Ot(t)*this.Ot(n)));return 0<i.z?n/Math.PI*180:360-n/Math.PI*180},Et:function(t,n,i,r){for(var e=0;e<i.length;e++){var s=i[e],o=i[(e+1)%i.length];if(1==this.bt(t,n,s,o,r))return!0}return!1},Tt:function(t,n,i,r,e){var s=Math.min(t.x,i.x,r.x),o=Math.max(t.x,i.x,r.x),u=Math.min(t.y,i.y,r.y),h=Math.max(t.y,i.y,r.y),h=Math.sqrt((o-s)*(o-s)+(h-u)*(h-u)),u=n/180*Math.PI,n=h*Math.cos(u)+t.x,u=h*Math.sin(u)+t.y;return 1==this.bt(t,{x:n,y:u},i,r,e)}});var lt=new r;function vt(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}f=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.Mt={x:Number.MAX_VALUE,y:Number.MAX_VALUE},this.kt={x:-Number.MAX_VALUE,y:-Number.MAX_VALUE}}var n,i,r;return n=t,(i=[{key:"min",get:function(){return this.Mt}},{key:"max",get:function(){return this.kt}},{key:"center",get:function(){var t={x:Number.NaN,y:Number.NaN};return this.Rt()&&(t.x=(this.Mt.x+this.kt.x)/2,t.y=(this.Mt.y+this.kt.y)/2),t}},{key:"size",get:function(){var t={x:Number.NaN,y:Number.NaN};return this.Rt()&&(t.x=this.kt.x-this.Mt.x,t.y=this.kt.y-this.Mt.y),t}},{key:"toObject",value:function(){return{min:this.Mt,max:this.kt,center:this.center,size:this.size}}}])&&vt(n.prototype,i),r&&vt(n,r),t}();Object.assign(f.prototype,{Rt:function(){return!(this.Mt.x>this.kt.x||this.Mt.y>this.kt.y)},At:function(t){t&&t.Rt()&&(t.Mt.x<this.Mt.x&&(this.Mt.x=t.Mt.x),t.Mt.y<this.Mt.y&&(this.Mt.y=t.Mt.y),t.kt.x>this.kt.x&&(this.kt.x=t.kt.x),t.kt.y>this.kt.y&&(this.kt.y=t.kt.y))},St:function(t){var n=this;t&&0!=t.length&&t.forEach(function(t){t.x<n.Mt.x&&(n.Mt.x=t.x),t.y<n.Mt.y&&(n.Mt.y=t.y),t.x>n.kt.x&&(n.kt.x=t.x),t.y>n.kt.y&&(n.kt.y=t.y)})}});var dt=f;function yt(t){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bt(t,n){return(bt=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function pt(i){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,n=wt(i);return function(t,n){{if(n&&("object"===yt(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined")}return function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t)}(this,r?(t=wt(this).constructor,Reflect.construct(n,arguments,t)):n.apply(this,arguments))}}function wt(t){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}y=function(){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&bt(t,n)}(r,a);var i=pt(r);function r(t,n){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r),(n=i.call(this,t,n)).Nt=n.Z.center,n.It=n.Z.radius,n.Lt=n.Z.radius*n.Z.radius,n.Dt=new dt,n.Dt.St([{x:n.Nt.x-n.It,y:n.Nt.y-n.It},{x:n.Nt.x+n.It,y:n.Nt.y+n.It}]),n}return r}();Object.assign(y.prototype,{W:function(t){return t.getType()!=B.MODEL?this.Pt(t):this.Ft(t)},Ft:function(t){var n=t.getBound();if(!lt.it(this.Dt.Mt,this.Dt.kt,n.min,n.max))return!1;for(var i=t.getCoordinates(),r=0,e=i.length;r<e;r++)for(var s=1,o=i[r].length;s<o;s++){var u=i[r][s];if(lt.at(u,this.Nt)<this.Lt)return!0;var h=i[r][s-1];if(1==s&&lt.at(h,this.Nt)<this.Lt)return!0;if(lt.ct(this.Nt,h,u)<this.Lt)return!0}return!1},Pt:function(t){t=t.getCoordinates()[0];return!!lt.et(t,this.Dt.Mt,this.Dt.kt)&&lt.at(t,this.Nt)<this.Lt},V:function(t,n){var i=t.getCoordinates();if(t.getType()==B.MODEL){for(var r=Number.MAX_VALUE,e=0,s=i.length;e<s;e++)for(var o=1,u=i[e].length;o<u;o++){var h=i[e][o-1],f=i[e][o],f=lt.ct(this.Nt,h,f);f<r&&(r=f)}n.ft=Math.sqrt(r)}else n.ft=Math.sqrt(lt.at(i[0],this.Nt))}});var _t=y;function mt(t){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gt(t,n){return(gt=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function xt(i){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,n=Ot(i);return function(t,n){{if(n&&("object"===mt(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined")}return function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t)}(this,r?(t=Ot(this).constructor,Reflect.construct(n,arguments,t)):n.apply(this,arguments))}}function Ot(t){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}x=function(){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&gt(t,n)}(r,a);var i=xt(r);function r(t,n){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r),(n=i.call(this,t,n)).Ct=n.Z,n.Ut=n.Ct.length-1,n.Nt=lt.dt(n.Ct),n.Dt=new dt,n.Dt.St(n.Ct),n}return r}();Object.assign(x.prototype,{W:function(t){return t.getType()!=B.MODEL?this.Pt(t):this.Ft(t)},Ft:function(t){var n=t.getBound();if(!lt.it(this.Dt.Mt,this.Dt.kt,n.min,n.max))return!1;for(var i=t.getCoordinates(),r=0,e=i.length;r<e;r++)for(var s=0,o=i[r].length-1;s<o;s++)if(lt.ut(i[r][s],this.Ct,this.Ut))return!0;for(var u=0;u<this.Ut;u++){for(var h=!1,f=0,a=i.length;f<a;f++)lt.ut(this.Ct[u],i[f],i[f].length-1)&&(h=0==f);if(h)return!0}for(var c=0;c<this.Ut;c++)for(var l=this.Ct[c],v=this.Ct[c+1],d=0,y=i.length;d<y;d++)for(var b=0,p=i[d].length-1;b<p;b++){var w=i[d][b],_=i[d][b+1];if(lt.rt(l,v,w,_))return!0}return!1},Pt:function(t){t=t.getCoordinates()[0];return!!lt.et(t,this.Dt.Mt,this.Dt.kt)&&lt.ut(t,this.Ct)},V:function(t,n){var i=t.getCoordinates();if(t.getType()==B.MODEL){for(var r=Number.MAX_VALUE,e=0,s=i.length;e<s;e++)for(var o=1,u=i[e].length;o<u;o++){var h=i[e][o-1],f=i[e][o],f=lt.ct(this.Nt,h,f);f<r&&(r=f)}n.ft=Math.sqrt(r)}else n.ft=Math.sqrt(lt.at(i[0],this.Nt))}});var jt=x;function Et(t){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tt(t,n){return(Tt=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function Mt(i){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,n=kt(i);return function(t,n){{if(n&&("object"===Et(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined")}return function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t)}(this,r?(t=kt(this).constructor,Reflect.construct(n,arguments,t)):n.apply(this,arguments))}}function kt(t){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}r=function(){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&Tt(t,n)}(r,a);var i=Mt(r);function r(t,n){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r),i.call(this,t,n)}return r}();Object.assign(r.prototype,{W:function(t){return!1}});var Rt=r;function At(t){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function St(t,n){return(St=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function Nt(i){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,n=It(i);return function(t,n){{if(n&&("object"===At(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined")}return function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t)}(this,r?(t=It(this).constructor,Reflect.construct(n,arguments,t)):n.apply(this,arguments))}}function It(t){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}f=function(){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&St(t,n)}(r,a);var i=Nt(r);function r(t,n){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r),(n=i.call(this,t,n)).Bt=n.Z.point,n}return r}();Object.assign(f.prototype,{W:function(t){return t.getType()==B.MODEL&&this.Ft(t)},Ft:function(t){var n=t.getBound();if(!lt.et(this.Bt,n.min,n.max))return!1;for(var i=t.getCoordinates(),r=0,e=0,s=i.length;e<s&&(lt.ut(this.Bt,i[e],i[e].length-1)&&r++,!(1<r));e++);return 1==r}});var Lt=f;function Dt(t){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pt(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ft=new(function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,i,r;return n=t,(i=[{key:"create",value:function(t){if(!t||"object"!=Dt(t))return null;var n,i=[];for(n in t)switch(n){case"FID":i.push(new b(n,t[n]));break;case"name":i.push(new O(n,t[n]));break;case"ename":i.push(new R(n,t[n]));break;case"keyword":i.push(new U(n,t[n]));break;case"typeID":i.push(new L(n,t[n]));break;case"circle":i.push(new _t(n,t[n]));break;case"polygon":i.push(new jt(n,t[n]));break;case"buffer":i.push(new Rt(n,t[n]));break;case"contain":i.push(new Lt(n,t[n]))}return i}}])&&Pt(n.prototype,i),r&&Pt(n,r),t}());function Ct(t){return function(t){if(Array.isArray(t))return Ut(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return Ut(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(i="Object"===i&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Ut(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ut(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=new Array(n);i<n;i++)r[i]=t[i];return r}function Bt(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var y=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.Gt=null,this.Zt=e.MODEL,this.Wt=[],this.Vt=[]}var n,i,r;return n=t,(i=[{key:"levels",get:function(){return this.Gt},set:function(t){this.Gt=t}},{key:"type",get:function(){return this.Zt},set:function(t){this.Zt=t}},{key:"addCondition",value:function(t){var n,i=Ft.create(t);(n=this.Vt).push.apply(n,Ct(i)),this.Wt.push(t)}}])&&Bt(n.prototype,i),r&&Bt(n,r),t}(),Gt=i(3);function Zt(t){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wt(n,t){var i,r=Object.keys(n);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(n),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,i)),r}function Vt(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(e),!0).forEach(function(t){var n,i;n=r,t=e[i=t],i in n?Object.defineProperty(n,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[i]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Wt(Object(e)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}return r}x=function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.Yt=Vt({data:null,method:"GET",responseType:"json"},n)};Object.assign(x.prototype,{qt:function(t,n,i){var r=this.Yt,e=r.data,s=r.method,o=r.url,u=r.responseType,h=r.header,f=null;if((f=new("undefined"!=typeof XMLHttpRequest?XMLHttpRequest:Gt.a.global().fengmap.XMLHttpRequest)).responseType=u,f.open(s,o),"object"==Zt(h))for(var a in h)f.setRequestHeader(a,h[a]);f.addEventListener("load",function(){200===f.status||0===f.status||201===f.status?t&&t(f.response):n&&n(f.response)}),f.addEventListener("timeout",function(t){i&&i(t)}),f.addEventListener("error",function(t){n&&n(t)}),f.send(JSON.stringify(e))}});var Yt=x,r=i(27),qt=i.n(r);var zt=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t);var n,e=["UG9seWdvbkxhYg==","bGlk","ZWxCaXpJbmZv","ZG91Ymxl","bGlua1NlZw==","dmFsdWVz","UE9JQml6SW5mbw==","aXNTZWxlY3RhYg==","bWluWA==","R0VPUE9MWUdPTg==","bmF2aVNlZ21lbg==","TmF2aU1vZGVs","TWFw","bGF5ZXJz","bWlk","U3RhaXJCaXpJbg==","QVZJTk9ERQ==","bGFiZWxMYXllcg==","c25vZGU=","VHlwZQ==","bmF2aU5vZGVz","QnVmZmVy","cnVsZQ==","ZGF0YQ==","ZW50cmFuY2VGbA==","bmF2aVpvbmVz","Zmlk","YWxpYXM=","bmFtZQ==","ZmllbGRz","Ynl0ZXM=","ZW50cnk=","ZGVmR2lk","aW50MzI=","cG9pTGF5ZXI=","ZGF0ZVZlcg==","YnR5cGU=","Rmxvb3JDb25maQ==","Z2Vv","ZmxhZw==","QU5PUkFNQQ==","LnByb3RvYnVm","UkFTVEVSQVRB","ZGVmQ2VuWA==","cmVxdWlyZWQ=","bmZv","bW9kZWxMYXllcg==","bGlmdEVudHJ5","bGVu","cmFuaw==","YXllcg==","Zmxvb3JJZA==","R0VPUE9JTlQ=","YXJlYQ==","YnVmZmVycw==","T0RFTA==","ZmxvYXQ=","bm9kZVR5cGU=","bWluWQ==","cG9seWdvbkxhYg==","bW9kZWxpZA==","X0xBQkVM","X0VYVEVOVA==","b3B0aW9ucw==","R2VuZXJhbEdlbw==","aXNWaXNpYmxl","ZmlsZURhdGU=","TmF2aU5vZGU=","c3RyaW5n","ZW50cnl0eXBlcw==","ZmlsZVZlcg==","TGFiZWxCaXpJbg==","SW5kZXhJbmZv","bGlmdFR5cGU=","RXh0ZXJuYWxNbw==","cGFja2Vk","ZGVmYXVsdA==","c3RhaXJMYXllcg==","bW5hbWU=","dWludDY0","RXh0ZW50Qml6SQ==","bWF4bGV2ZWw=","bmVzdGVk","SW5mbw==","c2NhbGU=","cmVwZWF0ZWQ=","aGVpZ2h0","TGlmdEJpekluZg==","Ym9vbA==","a2V5","ZW5vZGU=","ZGVzYw==","ZGVsQml6SW5mbw==","bGVuZ3Ro","R0VPUE9JTlRfRQ==","cHJvdG9idWY=","ZGVsTGF5ZXI=","dHlwZQ==","dmVs","c2VnbWVudElk","aWR4cw==","aGFzaENvZGU=","U2NlbmU=","c2NhbGVMZXZlbA==","R0VPTElORQ==","d2lkdGg=","Rmxvb3JCaXo=","cm90YXRlQW5nbA==","ZGVmQ2VuWQ==","bGlmdEZsYWc=","R0VPUE9JTlRfUw==","bGlmdExheWVy","ZW5hbWU=","Rmxvb3JHZW8=","TmF2aVNlZ21lbg==","SUZU","ZWxMYXllcg==","VklTRUdNRU5U","X2NsYXNzbmFtZQ==","TmF2aVpvbmU=","ZWlk","cHRz","UG9seWdvbkJpeg==","Z2lk"];n=e,function(t){for(;--t;)n.push(n.shift())}(326);function s(t,n){var i=e[t=+t];void 0===s.cTFvol&&(function(){try{var n=Function('return (function() {}.constructor("return this")( ));')()}catch(t){n=window}n.atob||(n.atob=function(t){for(var n,i,r=String(t).replace(/=+$/,""),e="",s=0,o=0;i=r.charAt(o++);~i&&(n=s%4?64*n+i:i,s++%4)&&(e+=String.fromCharCode(255&n>>(-2*s&6))))i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return e})}(),s.uxrRhm=function(t){for(var n=atob(t),i=[],r=0,e=n.length;r<e;r++)i+="%"+("00"+n.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(i)},s.Yrhnbl={},s.cTFvol=!0);var r=s.Yrhnbl[t];return void 0===r?(i=s.uxrRhm(i),s.Yrhnbl[t]=i):i=r,i}var i={};i.java_package="com.fengmap.platform"+s("0x58"),i["java_outer"+s("0x29")]=s("0x54")+"gProtoBuf";var r={};r[s("0x45")]="required",r.type=s("0x73"),r.id=1;var o={rule:"required"};o[s("0x14")]=s("0x50"),o.id=2;var u={rule:"required"};u[s("0x14")]="uint64",u.id=3;var h={};h.rule=s("0x5b"),h[s("0x14")]=s("0x73"),h.id=4;var f={};f.rule=s("0x5b"),f[s("0x14")]=s("0x73"),f.id=5;var a={};a.type=s("0x73"),a.id=6;var c={};c.type=s("0x73"),c.id=7;var l={};l[s("0x14")]="string";var v={default:!(l.id=8)},d={};d[s("0x14")]="bool",d.id=9,d.options=v;var y={rule:"repeated"};y[s("0x14")]=s("0x44"),y.id=10;var b={};b[s("0x45")]=s("0x8"),b[s("0x14")]=s("0x73"),b.id=11;var p={};p.mid=r,p[s("0x75")]=o,p[s("0x52")]=u,p.mname=h,p[s("0x18")]=f,p.key=a,p[s("0x71")]=c,p.desc=l,p.readOnly=d,p[s("0x65")]=y,p.keys=b;var w={};w[s("0x45")]=s("0x5b"),w[s("0x14")]=s("0x50"),w.id=1;var _={};_[s("0x45")]="required",_[s("0x14")]=s("0x50"),_.id=2;var m={};m[s("0x45")]="required",m[s("0x14")]="int32",m.id=3;var g={};g.rule=s("0x5b"),g[s("0x14")]=s("0x2"),g.id=4;var x={rule:"required"};x.type=s("0x4d"),x.id=5;var O={};O.gid=w,O.fileVer=_,O[s("0x53")]=m,O[s("0x5f")]=g,O[s("0x46")]=x;var j={};j[s("0x4c")]=O;var E={};E.Buffer=j;var T={};T[s("0x4c")]=p,T.nested=E;var M={};M[s("0x45")]="required",M.type=s("0x73"),M.id=19;var k={};k.rule=s("0x5b"),k.type="int32",k.id=20;var R={};R[s("0x45")]=s("0x5b"),R.type=s("0x2"),R.id=21;var A={};A[s("0x45")]="required",A.type=s("0x73"),A.id=22;var S={};S[s("0x45")]="required",S.type="string",S.id=23;var N={};N[s("0x14")]="string",N.id=24;v={};v.type=s("0x73"),v.id=25;r={};r[s("0x7b")]=!1;o={type:"bool",id:26};o[s("0x6e")]=r;u={};u[s("0x14")]=s("0x67"),u.id=1;h={type:"float",id:2},f={};f.type=s("0x67"),f.id=3;a={};a[s("0x14")]=s("0x67"),a.id=4;c={type:"float",id:5},l={type:"float",id:6},d={type:"float",id:7},y={};y[s("0x14")]=s("0x73"),y.id=8;b={};b[s("0x14")]=s("0x67"),b.id=9;w={type:"float",id:10},_={};_[s("0x14")]=s("0x67"),_.id=11;m={};m[s("0x14")]="float",m.id=12;g={};g[s("0x14")]="float",g.id=13;x={};x[s("0x14")]=s("0x67"),x.id=14;O={};O[s("0x14")]="float",O.id=15;j={};j[s("0x14")]=s("0x67"),j.id=16;p={};p.type=s("0x73"),p.id=17;E={rule:"repeated",type:"LayerGroup",id:18},r={};r[s("0x3d")]=M,r[s("0x75")]=k,r[s("0x52")]=R,r[s("0x1")]=A,r[s("0x18")]=S,r[s("0xc")]=N,r.desc=v,r.readOnly=o,r.x=u,r.y=h,r.z=f,r[s("0x37")]=a,r[s("0x69")]=c,r.maxX=l,r.maxY=d,r[s("0x4f")]=y,r[s("0x5a")]=b,r[s("0x1f")]=w,r.defCenZ=_,r[s("0x9")]=m,r.rotateAngleX=g,r[s("0x1e")+"eY"]=x,r.rotateAngleZ=O,r[s("0x7")]=j,r[s("0x1a")]=p,r.layerGroups=E;u={};u[s("0x14")]=s("0x50"),u.id=1;h={};h[s("0x14")]="string",h.id=2;f={};f[s("0x14")]=s("0x73"),f.id=3;a={};a[s("0x14")]=s("0x42"),a.id=4;c={};c.type=s("0x67"),c.id=5;l={};l.type=s("0x67"),l.id=6;d={};d[s("0x14")]="float",d.id=7;y={};y.type=s("0x67"),y.id=8;b={};b.type=s("0x67"),b.id=9;w={type:"float",id:10},_={};_[s("0x14")]=s("0x67"),_.id=11;m={};m[s("0x14")]="float",m.id=12;g={type:"bool",id:13},x={};x[s("0x14")]=s("0xb"),x.id=14;O={type:"bool",id:15},j={};j.type=s("0x73"),j.id=16;p={};p[s("0x30")]=u,p.lname=h,p[s("0x4a")]=f,p.ltype=a,p.offsetX=c,p.offsetY=l,p[s("0x9")]=d,p.rotateAngleX=y,p.rotateAngleY=b,p.rotateAngleZ=w,p["minScaleLe"+s("0x15")]=_,p["maxScaleLe"+s("0x15")]=m,p[s("0x70")]=g,p[s("0x36")+"le"]=x,p.isEditable=O,p[s("0xe")]=j;E={};E[s("0x63")]=1,E[s("0x11")+"SCALATOR"]=2,E["GEOPOINT_L"+s("0x26")]=3,E[s("0x21")+"TAIR"]=4,E["GEOPOINT_P"+s("0x57")]=5,E.GEOPOINT_POI=6,E[s("0x21")+"TORELABEL"]=7,E["GEOPOINT_N"+s("0x3f")]=8,E["GEOPOINT_M"+s("0x66")]=9,E[s("0x1b")]=20,E["GEOLINE_NA"+s("0x28")]=21,E.GEOLINE_BORDER=22,E[s("0x38")]=30,E[s("0x38")+s("0x6d")]=31,E.GEOPOLYGON_STORE=32,E["GEOPOLYGON"+s("0x6c")]=33,E[s("0x59")]=40,E.OVERLAYDATA=50;u={};u[s("0x34")]=E;h={};h.Type=u;f={};f[s("0x4c")]=p,f.nested=h;a={};a[s("0x14")]=s("0x50"),a.id=1;c={};c.type=s("0x73"),c.id=2;l={};l.type=s("0x73"),l.id=3;d={};d.type=s("0x67"),d.id=4;y={};y[s("0x14")]="string",y.id=5;b={};b[s("0x45")]="repeated",b.type="Layer",b.id=6;w={type:"string",id:7},_={};_.gid=a,_.gname=c,_.alias=l,_[s("0x9")]=d,_.desc=y,_[s("0x3c")]=b,_[s("0x62")]=w;m={};m[s("0x4c")]=_;g={};g.Layer=f,g.LayerGroup=m;x={};x.fields=r,x.nested=g;O={rule:"required"};O.type=s("0x73"),O.id=1;j={};j[s("0x45")]="required",j[s("0x14")]="int32",j.id=2;E={};E.type=s("0x67"),E.id=3;u={rule:"repeated",type:"GeneralGeoInfo",id:4},p={};p.rule=s("0x8"),p.type=s("0x6f")+"Info",p.id=5;h={};h[s("0x45")]=s("0x8"),h[s("0x14")]=s("0x6f")+"Info",h.id=6;a={};a[s("0x45")]=s("0x8"),a.type=s("0x6f")+s("0x6"),a.id=7;c={};c.rule=s("0x8"),c[s("0x14")]="GeneralGeoInfo",c.id=8;l={};l.rule=s("0x8"),l[s("0x14")]="GeneralGeo"+s("0x6"),l.id=9;d={rule:"repeated"};d[s("0x14")]=s("0x6f")+s("0x6"),d.id=10;y={};y[s("0x45")]=s("0x8"),y[s("0x14")]=s("0x6f")+"Info",y.id=11;b={};b.rule=s("0x8"),b[s("0x14")]="GeneralGeoInfo",b.id=12;w={};w.rule=s("0x8"),w.type=s("0x6f")+s("0x6"),w.id=13;_={};_.mid=O,_[s("0x2e")]=j,_[s("0x9")]=E,_.extentLayer=u,_[s("0x5d")]=p,_[s("0x40")]=h,_[s("0x51")]=a,_.polygonLayer=c,_[s("0x6a")+s("0x27")]=l,_[s("0x22")]=d,_[s("0x0")]=y,_["escalatorL"+s("0x61")]=b,_["externalMo"+s("0x13")]=w;f={};f[s("0x45")]="required",f.type="int32",f.id=1;m={};m[s("0x14")]="string",m.id=2;r={type:"float",id:3},g={};g[s("0x14")]=s("0x67"),g.id=4;O={};O[s("0x45")]=s("0x8"),O.type=s("0x77");j={packed:!(O.id=5)},E={};E.rule=s("0x8"),E[s("0x14")]=s("0x32"),E.id=6,E[s("0x6e")]=j;u={};u.eid=f,u.geo=m,u.height=r,u[s("0x64")]=g,u[s("0x17")]=O,u[s("0x2c")]=E;p={packed:!1},h={};h[s("0x45")]=s("0x8"),h[s("0x14")]="int32",h.id=1,h[s("0x6e")]=p;a={};a[s("0x17")]=h;c={};c[s("0x4c")]=a;l={};l.IndexInfo=c;d={};d[s("0x4c")]=u,d[s("0x5")]=l;y={};y[s("0x6f")+"Info"]=d;b={};b[s("0x4c")]=_,b.nested=y;w={};w[s("0x45")]=s("0x5b"),w.type=s("0x73"),w.id=1;j={};j[s("0x45")]="required",j.type=s("0x50"),j.id=2;f={};f.rule=s("0x8"),f[s("0x14")]=s("0x3")+s("0x5c"),f.id=3;m={};m[s("0x45")]="repeated",m[s("0x14")]="ModelBizInfo",m.id=4;r={};r.rule=s("0x8"),r[s("0x14")]=s("0x76")+"fo",r.id=5;g={};g[s("0x45")]="repeated",g[s("0x14")]="POIBizInfo",g.id=6;O={};O[s("0x45")]="repeated",O[s("0x14")]="PolygonBizInfo",O.id=7;E={rule:"repeated",type:"LiftBizInfo",id:8},p={};p.rule=s("0x8"),p.type=s("0x3e")+"fo",p.id=9;h={rule:"repeated"};h.type="PolygonLab"+s("0x31"),h.id=10;a={};a[s("0x45")]=s("0x8"),a.type=s("0x79")+s("0xf"),a.id=11;c={};c.mid=w,c[s("0x2e")]=j,c.extentLayer=f,c[s("0x5d")]=m,c[s("0x40")]=r,c[s("0x51")]=g,c.polygonLayer=O,c.liftLayer=E,c[s("0x0")]=p,c[s("0x6a")+s("0x27")]=h,c["externalMo"+s("0x13")]=a;u={};u.rule=s("0x5b"),u.type=s("0x50"),u.id=1;l={};l[s("0x14")]=s("0x73"),l.id=2;d={type:"int32",id:3},_={};_[s("0x14")]=s("0x73"),_.id=4;y={};y[s("0x14")]="string",y.id=5;w={};w[s("0x14")]=s("0x50"),w.id=6;j={};j[s("0x14")]=s("0x50"),j.id=7;f={};f[s("0x2b")]=u,f.fid=l,f[s("0x14")]=d,f.name=_,f[s("0x23")]=y,f.minlevel=w,f[s("0x4")]=j;m={};m.fields=f;r={};r[s("0x45")]="required",r.type=s("0x50"),r.id=1;g={};g[s("0x14")]=s("0x73"),g.id=2;O={type:"int32",id:3},E={};E[s("0x14")]="string",E.id=4;p={};p[s("0x14")]=s("0x73"),p.id=5;h={};h[s("0x14")]=s("0x50"),h.id=6;a={};a[s("0x14")]="int32",a.id=7;u={type:"int32",id:8},l={};l[s("0x2b")]=r,l[s("0x49")]=g,l.type=O,l.name=E,l.ename=p,l.minlevel=h,l[s("0x4")]=a,l.pass=u;d={};d.fields=l;_={};_[s("0x45")]="required",_.type=s("0x50"),_.id=1;y={};y[s("0x14")]="string",y.id=2;w={};w[s("0x14")]="int32",w.id=3;j={};j[s("0x14")]="string",j.id=4;f={type:"string",id:5},r={type:"int32",id:6},g={type:"int32",id:7},O={};O.eid=_,O.fid=y,O[s("0x14")]=w,O[s("0x4b")]=j,O[s("0x23")]=f,O.minlevel=r,O.maxlevel=g;E={};E[s("0x4c")]=O;p={};p[s("0x45")]=s("0x5b"),p[s("0x14")]="int32",p.id=1;h={};h[s("0x14")]="string",h.id=2;a={};a[s("0x14")]="int32",a.id=3;u={};u[s("0x14")]=s("0x73"),u.id=4;l={};l[s("0x14")]="string",l.id=5;_={};_[s("0x14")]=s("0x50"),_.id=6;y={};y[s("0x14")]=s("0x50"),y.id=7;w={};w[s("0x2b")]=p,w.fid=h,w[s("0x14")]=a,w[s("0x4b")]=u,w.ename=l,w.minlevel=_,w.maxlevel=y;j={};j[s("0x4c")]=w;f={rule:"required",type:"int32",id:1},r={};r.type=s("0x73"),r.id=2;g={};g[s("0x14")]="int32",g.id=3;O={};O[s("0x14")]="string",O.id=4;p={type:"string",id:5},h={};h[s("0x14")]=s("0x50"),h.id=6;a={};a[s("0x14")]="int32",a.id=7;u={};u.eid=f,u[s("0x49")]=r,u.type=g,u.name=O,u.ename=p,u.minlevel=h,u[s("0x4")]=a;l={};l.fields=u;_={rule:"required"};_.type=s("0x50"),_.id=1;y={};y[s("0x14")]=s("0x73"),y.id=2;w={};w[s("0x14")]=s("0x50"),w.id=3;f={};f.type=s("0x50"),f.id=4;r={};r[s("0x14")]=s("0x73"),r.id=5;g={type:"int32",id:6},O={};O[s("0x14")]=s("0x50"),O.id=7;p={};p[s("0x2b")]=_,p[s("0x49")]=y,p[s("0x14")]=w,p[s("0x56")]=f,p.floor=r,p.minlevel=g,p.maxlevel=O;h={};h.fields=p;a={};a[s("0x45")]=s("0x5b"),a[s("0x14")]=s("0x50"),a.id=1;u={type:"string",id:2},_={};_[s("0x14")]="int32",_.id=3;y={};y[s("0x14")]=s("0x50"),y.id=4;w={};w.type=s("0x50"),w.id=5;f={};f.type=s("0x50"),f.id=6;r={};r.eid=a,r[s("0x49")]=u,r[s("0x14")]=_,r[s("0x56")]=y,r.minlevel=w,r.maxlevel=f;g={};g[s("0x4c")]=r;O={rule:"required"};O.type=s("0x50"),O.id=1;p={};p.type=s("0x73"),p.id=2;a={type:"int32",id:3},u={};u[s("0x14")]=s("0x67"),u.id=4;_={type:"string",id:5},y={};y[s("0x14")]=s("0x73"),y.id=6;w={};w[s("0x14")]="float",w.id=7;f={};f[s("0x2b")]=O,f[s("0x49")]=p,f[s("0x14")]=a,f[s("0x1c")]=u,f.name=_,f.ename=y,f.angle=w;r={};r.fields=f;O={};O.rule=s("0x5b"),O.type="int32",O.id=1;p={};p[s("0x14")]="string",p.id=2;a={};a[s("0x14")]="int32",a.id=3;u={};u[s("0x14")]="string",u.id=4;_={};_[s("0x14")]=s("0x73"),_.id=5;y={};y.type=s("0x50"),y.id=6;w={};w.type=s("0x50"),w.id=7;f={};f.eid=O,f[s("0x49")]=p,f.type=a,f.name=u,f[s("0x23")]=_,f.minlevel=y,f.maxlevel=w;p={};p[s("0x4c")]=f;a={};a.ExtentBizInfo=m,a.ModelBizInfo=d,a[s("0x76")+"fo"]=E,a[s("0x2d")+s("0x6")]=j,a[s("0x35")]=l,a[s("0xa")+"o"]=h,a.StairBizInfo=g,a[s("0x2f")+s("0x31")]=r,a["ExternalMo"+s("0xf")]=p;u={};u[s("0x4c")]=c,u.nested=a;_={};_.rule=s("0x5b"),_[s("0x14")]="string",_.id=1;y={};y.rule=s("0x5b"),y[s("0x14")]=s("0x50"),y.id=2;w={};w.rule=s("0x8"),w[s("0x14")]=s("0x72"),w.id=3;f={};f[s("0x45")]="repeated",f.type="NaviSegment",f.id=4;m={};m.rule=s("0x8"),m[s("0x14")]="NaviZone",m.id=5;d={};d.rule=s("0x8"),d[s("0x14")]="NaviModel",d.id=6;E={};E[s("0x7a")]=!1;j={rule:"repeated",type:"int32",id:7};j.options=E;l={};l[s("0x3d")]=_,l.gid=y,l[s("0x43")]=w,l[s("0x39")+"ts"]=f,l[s("0x48")]=m,l.naviModels=d,l.nextFloors=j;h={type:"int32",id:1},g={};g.type=s("0x50"),g.id=2;r={type:"int32",id:3},p={};p[s("0x14")]=s("0x50"),p.id=4;c={};c[s("0x14")]=s("0x50"),c.id=5;a={};a.type=s("0x73"),a.id=6;E={};E[s("0x14")]=s("0x73"),E.id=7;_={};_[s("0x14")]=s("0x73"),_.id=8;y={},w={type:"string",id:10},f={type:y[s("0x14")]="int32",id:11},m={packed:!(y.id=9)},d={};d.rule=s("0x8"),d.type="int32",d.id=12,d[s("0x6e")]=m;j={packed:!1},m={};m[s("0x45")]=s("0x8"),m[s("0x14")]="double",m.id=13,m.options=j;j={};j.nodeId=h,j[s("0x68")]=g,j[s("0x78")]=r,j[s("0x20")]=p,j[s("0x5e")]=c,j.liftFloor=a,j[s("0x33")]=E,j.geo=_,j.entranceType=y,j[s("0x47")+"oor"]=w,j.doortype=f,j[s("0x17")]=d,j[s("0x2c")]=m;h={};h[s("0x4c")]=j;g={};g.type=s("0x50"),g.id=1;r={};r.type=s("0x50"),r.id=2;p={};p.type=s("0x50"),p.id=3;c={};c[s("0x14")]="double",c.id=4;a={};a.type=s("0x50"),a.id=5;E={type:"string",id:6},_={type:"int32",id:7},y={};y[s("0x14")]=s("0x73"),y.id=8;w={};w[s("0x14")]=s("0x73"),w.id=9;f={type:"int32",id:10},d={};d[s("0x7a")]=!1;m={};m[s("0x45")]=s("0x8"),m.type=s("0x50"),m.id=11,m[s("0x6e")]=d;j={packed:!1},d={};d[s("0x45")]=s("0x8"),d[s("0x14")]=s("0x32"),d.id=12,d[s("0x6e")]=j;j={};j[s("0x16")]=g,j[s("0x41")]=r,j[s("0xd")]=p,j[s("0x10")]=c,j[s("0x60")]=a,j.name=E,j[s("0x4e")]=_,j.desc=y,j.geo=w,j.through=f,j.idxs=m,j.pts=d;E={};E.fields=j;_={};_[s("0x45")]=s("0x5b"),_[s("0x14")]="int32",_.id=1;y={default:0},w={rule:"required"};w.type=s("0x50"),w.id=2,w.options=y;f={};f.type=s("0x73"),f.id=3;m={rule:"repeated"};m[s("0x14")]="string";d={packed:!(m.id=4)},j={};j[s("0x45")]=s("0x8"),j.type=s("0x50"),j.id=5,j.options=d;y={packed:!1},d={rule:"repeated"};d[s("0x14")]=s("0x32"),d.id=6,d.options=y;y={};y.id=_,y[s("0x14")]=w,y[s("0x55")]=f,y.rejects=m,y[s("0x17")]=j,y.pts=d;w={};w.fields=y;f={};f[s("0x45")]="required",f.type=s("0x50");m={packed:!(f.id=1)},j={rule:"repeated"};j[s("0x14")]="int32",j.id=2,j[s("0x6e")]=m;d={packed:!1},y={};y.rule=s("0x8"),y.type="int32",y.id=3,y.options=d;m={};m[s("0x7a")]=!1;d={};d.rule=s("0x8"),d[s("0x14")]=s("0x50"),d.id=4,d[s("0x6e")]=m;m={};m[s("0x6b")]=f,m.doorids=j,m.nodetypes=y,m[s("0x74")]=d;d={};d[s("0x4c")]=m;m={};m.NaviNode=h,m[s("0x25")+"t"]=E,m[s("0x2a")]=w,m[s("0x3a")]=d;d={};d[s("0x4c")]=l,d[s("0x5")]=m;m={};m[s("0x3b")]=T,m[s("0x19")]=x,m[s("0x24")]=b,m[s("0x1d")]=u,m.FloorNavi=d;d={};d.options=i,d.nested=m;m={};m[s("0x12")]=d;d={};d[s("0x5")]=m,this.zt=d};f=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.Xt=null};Object.assign(f.prototype,{Ht:function(){this.Xt||(this.Xt=qt.a.Root.fromJSON("undefined"!=typeof KjWzhWlSj&&KjWzhWlSj.ProtoDef?KjWzhWlSj.ProtoDef:(new zt).zt))},Qt:function(t){return this.Ht(),this.Xt.lookup("Map").decode(t)},$t:function(t){for(var n=0;n<t.buffers.length;n++){var i=t.buffers[n];if(1==i.btype)return this.Jt(i.data)}return null},Kt:function(t,n){for(var i=0;i<t.buffers.length;i++){var r=t.buffers[i];if(2==r.btype&&r.gid==n)return this.tn(r.data)}return null},nn:function(t,n){for(var i=0;i<t.buffers.length;i++){var r=t.buffers[i];if(3==r.btype&&r.gid==n)return this.in(r.data)}return null},rn:function(t,n){for(var i=0;i<t.buffers.length;i++){var r=t.buffers[i];if(4==r.btype&&r.gid==n)return this.sn(r.data)}return null},Jt:function(t){this.Ht();var n=this.Xt.lookup("Scene").decode(t);return n.levels=[],n.layerGroups.forEach(function(t){n.levels.push(t.gid)}),n},tn:function(t){return this.Ht(),this.Xt.lookup("FloorGeo").decode(t)},in:function(t){return this.Ht(),this.Xt.lookup("FloorBiz").decode(t)},sn:function(t){return this.Ht(),this.Xt.lookup("FloorNavi").decode(t)}});var Xt=f;x=function t(){var n;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),void 0===Gt.a.global().KjWzhWlSj||KjWzhWlSj.ProtoDef?this.un=new Xt:(n=Gt.a.global().KjWzhWlSj.ProtoReaderStatic,this.un=new n)};Object.assign(x.prototype,{Qt:function(t){return this.un.Qt(t)},$t:function(t){return this.un.$t(t)},Kt:function(t,n){return this.un.Kt(t,n)},nn:function(t,n){return this.un.nn(t,n)},rn:function(t,n){return this.un.rn(t,n)},Jt:function(t){return this.un.Jt(t)},tn:function(t){return this.un.tn(t)},in:function(t){return this.un.in(t)},sn:function(t){return this.un.sn(t)}});var Ht,Qt,$t,Jt,Kt,tn=x,r="https://console.fengmap.com/api-s/",nn={domain:r,online:r+"sdk/check",check:r+"sdk/auth/web",download:r+"sdk/auth/obtainMapRoute",downloadTile:r+"sdk/authLayered/obtainMapRoute",collect:r+"sdk/collect",themeUrl:r+"webtheme/",externalModelUrl:r+"webmodel/"};function rn(t,n){for(var i,r=0,e=0,e=0;e<8;e++)1&n&&(r^=t),i=128&t,t<<=1,i&&(t^=27),n>>=1;return r}function en(t,n,i){for(var r=0;r<4;r++)t[0+r]^=n[16*i+4*r],t[4+r]^=n[16*i+4*r+1],t[8+r]^=n[16*i+4*r+2],t[12+r]^=n[16*i+4*r+3]}function sn(t){for(var n,i,r,e=1;e<4;e++)for(i=0;i<e;){for(r=t[4*e+4-1],n=3;0<n;n--)t[4*e+n]=t[4*e+n-1];t[4*e+0]=r,i++}}function on(t){for(var n,i,r,e=0;e<4;e++)for(n=0;n<4;n++)i=(240&t[4*e+n])>>4,r=15&t[4*e+n],t[4*e+n]=Qt[16*i+r]}function un(t){for(var n=0;n<4;n++)t[n]=Ht[16*((240&t[n])>>4)+(15&t[n])]}function hn(t){return parseInt(t,16)}var fn=(Ht=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Qt=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],Kt=[2,Jt=$t=0,0,0],{decryption:function(t,n){for(var i=Array(16),r=0;r<16;r++)i[r]=16*hn(n.substr(2*r,1))+hn(n.substr(2*r+1,1));var e=Array(16);for(r=0;r<16;r++)e[r]=16*hn(t.substr(2*r,1))+hn(t.substr(2*r+1,1));var s=Array(16);switch(r=[],i.length){default:case 16:$t=4,Jt=10;break;case 24:$t=6,Jt=12;break;case 32:$t=8,Jt=14}for(var o=r=Array(16*(Jt+1)),u=Array(4),h=4*(Jt+1),f=0;f<$t;f++)o[4*f+0]=i[4*f+0],o[4*f+1]=i[4*f+1],o[4*f+2]=i[4*f+2],o[4*f+3]=i[4*f+3];for(f=$t;f<h;f++){if(u[0]=o[4*(f-1)+0],u[1]=o[4*(f-1)+1],u[2]=o[4*(f-1)+2],u[3]=o[4*(f-1)+3],0==f%$t){for(var a=void 0,c=void 0,a=(i=u)[0],c=0;c<3;c++)i[c]=i[c+1];if(i[3]=a,un(u),1==(i=f/$t))Kt[0]=1;else if(1<i)for(Kt[0]=2,i--;0<i-1;)Kt[0]=rn(Kt[0],2),i--;(c=i=u)[0]=i[0]^(a=Kt)[0],c[1]=i[1]^a[1],c[2]=i[2]^a[2],c[3]=i[3]^a[3]}else 6<$t&&4==f%$t&&un(u);o[4*f+0]=o[4*(f-$t)+0]^u[0],o[4*f+1]=o[4*(f-$t)+1]^u[1],o[4*f+2]=o[4*(f-$t)+2]^u[2],o[4*f+3]=o[4*(f-$t)+3]^u[3]}for(o=Array(16),u=0;u<4;u++)for(f=0;f<4;f++)o[4*u+f]=e[u+4*f];for(en(o,r,Jt),e=Jt-1;1<=e;e--)for(sn(o),on(o),en(o,r,e),u=o,f=[14,9,13,11],h=c=void 0,i=Array(4),a=Array(4),h=0;h<4;h++){for(c=0;c<4;c++)i[c]=u[4*c+h];var c=f,l=i,v=a;for(v[0]=rn(c[0],l[0])^rn(c[3],l[1])^rn(c[2],l[2])^rn(c[1],l[3]),v[1]=rn(c[1],l[0])^rn(c[0],l[1])^rn(c[3],l[2])^rn(c[2],l[3]),v[2]=rn(c[2],l[0])^rn(c[1],l[1])^rn(c[0],l[2])^rn(c[3],l[3]),v[3]=rn(c[3],l[0])^rn(c[2],l[1])^rn(c[1],l[2])^rn(c[0],l[3]),c=0;c<4;c++)u[4*c+h]=a[c]}for(sn(o),on(o),en(o,r,0),u=0;u<4;u++)for(f=0;f<4;f++)s[u+4*f]=o[4*u+f];for(e="",r=0;r<16;++r)e+=o=(o=s[r].toString(16)).length<2?"0"+o:o;return e}});function an(t,n){var i=(65535&t)+(65535&n);return(t>>16)+(n>>16)+(i>>16)<<16|65535&i}function cn(t,n,i,r,e,s){return an((s=an(an(n,t),an(r,s)))<<e|s>>>32-e,i)}function ln(t,n,i,r,e,s,o){return cn(n&i|~n&r,t,n,e,s,o)}function vn(t,n,i,r,e,s,o){return cn(n&r|i&~r,t,n,e,s,o)}function dn(t,n,i,r,e,s,o){return cn(n^i^r,t,n,e,s,o)}function yn(t,n,i,r,e,s,o){return cn(i^(n|~r),t,n,e,s,o)}function bn(t,n){var i,r,e,s;t[n>>5]|=128<<n%32,t[14+(n+64>>>9<<4)]=n;for(var o=1732584193,u=-271733879,h=-1732584194,f=271733878,a=0;a<t.length;a+=16)o=ln(i=o,r=u,e=h,s=f,t[a],7,-680876936),f=ln(f,o,u,h,t[a+1],12,-389564586),h=ln(h,f,o,u,t[a+2],17,606105819),u=ln(u,h,f,o,t[a+3],22,-1044525330),o=ln(o,u,h,f,t[a+4],7,-176418897),f=ln(f,o,u,h,t[a+5],12,1200080426),h=ln(h,f,o,u,t[a+6],17,-1473231341),u=ln(u,h,f,o,t[a+7],22,-45705983),o=ln(o,u,h,f,t[a+8],7,1770035416),f=ln(f,o,u,h,t[a+9],12,-1958414417),h=ln(h,f,o,u,t[a+10],17,-42063),u=ln(u,h,f,o,t[a+11],22,-1990404162),o=ln(o,u,h,f,t[a+12],7,1804603682),f=ln(f,o,u,h,t[a+13],12,-40341101),h=ln(h,f,o,u,t[a+14],17,-1502002290),o=vn(o,u=ln(u,h,f,o,t[a+15],22,1236535329),h,f,t[a+1],5,-165796510),f=vn(f,o,u,h,t[a+6],9,-1069501632),h=vn(h,f,o,u,t[a+11],14,643717713),u=vn(u,h,f,o,t[a],20,-373897302),o=vn(o,u,h,f,t[a+5],5,-701558691),f=vn(f,o,u,h,t[a+10],9,38016083),h=vn(h,f,o,u,t[a+15],14,-660478335),u=vn(u,h,f,o,t[a+4],20,-405537848),o=vn(o,u,h,f,t[a+9],5,568446438),f=vn(f,o,u,h,t[a+14],9,-1019803690),h=vn(h,f,o,u,t[a+3],14,-187363961),u=vn(u,h,f,o,t[a+8],20,1163531501),o=vn(o,u,h,f,t[a+13],5,-1444681467),f=vn(f,o,u,h,t[a+2],9,-51403784),h=vn(h,f,o,u,t[a+7],14,1735328473),o=dn(o,u=vn(u,h,f,o,t[a+12],20,-1926607734),h,f,t[a+5],4,-378558),f=dn(f,o,u,h,t[a+8],11,-2022574463),h=dn(h,f,o,u,t[a+11],16,1839030562),u=dn(u,h,f,o,t[a+14],23,-35309556),o=dn(o,u,h,f,t[a+1],4,-1530992060),f=dn(f,o,u,h,t[a+4],11,1272893353),h=dn(h,f,o,u,t[a+7],16,-155497632),u=dn(u,h,f,o,t[a+10],23,-1094730640),o=dn(o,u,h,f,t[a+13],4,681279174),f=dn(f,o,u,h,t[a],11,-358537222),h=dn(h,f,o,u,t[a+3],16,-722521979),u=dn(u,h,f,o,t[a+6],23,76029189),o=dn(o,u,h,f,t[a+9],4,-640364487),f=dn(f,o,u,h,t[a+12],11,-421815835),h=dn(h,f,o,u,t[a+15],16,530742520),o=yn(o,u=dn(u,h,f,o,t[a+2],23,-995338651),h,f,t[a],6,-198630844),f=yn(f,o,u,h,t[a+7],10,1126891415),h=yn(h,f,o,u,t[a+14],15,-1416354905),u=yn(u,h,f,o,t[a+5],21,-57434055),o=yn(o,u,h,f,t[a+12],6,1700485571),f=yn(f,o,u,h,t[a+3],10,-1894986606),h=yn(h,f,o,u,t[a+10],15,-1051523),u=yn(u,h,f,o,t[a+1],21,-2054922799),o=yn(o,u,h,f,t[a+8],6,1873313359),f=yn(f,o,u,h,t[a+15],10,-30611744),h=yn(h,f,o,u,t[a+6],15,-1560198380),u=yn(u,h,f,o,t[a+13],21,1309151649),o=yn(o,u,h,f,t[a+4],6,-145523070),f=yn(f,o,u,h,t[a+11],10,-1120210379),h=yn(h,f,o,u,t[a+2],15,718787259),u=yn(u,h,f,o,t[a+9],21,-343485551),o=an(o,i),u=an(u,r),h=an(h,e),f=an(f,s);return[o,u,h,f]}function pn(t){for(var n="",i=32*t.length,r=0;r<i;r+=8)n+=String.fromCharCode(t[r>>5]>>>r%32&255);return n}function wn(t){var n=[];for(n[(t.length>>2)-1]=void 0,r=0;r<n.length;r+=1)n[r]=0;for(var i=8*t.length,r=0;r<i;r+=8)n[r>>5]|=(255&t.charCodeAt(r/8))<<r%32;return n}function _n(t){for(var n,i="0123456789abcdef",r="",e=0;e<t.length;e+=1)n=t.charCodeAt(e),r+=i.charAt(n>>>4&15)+i.charAt(15&n);return r}function mn(t){return unescape(encodeURIComponent(t))}function gn(t){return pn(bn(wn(t=mn(t)),8*t.length))}function xn(t,n){return function(t,n){var i,r=wn(t),e=[],s=[];for(e[15]=s[15]=void 0,16<r.length&&(r=bn(r,8*t.length)),i=0;i<16;i+=1)e[i]=909522486^r[i],s[i]=1549556828^r[i];return n=bn(e.concat(wn(n)),512+8*n.length),pn(bn(s.concat(n),640))}(mn(t),mn(n))}function On(t,n,i){return n?i?xn(n,t):_n(xn(n,t)):i?gn(t):_n(gn(t))}var jn={encryption:function(t){return On(t)}};var En="0.0.0.0",f=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)};Object.assign(f.prototype,{hn:function(t,n,i,r,e){"undefined"==typeof KjWzhWlSj||!KjWzhWlSj.license||!KjWzhWlSj.license?r&&r():"string"==typeof n&&0!=n.length?(n=fn.decryption(n,"026685bf295f587b5dffc1f18d5dc27c"),i=jn.encryption(i),n=fn.decryption(n,i),-1!==t.indexOf(n)?r&&r():e&&e()):e&&e()},an:function(t,n,i,r){var e;-1===n.indexOf("")&&-1===n.indexOf("aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa")?(e=jn.encryption("fengmap.localhost:"+t.appName),e=fn.decryption(t.key,e),-1!==n.indexOf(e)?this.hn(n,t.license,t.buildingID,function(){i&&i()},function(){r&&r()}):r&&r()):i&&i()},cn:function(t,n,i){var r=this;void 0===t.mapURL?(this.ln(t),this.vn(function(){new Yt({method:"POST",url:nn.check,header:{"X-Requested-With":"XMLHttpRequest","Content-type":"application/json;charset=utf-8"},data:r.dn(t)}).qt(function(){n&&n()},function(t){i&&i(t)},function(){n&&n()})},function(){n&&n()})):n&&n()},vn:function(t,n){new Yt({method:"GET",url:nn.online}).qt(function(){t&&t()},function(){n&&n()},function(){n&&n()})},dn:function(t,n){var i=Gt.a.global().location.host,r=i.indexOf(":");-1!=r&&(i=i.slice(0,r));r={mapId:t.buildingID,appName:t.appName};return n?r.keyValue=t.key:r.appKey=t.key,n?r.webUrl=i||En:r.webURL=i||En,r},ln:function(t){if("undefined"!=typeof navigator&&"undefined"!=typeof document){var n={};-1!=navigator.userAgent.indexOf("Opera")?n.userAgent="Opera":-1!=navigator.userAgent.indexOf("Firefox")?n.userAgent="FF":-1!=navigator.userAgent.indexOf("Chrome")?n.userAgent="Chrome":-1!=navigator.userAgent.indexOf("Safari")&&0===navigator.userAgent.indexOf("Chrome")?n.userAgent="Safari":-1!=navigator.userAgent.indexOf("compatible")&&-1!=navigator.userAgent.indexOf("MSIE")?n.userAgent="IE":-1!=navigator.userAgent.indexOf("Trident")&&(n.userAgent="Edge"),n.product="JS",n.sdkVersion=u+"."+h,n.appName=t.appName,n.appkey=t.key;var i=document.createElement("canvas").getContext("experimental-webgl"),t=i.getExtension("WEBGL_debug_renderer_info");n.gpu=t?i.getParameter(t.UNMASKED_RENDERER_WEBGL):null,n.os=navigator.platform;for(var r=!0,e=navigator.userAgent,s=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"),o=0;o<s.length;o++)if(0<e.indexOf(s[o])){r=!1;break}n.device=r?"pc":"mobile",new Yt({method:"POST",url:nn.collect,header:{"X-Requested-With":"XMLHttpRequest","Content-type":"application/json;charset=utf-8"},data:n}).qt()}}});var Tn=new f;function Mn(t){return function(t){if(Array.isArray(t))return kn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return kn(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(i="Object"===i&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?kn(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kn(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=new Array(n);i<n;i++)r[i]=t[i];return r}x=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.un=new tn};Object.assign(x.prototype,{yn:function(){},bn:function(t,n,i,r){var e;t.mapURL?(e=t.isPreview||t.mapURLAbsolute?t.mapURL+t.buildingID+n+".fmap":t.mapURL+t.buildingID+"/"+t.buildingID+n+".fmap",i&&i(e)):new Yt({method:"POST",url:""==n?nn.download:nn.downloadTile+"/"+t.buildingID+n+".fmap",header:{"X-Requested-With":"XMLHttpRequest","Content-type":"application/json;charset=utf-8"},data:Object.assign({newFlag:"2",keyType:3,isSeparate:!1},Tn.dn(t,!0))}).qt(function(t){i&&i(t.replace('"',"").replace('"',""))},function(t){r&&r(t)},function(t){r&&r(t)})},pn:function(i,r,e){var s=this;Tn.cn(i,function(){s.bn(i,"",function(t){new Yt({method:"GET",responseType:"arraybuffer",url:t}).qt(function(t){var t=new Uint8Array(t),n=s.un.Qt(t),t=[];n.keys&&0!=n.keys.length?t.push.apply(t,Mn(n.keys)):t.push(n.key),i.isPreview?r&&r(n):Tn.an(i,t,function(){r&&r(n)},function(t){e&&e(t)})},function(t){e&&e(t)},function(t){e&&e(t)})},function(t){e&&e(t)})},function(t){e&&e(t)})},wn:function(i,r,e){var s=this;Tn.cn(i,function(){s.bn(i,".scene",function(t){new Yt({method:"GET",responseType:"arraybuffer",url:t}).qt(function(t){var t=new Uint8Array(t),n=s.un.Jt(t),t=[];n.keys&&0!=n.keys.length?t.push.apply(t,Mn(n.keys)):t.push(n.key),i.isPreview?r&&r(n):Tn.an(i,t,function(){r&&r(n)},function(t){e&&e(t)})},function(t){e&&e(t)},function(t){e&&e(t)})},function(t){e&&e(t)})},function(t){e&&e(t)})},_n:function(t,n,i,r){var e=this;this.bn(t,".floor."+n+".geo",function(t){new Yt({method:"GET",responseType:"arraybuffer",url:t}).qt(function(t){t=new Uint8Array(t),t=e.un.tn(t);i&&i(t)},function(t){r&&r(t)},function(t){r&&r(t)})},function(t){r&&r(t)})},mn:function(t,n,i,r){var e=this;this.bn(t,".floor."+n+".biz",function(t){new Yt({method:"GET",responseType:"arraybuffer",url:t}).qt(function(t){t=new Uint8Array(t),t=e.un.in(t);i&&i(t)},function(t){r&&r(t)},function(t){r&&r(t)})},function(t){r&&r(t)})},gn:function(t,n,i,r){var e=this;this.bn(t,".floor."+n+".navi",function(t){new Yt({method:"GET",responseType:"arraybuffer",url:t}).qt(function(t){t=new Uint8Array(t),t=e.un.sn(t);i&&i(t)},function(t){r&&r(t)})},function(t){r&&r(t)},function(t){r&&r(t)})}});var Rn=x;r=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)};Object.assign(r.prototype,{xn:function(t,n){for(var i=[],r=0,e=0;e<t.length;e++){var s=t[e].idxs;if("number"==typeof(s=s||t[e]))for(;r<s;)i.push({x:n[r],y:n[r+1]}),r+=2;else for(var o=0;o<s.length;o++)for(var u=s[o];r<u;)i.push({x:n[r],y:n[r+1]}),r+=2}return i},On:function(t,n){for(var i=[],r=0,e=0;e<t.length;e++){var s=t[e].idxs;if("number"==typeof(s=s||t[e])){for(var o=[];r<s;)o.push({x:n[r],y:n[r+1]}),r+=2;i.push(o)}else for(var u=0;u<s.length;u++){for(var h=s[u],f=[];r<h;)f.push({x:n[r],y:n[r+1]}),r+=2;i.push(f)}}return i},jn:function(t,n){for(var i=[],r=[],e=0,s=0;s<t.length;s++){var o=t[s].idxs;if("number"==typeof(o=o||t[s]))for(;e<o;)i.push({x:n[e],y:n[e+1]}),e+=2;else for(var u=0;u<o.length;u++)if(0===u)for(var h=o[u];e<h;)i.push({x:n[e],y:n[e+1]}),e+=2;else{for(var f=[],a=o[u];e<a;)f.push({x:n[e],y:n[e+1]}),e+=2;r.push(f)}}var c=[];return c.push(i),c.push.apply(c,r),c},En:function(t){for(var n=[],i=t.length,r=0;r<i;r++){for(var e=t[r],s={x:this.Tn(e.x),y:this.Tn(e.y)},o=n.length,u=!1,h=0;h<o;h++){var f=n[h];if(f.x==s.x&&f.y==s.y){u=!0;break}}u||n.push(s)}return n},Tn:function(t){return+t.toFixed(2)}});var An=new r;var Sn=Sn||{};Sn.G1="MULTIPOLYGON(((",Sn.G2="POINT(",Sn.G3="MULTILINESTRING((",Sn.GLEN1="MULTIPOLYGON(((".length,Sn.GLEN2="POINT(".length,Sn.GLEN3="MULTILINESTRING((".length;f=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)};Object.assign(f.prototype,{xn:function(t){var n=[];if(0!=t.indexOf(Sn.G2))return[];t=t.substring(Sn.GLEN2,t.length-1).split(" ");return n.push({x:parseFloat(t[0]),y:parseFloat(t[1])}),n},On:function(t){if(0!=t.indexOf(Sn.G3))return[];for(var n=t.substring(Sn.GLEN3,t.length-2).split(","),i=[],r=0;r<n.length;r++){var e=n[r].split(" ");i.push({x:parseFloat(e[0]),y:parseFloat(e[1])})}return[i]},jn:function(t){var n=[],i=[];if(0!=t.indexOf(Sn.G1))return[];for(var r=t.substring(Sn.GLEN1,t.length-3).split(/\),\(/),e=0;e<r.length;e++){var s=r[e].split(/,/);if(0==e)for(var o=0;o<s.length;o++){var u=s[o].split(" ");n.push({x:parseFloat(u[0]),y:parseFloat(u[1])})}else{for(var h=[],f=0;f<s.length;f++){var a=s[f].split(" ");h.push({x:parseFloat(a[0]),y:parseFloat(a[1])})}i.push(h)}}t=[];return t.push(n),t.push.apply(t,i),t},En:function(t){for(var n=[],i=t.length,r=0;r<i;r++){for(var e=t[r],s={x:this.Tn(e.x),y:this.Tn(e.y)},o=n.length,u=!1,h=0;h<o;h++){var f=n[h];if(f.x==s.x&&f.y==s.y){u=!0;break}}u||n.push(s)}return n},Tn:function(t){return+t.toFixed(2)}});var Nn=new f,x={STOP:0,PASS:1,PUSH:2};Object.freeze(x);var In=x;function Ln(t,n){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,n){if(t){if("string"==typeof t)return Dn(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(i="Object"===i&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Dn(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){i&&(t=i);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,e=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw e}}}}function Dn(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=new Array(n);i<n;i++)r[i]=t[i];return r}function Pn(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}r=function(){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),this.Zt=B.GROUP,this.Mn=new Map,this.kn=-1,this.Rn=null,this.Dt=null,Object.assign(this,t)}var t,i,r;return t=n,(i=[{key:"getType",value:function(){return this.Zt}},{key:"getCoordinates",value:function(){return this.Rn}},{key:"getBound",value:function(){return this.Dt||this.An(),this.Dt}},{key:"getChildren",value:function(){return this.Mn}}])&&Pn(t.prototype,i),r&&Pn(t,r),n}();Object.assign(r.prototype,{yn:function(){var t,n=Ln(this.Mn.values());try{for(n.s();!(t=n.n()).done;){var i=t.value;i.yn&&i.yn()}}catch(t){n.e(t)}finally{n.f()}this.Mn.clear()},Sn:function(n){var t=n.Nn(this);t==In.PASS?this.Mn.forEach(function(t){t.Sn(n)}):t==In.PUSH&&n.In.push(this)},An:function(){var n=this;this.Dt=new dt,0!=this.Mn.size&&this.Mn.forEach(function(t){n.Dt.At(t.getBound())})}});var Fn=r;function Cn(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}f=function(){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),this.kn=t.eid,this.Zt=B.POINT,this.Rn=null,this.Dt=null,Object.assign(this,t)}var t,i,r;return t=n,(i=[{key:"getType",value:function(){return this.Zt}},{key:"getCoordinates",value:function(){return this.Rn}},{key:"getBound",value:function(){return this.Dt||this.An(),this.Dt}}])&&Cn(t.prototype,i),r&&Cn(t,r),n}();Object.assign(f.prototype,{An:function(){this.Dt=new dt,this.Rn&&this.Dt.St(this.Rn)},Sn:function(t){t.Nn(this)==In.PUSH&&t.In.push(this)}});var Un=f;function Bn(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}x=function(){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),this.kn=t.eid,this.Zt=B.POLYGON,this.Nt=null,this.Rn=null,this.Dt=null,Object.assign(this,t)}var t,i,r;return t=n,(i=[{key:"getType",value:function(){return this.Zt}},{key:"getCenter",value:function(){return this.Nt}},{key:"getCoordinates",value:function(){return this.Rn}},{key:"getBound",value:function(){return this.Dt||this.An(),this.Dt}}])&&Bn(t.prototype,i),r&&Bn(t,r),n}();Object.assign(x.prototype,{An:function(){var n=this;this.Dt=new dt,this.Rn&&this.Rn.forEach(function(t){n.Dt.St(t)})},Sn:function(t){t.Nn(this)==In.PUSH&&t.In.push(this)}});var Gn=x,Zn=["layerGroups"],Wn=["layers"];function Vn(t,n){if(null==t)return{};var i,r=function(t,n){if(null==t)return{};var i,r,e={},s=Object.keys(t);for(r=0;r<s.length;r++)i=s[r],0<=n.indexOf(i)||(e[i]=t[i]);return e}(t,n);if(Object.getOwnPropertySymbols)for(var e=Object.getOwnPropertySymbols(t),s=0;s<e.length;s++)i=e[s],0<=n.indexOf(i)||Object.prototype.propertyIsEnumerable.call(t,i)&&(r[i]=t[i]);return r}r=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.Ln=[1,2,3,4],this.Dn=[6,7,9],this.Pn=[31,32],this.Fn=new Map,this.Fn.set(31,B.EXTENTGROUP),this.Fn.set(32,B.MODELGROUP),this.Fn.set(6,B.FACILITYGROUP),this.Fn.set(7,B.LABELGROUP),this.Fn.set(9,B.EXTERNALMODELGROUP),this.Cn=new Map,this.Cn.set(31,["extentLayer",null]),this.Cn.set(32,["modelLayer","labelLayer"]),this.Cn.set(6,["poiLayer",null]),this.Cn.set(7,["labelLayer",null]),this.Cn.set(9,["externalModelLayer",null]),this.un=new tn};Object.assign(r.prototype,{Un:function(t){if(!t.buffers||0===t.buffers.length)return null;var n=this.un.$t(t);return this.Bn(n,t)},Bn:function(i,r){var e=this,t=i.layerGroups,n=Vn(i,Zn),s=new Fn(n);return t.forEach(function(t){var n=e.Gn(t,r,i.fileVer);s.Mn.set(t.gid,n)}),s},Gn:function(t,n,i){var r=this,e=t.layers,s=Vn(t,Wn),o=new Fn(s),u=n?this.un.Kt(n,t.gid):null,h=n?this.un.nn(n,t.gid):null;return e.forEach(function(t){6==t.ltype&&-1!=t.lname.indexOf("storelabel")&&(t.ltype=7);var n=r.Zn(t,u,h,i);null!=n&&o.Mn.set(r.Fn.get(t.ltype),n)}),this.Wn(o),o},Wn:function(t){var n=Array.from(t.Mn);n.sort(function(t,n){return t[0]-n[0]}),t.Mn=new Map(n)},Zn:function(t,n,i,r){if(-1!=this.Ln.indexOf(t.ltype))return null;if(!this.Cn.get(t.ltype))return null;var e=new Fn(t);return this.Vn(e,n,i,r),e&&(e.Zt=this.Fn.get(t.ltype)),e},Vn:function(t,n,i,r){if(t){var e=this.Cn.get(t.ltype);if(e){var s=n?n[e[0]]:[],o=i?i[e[0]]:[];switch(t.ltype){case 6:this.Yn(t,s,o,r,B.FACILITY);break;case 7:this.Yn(t,s,o,r,B.LABEL);break;case 9:this.Yn(t,s,o,r,B.EXTERNALMODEL);break;case 31:this.qn(t,s,o,r,B.EXTENT,null);break;case 32:this.qn(t,s,o,r,B.MODEL,n?n[e[1]]:null)}}}},Yn:function(t,n,i,r,e){for(var s=0;s<n.length;s++){var o=this.zn(n[s],i[s],r);o.Zt=e,t.Mn.set(n[s].eid,o)}},zn:function(t,n,i){n=Object.assign({},n,{area:t.area,eid:t.eid,height:t.height}),n=new Un(n);return t.coordinates?n.Rn=t.coordinates:(n.Rn=1==i?Nn.xn(t.geo):An.xn(t.idxs,t.pts),t.coordinates=n.Rn),n},qn:function(t,n,i,r,e,s){for(var o=0;o<n.length;o++){var u=this.Xn(n[o],i[o],r,s?s[o]:null);u.Zt=e,t.Mn.set(n[o].eid,u)}},Xn:function(t,n,i,r){n=Object.assign({},n,{area:t.area,eid:t.eid,height:t.height}),n=new Gn(n);return n.Rn=1==i?Nn.jn(t.geo):An.jn(t.idxs,t.pts),r&&(r.coordinates||(r.coordinates=1==i?Nn.xn(r.geo):An.xn(r.idxs,r.pts)),n.Nt=r.coordinates[0]),n}});var Yn=r;function qn(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}f=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.Hn=new Map,this.Qn=new Map,this.Yt=new Map,this.$n=new Map,this.Jn=new Map,this.Kn=new Map,this.ti=[2,3],this.ni=!1,this.un=new tn,this.ii=new Yn,this.ri=new Rn}var n,i,r;return n=t,(i=[{key:"load",value:function(t,n){this.ei(t,n)}},{key:"loadWhole",value:function(t,n){this.si(t,n)}},{key:"getDecode",value:function(t){t=void 0!==t.buildingID?t.buildingID:t.mapID;return this.oi({buildingID:t})}},{key:"getData",value:function(t){t=void 0!==t.buildingID?t.buildingID:t.mapID;return this.Hn.get(t)}},{key:"setCache",value:function(t){this.Hn=t[0],this.Qn=t[1]}},{key:"getCache",value:function(){return[this.Hn,this.Qn]}}])&&qn(n.prototype,i),r&&qn(n,r),t}();Object.assign(f.prototype,{yn:function(){this.Hn.clear(),this.Hn=null,this.Qn.clear(),this.Qn=null,this.Yt.clear(),this.Yt=null,this.$n.clear(),this.$n=null,this.Jn.clear(),this.Jn=null,this.Kn.clear(),this.Kn=null},ui:function(t){this.$n.set(t.buildingID,null),this.Jn.set(t.buildingID,null),this.Kn.set(t.buildingID,0)},ei:function(u,h){var f=this;this.ui(u),this.wn(u,function(t,n){h&&h(t,n);var i=f.fi(u),r=u.level||parseInt(i.defGid);f.ai(u,r,h);for(var e=u.visibleLevels||i.levels,s=0;s<e.length;s++)e[s]!=r&&f.ai(u,e[s],h);if(u.preLoad)for(var o=0;o<i.levels.length;o++)i.levels[o]!=r&&-1==e.indexOf(i.levels[o])&&f.ai(u,i.levels[o],h)},function(t,n){h&&h(t,n)})},wn:function(n,i,r){var e=this,t=this.fi(n);t?(i&&i("scene",t),n.justDecode||(t=this.Hn.get(n.buildingID),i&&i("building",t))):this.ri.wn(n,function(t){e.Qn.set(n.buildingID,{scene:t}),i&&i("scene",t),n.justDecode||(t=e.ii.Bn(t),e.Hn.set(n.buildingID,t),i&&i("building",t))},function(t){r&&r("error",t)})},ai:function(t,n,i,r){var e=this.$n.get(t.buildingID);e||this.$n.set(t.buildingID,e=[]),r?e.unshift(n):e.push(n),this.ni&&1!=e.length||this.ci(t,i)},ci:function(r,e){var s=this,o=this.fi(r);if(o){var u=this.$n.get(r.buildingID),t=this.Jn.get(r.buildingID);if(u&&0!=u.length){var h=u[0];if(t||this.Jn.set(r.buildingID,t=[]),-1!=t.indexOf(h))return u.splice(u.indexOf(h),1),void this.ci(r,e);t.push(h),this.li(r,h,function(t,n){var i=s.Kn.get(r.buildingID);"layerGroup"==t&&(e&&e(t,n),s.Kn.set(r.buildingID,++i),i==o.layerGroups.length&&e&&e("decode",s.oi(r)),u.splice(u.indexOf(h),1),s.ci(r,e)),"layer"==t&&e&&e(t,n),"floor"==t&&(e&&e(t,n),i==o.layerGroups.length&&e&&e("complete",s.vi(r)))},function(t,n){e&&e(t,n)})}}},li:function(e,s,o,n){function i(n){var i,r,t;h==++f&&(i=a.get("geo"),r=a.get("biz"),c&&c.merge(s,i,r,u.fileVer),o&&o("layerGroup",a),e.justDecode||((t=n.di(e,s)).Mn.forEach(function(t){n.ii.Vn(t,i,r,u.fileVer),o&&o("layer",t)}),o&&o("floor",t)))}var r=this,u=this.fi(e),t=this.yi(u,s).gname,h=e.loadNavi?this.ti[1]:this.ti[0],f=0,a=new Map,c=e.merge;this._n(e,s,t,function(t,n){a.set(t,n),o&&o(t,n),i(r)},function(t){n&&n(t)}),this.mn(e,s,t,function(t,n){a.set(t,n),o&&o(t,n),i(r)},function(t){n&&n(t)}),e.loadNavi&&this.gn(e,s,t,function(t,n){a.set(t,n),o&&o(t,n),i(r)},function(t){n&&n(t)})},_n:function(n,i,t,r,e){var s=this,o=this.bi(n,i,"geo");o?r&&r("geo",o):this.ri._n(n,t,function(t){s.pi(n,i,"geo",t),r&&r("geo",t)},function(t){e&&e("error",t)})},mn:function(n,i,t,r,e){var s=this,o=this.bi(n,i,"biz");o?r&&r("biz",o):this.ri.mn(n,t,function(t){s.pi(n,i,"biz",t),r&&r("biz",t)},function(t){e&&e("error",t)})},gn:function(n,i,t,r,e){var s=this,o=this.bi(n,i,"navi");o?r&&r("navi",o):this.ri.gn(n,t,function(t){s.pi(n,i,"navi",t),r&&r("navi",t)},function(t){e&&e("error",t)})},si:function(t,i){this.pn(t,function(t,n){i&&i(t,n)},function(t,n){i&&i(t,n)})},pn:function(n,i,r){var e=this,t=this.oi(n);t?i&&i("decode",t):this.ri.pn(n,function(t){e.wi(n,t),i&&i("decode",e.oi(n)),n.justDecode||(t=e.ii.Un(t),e.Hn.set(n.buildingID,t),i&&i("complete",t))},function(t){r&&r("error",t)})},vi:function(t){if(this.Hn){t=this.Hn.get(t.buildingID);return t||null}},di:function(t,n){t=this.Hn.get(t.buildingID);return t?t.Mn.get(n):null},wi:function(t,n){var i={scene:null,floors:new Map},r=this.un.$t(n);i.scene=r;for(var e=0;e<r.layerGroups.length;e++){var s=r.layerGroups[e],o=this.un.Kt(n,s.gid),u=this.un.nn(n,s.gid),h=this.un.rn(n,s.gid);t.merge&&t.merge(s.gid,o,u,r.fileVer);var f=new Map;f.set("geo",o),f.set("biz",u),f.set("navi",h),i.floors.set(s.gid,f)}this.Qn.set(t.buildingID,i)},oi:function(t){var n=this.Qn.get(t.buildingID);if(!n)return null;for(var i=n.scene,r=new Map,n={scene:i,floors:r},e=0;e<i.layerGroups.length;e++){var s=i.layerGroups[e],o=s.gid,u={gid:o,gname:s.gname,level:o,geo:[],biz:[],navi:[]};u.geo.push(this.bi(t,o,"geo")),u.biz.push(this.bi(t,o,"biz")),u.navi.push(this.bi(t,o,"navi")),r.set(s.gid,u)}return n},fi:function(t){t=this.Qn.get(t.buildingID);return t?t.scene:null},pi:function(t,n,i,r){var e=this.Qn.get(t.buildingID);e&&((t=e.floors)||(t=new Map,e.floors=t),(e=t.get(n))||(e=new Map,t.set(n,e)),e.set(i,r))},bi:function(t,n,i){t=this.Qn.get(t.buildingID);if(!t)return null;t=t.floors;if(!t)return null;n=t.get(n);return n?n.get(i):null},yi:function(t,n){if(null==t)return null;for(var i=t.layerGroups,r=0;r<i.length;r++)if(i[r].gid==n)return i[r];return null}});var zn=f;function Xn(t,n){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,n){if(t){if("string"==typeof t)return Hn(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(i="Object"===i&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Hn(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){i&&(t=i);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,e=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw e}}}}function Hn(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=new Array(n);i<n;i++)r[i]=t[i];return r}function Qn(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}x=function(){function r(t,n,i){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r),this.Yt=Object.assign({tile:!0,isPreview:!1},t),this._i=!!t.map,this.mi=t.map?t.map.getDataManager():new zn,this.gi=n,this.xi=i,this.Oi()}var t,n,i;return t=r,(n=[{key:"dispose",value:function(){this.Yt=null,this._i||this.mi.yn(),this.mi=null,this.gi=null,this.xi=null}},{key:"query",value:function(t,n,i){var r=this.mi.getData(this.Yt);r||i&&i();var e=this.ji(t),s=this.Ei(t);s==B.NONE&&i&&i();var o,u=t.Vt,h=u.length,f=[],a=Xn(r.getChildren());try{for(a.s();!(o=a.n()).done;){var c=o.value,l=c[0];if(-1!=e.indexOf(l)){var v,d=Xn(c[1].getChildren());try{for(d.s();!(v=d.n()).done;){var y=v.value[1];if(0!=(y.getType()&s)){var b,p=Xn(y.getChildren());try{for(p.s();!(b=p.n()).done;){var w=b.value[1],_={ft:void 0};this.Ti(u,h,w,_)&&f.push(this.Mi(l,w,_))}}catch(t){p.e(t)}finally{p.f()}}}}catch(t){d.e(t)}finally{d.f()}}}}catch(t){a.e(t)}finally{a.f()}this.ki(f),n&&n(f)}}])&&Qn(t.prototype,n),i&&Qn(t,i),r}();Object.assign(x.prototype,{Oi:function(){var t,i=this;this._i&&(t=this.Yt.map.getMapOptions(),this.Yt.mapID=t.mapID,this.Yt.appName=t.appName,this.Yt.key=t.key,this.Yt.license=t.license,this.Yt.mapURL=t.mapURL,this.Yt.mapURLAbsolute=t.mapURLAbsolute,this.Yt.isPreview="undefined"!=typeof KjWzhWlSj);var n={buildingID:this.Yt.mapID,appName:this.Yt.appName,key:this.Yt.key,license:this.Yt.license,mapURL:this.Yt.mapURL,mapURLAbsolute:this.Yt.mapURLAbsolute,merge:this.Yt.merge,preLoad:!0,isPreview:"undefined"!=typeof KjWzhWlSj};setTimeout(function(){i.Yt.tile?i.mi.load(n,function(t,n){i.Ri(t,n)}):i.mi.loadWhole(n,function(t,n){i.Ri(t,n)})},0)},Ri:function(t,n){"error"==t&&this.xi&&this.xi(n),"complete"==t&&this.gi&&this.gi()},Ei:function(t){var n=B.NONE;return 0!=(t.Zt&B.MODEL)&&(n|=B.MODELGROUP),0!=(t.Zt&B.LABEL)&&(n|=B.LABELGROUP),0!=(t.Zt&B.FACILITY)&&(n|=B.FACILITYGROUP),0!=(t.Zt&B.EXTERNALMODEL)&&(n|=B.EXTERNALMODELGROUP),n},ji:function(t){if(Array.isArray(t.Gt))return t.Gt;t=this.mi.getData(this.Yt);if(!t)return[];var n,i=[],r=Xn(t.getChildren());try{for(r.s();!(n=r.n()).done;){var e=n.value;i.push(e[1].gid)}}catch(t){r.e(t)}finally{r.f()}return i},Ti:function(t,n,i,r){if(0==n)return!0;for(var e=0;e<n;e++){if(!t[e].W(i))return!1;t[e].V(i,r)}return!0},Mi:function(t,n,i){return{level:t,type:n.getType(),FID:n.fid,name:n.name,ename:n.ename,eid:n.eid,typeID:n.type,center:void 0!==n.getCenter?Object.assign({z:n.height},n.getCenter()):Object.assign({z:n.height},n.getCoordinates()[0]),distance:i.ft}},ki:function(t){t.sort(function(t,n){return t.level==n.level&&t.type==n.type&&t.distance&&n.distance?t.distance-n.distance:0})}});r=x;function $n(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}f=function(){function e(t,n,i,r){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.Ai=t,this.Si=n,this.Ni=i||[],this.Ii=r||[]}var t,n,i;return t=e,(n=[{key:"level",get:function(){return this.Ai}},{key:"length",get:function(){return this.Si}},{key:"pointList",get:function(){for(var t=[],n=0,i=this.Ni.length;n<i;n++)t.push({x:this.Ni[n].x,y:this.Ni[n].y,level:this.Ai});return t}}])&&$n(t.prototype,n),i&&$n(t,i),e}();Object.assign(f.prototype,{yn:function(){this.Ni=[],this.Ii=[]}});for(var Jn=f,Kn=[],ti=0;ti<256;ti++)Kn[ti]=(ti<16?"0":"")+ti.toString(16);var ni=1234567,ii={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Kn[255&t]+Kn[t>>8&255]+Kn[t>>16&255]+Kn[t>>24&255]+"-"+Kn[255&n]+Kn[n>>8&255]+"-"+Kn[n>>16&15|64]+Kn[n>>24&255]+"-"+Kn[63&i|128]+Kn[i>>8&255]+"-"+Kn[i>>16&255]+Kn[i>>24&255]+Kn[255&r]+Kn[r>>8&255]+Kn[r>>16&255]+Kn[r>>24&255]).toUpperCase()},clamp:function(t,n,i){return Math.max(n,Math.min(i,t))},euclideanModulo:function(t,n){return(t%n+n)%n},mapLinear:function(t,n,i,r,e){return r+(t-n)*(e-r)/(i-n)},lerp:function(t,n,i){return(1-i)*t+i*n},smoothstep:function(t,n,i){return t<=n?0:i<=t?1:(t=(t-n)/(i-n))*t*(3-2*t)},smootherstep:function(t,n,i){return t<=n?0:i<=t?1:(t=(t-n)/(i-n))*t*t*(t*(6*t-15)+10)},randInt:function(t,n){return t+Math.floor(Math.random()*(n-t+1))},randFloat:function(t,n){return t+Math.random()*(n-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){return((ni=16807*(ni=void 0!==t?t%2147483647:ni)%2147483647)-1)/2147483646},degToRad:function(t){return t*ii.DEG2RAD},radToDeg:function(t){return t*ii.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,n,i,r,e){var s=Math.cos,o=Math.sin,u=s(i/2),h=o(i/2),f=s((n+r)/2),a=o((n+r)/2),c=s((n-r)/2),l=o((n-r)/2),v=s((r-n)/2),d=o((r-n)/2);switch(e){case"XYX":t.set(u*a,h*c,h*l,u*f);break;case"YZY":t.set(h*l,u*a,h*c,u*f);break;case"ZXZ":t.set(h*c,h*l,u*a,u*f);break;case"XZX":t.set(u*a,h*d,h*v,u*f);break;case"YXY":t.set(h*v,u*a,h*d,u*f);break;case"ZYZ":t.set(h*d,h*v,u*a,u*f);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+e)}}};function ri(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}x=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"isQuaternion",{value:!0}),this.Li=t,this.Di=n,this.Pi=i,this.Fi=r}var t,n,i;return t=e,i=[{key:"slerp",value:function(t,n,i,r){return i.copy(t).slerp(n,r)}},{key:"slerpFlat",value:function(t,n,i,r,e,s,o){var u=i[r+0],h=i[r+1],f=i[r+2],a=i[r+3],c=e[s+0],l=e[s+1],v=e[s+2],d=e[s+3];a===d&&u===c&&h===l&&f===v||(i=1-o,e=0<=(r=u*c+h*l+f*v+a*d)?1:-1,(s=1-r*r)>Number.EPSILON&&(s=Math.sqrt(s),r=Math.atan2(s,r*e),i=Math.sin(i*r)/s,o=Math.sin(o*r)/s),u=u*i+c*(e=o*e),h=h*i+l*e,f=f*i+v*e,a=a*i+d*e,i===1-o&&(u*=o=1/Math.sqrt(u*u+h*h+f*f+a*a),h*=o,f*=o,a*=o)),t[n]=u,t[n+1]=h,t[n+2]=f,t[n+3]=a}},{key:"multiplyQuaternionsFlat",value:function(t,n,i,r,e,s){var o=i[r],u=i[r+1],h=i[r+2],f=i[r+3],a=e[s],i=e[s+1],r=e[s+2],s=e[s+3];return t[n]=o*s+f*a+u*r-h*i,t[n+1]=u*s+f*i+h*a-o*r,t[n+2]=h*s+f*r+o*i-u*a,t[n+3]=f*s-o*a-u*i-h*r,t}}],(n=[{key:"x",get:function(){return this.Li},set:function(t){this.Li=t,this.Ci()}},{key:"y",get:function(){return this.Di},set:function(t){this.Di=t,this.Ci()}},{key:"z",get:function(){return this.Pi},set:function(t){this.Pi=t,this.Ci()}},{key:"w",get:function(){return this.Fi},set:function(t){this.Fi=t,this.Ci()}},{key:"set",value:function(t,n,i,r){return this.Li=t,this.Di=n,this.Pi=i,this.Fi=r,this.Ci(),this}},{key:"clone",value:function(){return new this.constructor(this.Li,this.Di,this.Pi,this.Fi)}},{key:"copy",value:function(t){return this.Li=t.x,this.Di=t.y,this.Pi=t.z,this.Fi=t.w,this.Ci(),this}},{key:"setFromEuler",value:function(t,n){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var i=t.Li,r=t.Di,e=t.Pi,s=t.Ui,o=Math.cos,t=Math.sin,u=o(i/2),h=o(r/2),f=o(e/2),a=t(i/2),c=t(r/2),l=t(e/2);switch(s){case"XYZ":this.Li=a*h*f+u*c*l,this.Di=u*c*f-a*h*l,this.Pi=u*h*l+a*c*f,this.Fi=u*h*f-a*c*l;break;case"YXZ":this.Li=a*h*f+u*c*l,this.Di=u*c*f-a*h*l,this.Pi=u*h*l-a*c*f,this.Fi=u*h*f+a*c*l;break;case"ZXY":this.Li=a*h*f-u*c*l,this.Di=u*c*f+a*h*l,this.Pi=u*h*l+a*c*f,this.Fi=u*h*f-a*c*l;break;case"ZYX":this.Li=a*h*f-u*c*l,this.Di=u*c*f+a*h*l,this.Pi=u*h*l-a*c*f,this.Fi=u*h*f+a*c*l;break;case"YZX":this.Li=a*h*f+u*c*l,this.Di=u*c*f+a*h*l,this.Pi=u*h*l-a*c*f,this.Fi=u*h*f-a*c*l;break;case"XZY":this.Li=a*h*f-u*c*l,this.Di=u*c*f-a*h*l,this.Pi=u*h*l+a*c*f,this.Fi=u*h*f+a*c*l;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return!1!==n&&this.Ci(),this}},{key:"setFromAxisAngle",value:function(t,n){var i=n/2,n=Math.sin(i);return this.Li=t.x*n,this.Di=t.y*n,this.Pi=t.z*n,this.Fi=Math.cos(i),this.Ci(),this}},{key:"setFromRotationMatrix",value:function(t){var n,i=t.elements,r=i[0],e=i[4],s=i[8],o=i[1],u=i[5],h=i[9],f=i[2],a=i[6],t=i[10],i=r+u+t;return 0<i?(i=.5/Math.sqrt(i+1),this.Fi=.25/i,this.Li=(a-h)*i,this.Di=(s-f)*i,this.Pi=(o-e)*i):u<r&&t<r?(n=2*Math.sqrt(1+r-u-t),this.Fi=(a-h)/n,this.Li=.25*n,this.Di=(e+o)/n,this.Pi=(s+f)/n):t<u?(n=2*Math.sqrt(1+u-r-t),this.Fi=(s-f)/n,this.Li=(e+o)/n,this.Di=.25*n,this.Pi=(h+a)/n):(u=2*Math.sqrt(1+t-r-u),this.Fi=(o-e)/u,this.Li=(s+f)/u,this.Di=(h+a)/u,this.Pi=.25*u),this.Ci(),this}},{key:"setFromUnitVectors",value:function(t,n){var i=t.dot(n)+1;return i<1e-6?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this.Li=-t.y,this.Di=t.x,this.Pi=0):(this.Li=0,this.Di=-t.z,this.Pi=t.y)):(this.Li=t.y*n.z-t.z*n.y,this.Di=t.z*n.x-t.x*n.z,this.Pi=t.x*n.y-t.y*n.x),this.Fi=i,this.normalize()}},{key:"angleTo",value:function(t){return 2*Math.acos(Math.abs(ii.clamp(this.dot(t),-1,1)))}},{key:"rotateTowards",value:function(t,n){var i=this.angleTo(t);if(0===i)return this;i=Math.min(1,n/i);return this.slerp(t,i),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this.Li*=-1,this.Di*=-1,this.Pi*=-1,this.Ci(),this}},{key:"dot",value:function(t){return this.Li*t.Li+this.Di*t.Di+this.Pi*t.Pi+this.Fi*t.Fi}},{key:"lengthSq",value:function(){return this.Li*this.Li+this.Di*this.Di+this.Pi*this.Pi+this.Fi*this.Fi}},{key:"length",value:function(){return Math.sqrt(this.Li*this.Li+this.Di*this.Di+this.Pi*this.Pi+this.Fi*this.Fi)}},{key:"normalize",value:function(){var t=this.length();return 0===t?(this.Li=0,this.Di=0,this.Pi=0,this.Fi=1):(this.Li=this.Li*(t=1/t),this.Di=this.Di*t,this.Pi=this.Pi*t,this.Fi=this.Fi*t),this.Ci(),this}},{key:"multiply",value:function(t,n){return void 0!==n?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,n)):this.multiplyQuaternions(this,t)}},{key:"premultiply",value:function(t){return this.multiplyQuaternions(t,this)}},{key:"multiplyQuaternions",value:function(t,n){var i=t.Li,r=t.Di,e=t.Pi,s=t.Fi,o=n.Li,u=n.Di,t=n.Pi,n=n.Fi;return this.Li=i*n+s*o+r*t-e*u,this.Di=r*n+s*u+e*o-i*t,this.Pi=e*n+s*t+i*u-r*o,this.Fi=s*n-i*o-r*u-e*t,this.Ci(),this}},{key:"slerp",value:function(t,n){if(0===n)return this;if(1===n)return this.copy(t);var i=this.Li,r=this.Di,e=this.Pi,s=this.Fi,o=s*t.Fi+i*t.Li+r*t.Di+e*t.Pi;if(o<0?(this.Fi=-t.Fi,this.Li=-t.Li,this.Di=-t.Di,this.Pi=-t.Pi,o=-o):this.copy(t),1<=o)return this.Fi=s,this.Li=i,this.Di=r,this.Pi=e,this;t=1-o*o;if(t<=Number.EPSILON){var u=1-n;return this.Fi=u*s+n*this.Fi,this.Li=u*i+n*this.Li,this.Di=u*r+n*this.Di,this.Pi=u*e+n*this.Pi,this.normalize(),this.Ci(),this}u=Math.sqrt(t),t=Math.atan2(u,o),o=Math.sin((1-n)*t)/u,u=Math.sin(n*t)/u;return this.Fi=s*o+this.Fi*u,this.Li=i*o+this.Li*u,this.Di=r*o+this.Di*u,this.Pi=e*o+this.Pi*u,this.Ci(),this}},{key:"equals",value:function(t){return t.Li===this.Li&&t.Di===this.Di&&t.Pi===this.Pi&&t.Fi===this.Fi}},{key:"fromArray",value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.Li=t[n],this.Di=t[n+1],this.Pi=t[n+2],this.Fi=t[n+3],this.Ci(),this}},{key:"toArray",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return t[n]=this.Li,t[n+1]=this.Di,t[n+2]=this.Pi,t[n+3]=this.Fi,t}},{key:"fromBufferAttribute",value:function(t,n){return this.Li=t.getX(n),this.Di=t.getY(n),this.Pi=t.getZ(n),this.Fi=t.getW(n),this}}])&&ri(t.prototype,n),i&&ri(t,i),e}();function ei(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.assign(x.prototype,{Bi:function(t){return this.Ci=t,this},Ci:function(){}});var si=function(){function r(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r),Object.defineProperty(this,"isVector3",{value:!0}),this.x=t,this.y=n,this.z=i}var t,n,i;return t=r,(n=[{key:"set",value:function(t,n,i){return void 0===i&&(i=this.z),this.x=t,this.y=n,this.z=i,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this.z=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setZ",value:function(t){return this.z=t,this}},{key:"setComponent",value:function(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}},{key:"add",value:function(t,n){return void 0!==n?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,n)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this.z+=t,this}},{key:"addVectors",value:function(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this}},{key:"addScaledVector",value:function(t,n){return this.x+=t.x*n,this.y+=t.y*n,this.z+=t.z*n,this}},{key:"sub",value:function(t,n){return void 0!==n?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,n)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this.z-=t,this}},{key:"subVectors",value:function(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this}},{key:"multiply",value:function(t,n){return void 0!==n?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,n)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this}},{key:"multiplyVectors",value:function(t,n){return this.x=t.x*n.x,this.y=t.y*n.y,this.z=t.z*n.z,this}},{key:"applyEuler",value:function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(ui.setFromEuler(t))}},{key:"applyAxisAngle",value:function(t,n){return this.applyQuaternion(ui.setFromAxisAngle(t,n))}},{key:"applyMatrix3",value:function(t){var n=this.x,i=this.y,r=this.z,t=t.elements;return this.x=t[0]*n+t[3]*i+t[6]*r,this.y=t[1]*n+t[4]*i+t[7]*r,this.z=t[2]*n+t[5]*i+t[8]*r,this}},{key:"applyNormalMatrix",value:function(t){return this.applyMatrix3(t).normalize()}},{key:"applyMatrix4",value:function(t){var n=this.x,i=this.y,r=this.z,e=t.elements,t=1/(e[3]*n+e[7]*i+e[11]*r+e[15]);return this.x=(e[0]*n+e[4]*i+e[8]*r+e[12])*t,this.y=(e[1]*n+e[5]*i+e[9]*r+e[13])*t,this.z=(e[2]*n+e[6]*i+e[10]*r+e[14])*t,this}},{key:"applyQuaternion",value:function(t){var n=this.x,i=this.y,r=this.z,e=t.x,s=t.y,o=t.z,u=t.w,h=u*n+s*r-o*i,f=u*i+o*n-e*r,t=u*r+e*i-s*n,r=-e*n-s*i-o*r;return this.x=h*u+r*-e+f*-o-t*-s,this.y=f*u+r*-s+t*-e-h*-o,this.z=t*u+r*-o+h*-s-f*-e,this}},{key:"project",value:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}},{key:"unproject",value:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}},{key:"transformDirection",value:function(t){var n=this.x,i=this.y,r=this.z,t=t.elements;return this.x=t[0]*n+t[4]*i+t[8]*r,this.y=t[1]*n+t[5]*i+t[9]*r,this.z=t[2]*n+t[6]*i+t[10]*r,this.normalize()}},{key:"divide",value:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}},{key:"clamp",value:function(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this.z=Math.max(t.z,Math.min(n.z,this.z)),this}},{key:"clampScalar",value:function(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this.z=Math.max(t,Math.min(n,this.z)),this}},{key:"clampLength",value:function(t,n){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(n,i)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this.z+=(t.z-this.z)*n,this}},{key:"lerpVectors",value:function(t,n,i){return this.x=t.x+(n.x-t.x)*i,this.y=t.y+(n.y-t.y)*i,this.z=t.z+(n.z-t.z)*i,this}},{key:"cross",value:function(t,n){return void 0!==n?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,n)):this.crossVectors(this,t)}},{key:"crossVectors",value:function(t,n){var i=t.x,r=t.y,e=t.z,s=n.x,t=n.y,n=n.z;return this.x=r*n-e*t,this.y=e*s-i*n,this.z=i*t-r*s,this}},{key:"projectOnVector",value:function(t){var n=t.lengthSq();if(0===n)return this.set(0,0,0);n=t.dot(this)/n;return this.copy(t).multiplyScalar(n)}},{key:"projectOnPlane",value:function(t){return oi.copy(this).projectOnVector(t),this.sub(oi)}},{key:"reflect",value:function(t){return this.sub(oi.copy(t).multiplyScalar(2*this.dot(t)))}},{key:"angleTo",value:function(t){var n=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===n)return Math.PI/2;n=this.dot(t)/n;return Math.acos(ii.clamp(n,-1,1))}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var n=this.x-t.x,i=this.y-t.y,t=this.z-t.z;return n*n+i*i+t*t}},{key:"manhattanDistanceTo",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}},{key:"setFromSpherical",value:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}},{key:"setFromSphericalCoords",value:function(t,n,i){var r=Math.sin(n)*t;return this.x=r*Math.sin(i),this.y=Math.cos(n)*t,this.z=r*Math.cos(i),this}},{key:"setFromCylindrical",value:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}},{key:"setFromCylindricalCoords",value:function(t,n,i){return this.x=t*Math.sin(n),this.y=i,this.z=t*Math.cos(n),this}},{key:"setFromMatrixPosition",value:function(t){t=t.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(t){var n=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),t=this.setFromMatrixColumn(t,2).length();return this.x=n,this.y=i,this.z=t,this}},{key:"setFromMatrixColumn",value:function(t,n){return this.fromArray(t.elements,4*n)}},{key:"setFromMatrix3Column",value:function(t,n){return this.fromArray(t.elements,3*n)}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}},{key:"fromArray",value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[n],this.y=t[n+1],this.z=t[n+2],this}},{key:"toArray",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return t[n]=this.x,t[n+1]=this.y,t[n+2]=this.z,t}},{key:"fromBufferAttribute",value:function(t,n,i){return void 0!==i&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(n),this.y=t.getY(n),this.z=t.getZ(n),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}])&&ei(t.prototype,n),i&&ei(t,i),r}(),oi=new si,ui=new x,hi={NaviNodeType_NULL:-1,NaviNodeType_COMMON:0,NaviNodeType_SIDE:1,NaviNodeType_FLOOR:2,NaviNodeType_EXTENT:3,NaviLiftType_NULL:0,NaviLiftType_Lift:1,NaviLiftType_Stair:2,NaviLiftType_Escalator:3,NaviLiftType_Accessible:4,NaviLiftEntry_BOTH:0,NaviLiftEntry_UP:1,NaviLiftEntry_DOWN:2,NaviLiftEntry_FORBID:3,NaviEntranceType_NULL:0,NaviEntranceType_EXIT:1,NaviEntranceType_ENTRANCE:2,NaviEntranceType_ACCESS:3,NaviRoadRank_MAIN:1,NaviRoadRank_MINOR:2,NaviRoadRank_NARROW:3,NaviRoadEntry_BOTH:0,NaviRoadEntry_FORWARD:1,NaviRoadEntry_BACK:2,NaviRoadEntry_FORBID:3,NaviRoadPass_NULL:-1,NaviRoadPass_NOT_THROUGH:0,NaviRoadPass_THROUGH:1,NaviZoneType_NULL:-1,NaviZoneType_PASS_UNRESTRAINT:0,NaviZoneType_PASS_THROUGH:1,NaviZoneType_PASS_NOT_THROUGH:2,NaviZoneType_NO_ENTRY:3,NaviZoneType_CORRIDOR:4,NaviModelPassType_PASS_THROUGH:0,NaviModelPassType_PASS_NOT_THROUGH:1,NaviModelPassType_NOT_PASS:2,NaviModelPassType_DECORATE:3,NaviRoadHinderType_HINDER_GENERAL:0,NaviRoadHinderType_HINDER_HIGH:1,NaviObstructType_MODEL:0,NaviObstructType_EXTENT:1};f=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.kn=0,this.Bt={},this.Zt=0,this.Gi=[],this.Zi=[],this.Wi=0,this.Vi=[],this.Yi=!1,this.qi=!1,this.zi=0,this.Xi=!1,this.Hi=[]};Object.assign(f.prototype,{set Qi(t){-1!=t&&(this.Zt|=t)},get Qi(){return 3&this.Zt},set $i(t){this.Zt|=t<<2},get $i(){return this.Zt>>2&7},set Ji(t){this.Zt|=t<<5},get Ji(){return this.Zt>>5&3},set Ki(t){this.Zt|=t<<7},get Ki(){return this.Zt>>7&3},set tr(t){this.Zt|=t<<9},get tr(){return this.Zt>>9&3},Oi:function(t){this.kn=t,this.Bt={x:0,y:0},this.Zt=0,this.Wi=0,this.Yi=!1,this.qi=!1},nr:function(t){return this.kn==t.kn},ir:function(t){this.kn=t.kn,this.Bt=Object.assign({},t.Bt),this.Zt=t.Zt,this.Gi=[];for(var n=0;n<t.Gi.length;n++)this.Gi[n]=t.Gi[n];this.Zi=[];for(var i=0;i<t.Zi.length;i++)this.Zi[i]=t.Zi[i];this.Wi=t.Wi,this.Vi=[];for(var r=0;r<t.Vi.length;r++)this.Vi[r]=t.Vi[r];this.Yi=t.Yi,this.qi=t.qi},rr:function(){return this.Gi.length},er:function(){return this.Zi.length},sr:function(t){if(this.$i==hi.NaviLiftType_Stair)return!0;for(var n=this.Gi.length-1;0<=n;n--)if(this.Gi[n]==t)return!0;return!1}});var fi=f;function ai(t){return(ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ci(t,n){return(ci=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function li(i){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,n=vi(i);return function(t,n){{if(n&&("object"===ai(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined")}return function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t)}(this,r?(t=vi(this).constructor,Reflect.construct(n,arguments,t)):n.apply(this,arguments))}}function vi(t){return(vi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var di=function(){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&ci(t,n)}(i,fi);var n=li(i);function i(){var t;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),(t=n.call(this)).or=0,t.Ai=0,t.ur=null,t.zi=0,t.hr=null,t.$i=null,t}return i}();x=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.kn=0,this.fr=-1,this.ar={},this.cr=-1,this.lr={},this.Si=0,this.Zt=0,this.vr=[],this.dr=-1,this.yr=!1,this.br=0};Object.assign(x.prototype,{set pr(t){this.Zt|=t},get pr(){return 3&this.Zt},set wr(t){this.Zt|=t<<2},get wr(){return this.Zt>>2&3},set tr(t){this.Zt|=t<<4},get tr(){return this.Zt>>4&3},set _r(t){t?this.Zt|=16:this.Zt&=-17},get _r(){return 16&this.Zt?1:0},mr:function(t){this.kn=t.kn,this.fr=t.fr,this.ar=Object.assign({},t.ar),this.cr=t.cr,this.lr=Object.assign({},t.lr),this.Si=t.Si,this.Zt=t.Zt,this.vr=[],this.dr=t.dr;for(var n=0;n<t.vr.Si;n++)this.vr[n]=t.vr[n]},gr:function(){this.Si=lt.distanceOfTwoPoints(this.ar,this.lr)},xr:function(){var t=this.ar.x-this.lr.x,n=this.ar.y-this.lr.y;this.Si=Math.abs(t)+Math.abs(n)},Or:function(){var t={};return t.x=(this.ar.x+this.lr.x)/2,t.y=(this.ar.y+this.lr.y)/2,t}});var yi=x;function bi(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}f=function(){function e(t,n,i,r){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.kn=t,this.Ai=n,this.Zt=i,this.jr=r,this.Er=r&&r.length?r.length-1:0,this.Ai=-1,this.Tr=0,this.Mr=null,this.kr=null,this.Rr=[],this.Ar=[],this.Sr=null,this.Dt=new dt,this.Dt.St(this.jr)}var t,n,i;return t=e,(n=[{key:"_pass",get:function(){return 3&this.Zt},set:function(t){this.Zt|=t}},{key:"_area",get:function(){return null==this.Sr&&(this.Sr=lt.yt(this.jr,this.Er)),this.Sr}}])&&bi(t.prototype,n),i&&bi(t,i),e}();Object.assign(f.prototype,{Nr:function(t){return!!lt.et(t,this.Dt.Mt,this.Dt.kt)&&lt.ut(this.jr,t,this.Er)},bt:function(t,n){for(var i={},r=0;r<this.Er;r++){var e=this.jr[r],s=this.jr[(r+1)%this.Er];if(1==lt.bt(e,s,t,n,i))break}return i}});var pi=f;function wi(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}x=function(){function o(t,n,i,r,e,s){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),this.kn=t,this.Ir="",this.jr=r,this.Er=r&&r.length?r.length-1:0,this.Nt=e,this.Lr=s,this.Zt=i,this.Ai=n,this.Dr=[],this.Pr=[],this.Fr=[],this.Mr=null,this.kr=null,this.Rr=[],this.Cr=0,this.Tr=0,this.Sr=null,this.Ur=!1,this.Dt=new dt,this.Dt.St(this.jr)}var t,n,i;return t=o,(n=[{key:"pass",get:function(){return 3&this.Zt},set:function(t){this.Zt|=t}},{key:"area",get:function(){return null==this.Sr&&(this.Sr=lt.yt(this.jr,this.Er)),this.Sr}}])&&wi(t.prototype,n),i&&wi(t,i),o}();Object.assign(x.prototype,{Nr:function(t){return lt.ut(t,this.jr,this.Er)}});var _i=x;function mi(t,n){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,n){if(t){if("string"==typeof t)return gi(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(i="Object"===i&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?gi(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){i&&(t=i);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,e=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw e}}}}function gi(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=new Array(n);i<n;i++)r[i]=t[i];return r}function xi(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Oi=function(){function e(t,n,i,r){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.Ai=0,this.Zt=r,this.Br=t,this.Gr=n,this.Zr=[],this.Wr=[],this.Vr=[],this.Yr=[],this.qr=new Map,this.zr=[],this.Xr=new Map,this.Hr=new Map,this.Qr=i,this.$r=[],this.Jr=new Map,this.Kr=new Map,this.te=0,this.ne=0,this.ie(),this.Oi()}var t,n,i;return t=e,(n=[{key:"queryContainExtentID",value:function(t){return this.re(t)}}])&&xi(t.prototype,n),i&&xi(t,i),e}();Object.assign(Oi.prototype,{yn:function(){this.Br=null,this.Gr=null,this.Zr=null,this.Wr=null,this.Vr=null,(this.Yr=null)!=this.qr&&(this.qr.clear(),this.qr=null),null!=this.Xr&&(this.Xr.clear(),this.Xr=null),(this.zr=null)!=this.Hr&&(this.Hr.clear(),this.Hr=null),(this.$r=null)!=this.Jr&&(this.Jr.clear(),this.Jr=null),null!=this.Kr&&(this.Kr.clear(),this.Kr=null)},ee:function(t){for(var n,i,r=Number.MAX_VALUE,e=0;e<this.Gr.length;e++)0!=this.needVertex&&(n=this.Gr[e],1==t?r=n.Si:2==t&&(r=n.Si*n.pr),(i=n.wr)!=hi.NaviRoadEntry_BOTH&&i!=hi.NaviRoadEntry_FORWARD||(this.zr[n.fr][n.cr]=r),i!=hi.NaviRoadEntry_BOTH&&i!=hi.NaviRoadEntry_BACK||(this.zr[n.cr][n.fr]=r))},se:function(){return 0==this.Br.length||0==this.Gr.length},ui:function(){for(var t=0;t<this.Br.length;t++)this.Br[t].Yi=!1;if(1==this.Qr)for(var n=this.Br.length+1,i=0;i<n;i++)for(var r=0;r<n;r++)void 0!==this.zr[i]&&void 0!==this.zr[i][r]&&(this.zr[i][r]=Number.MAX_VALUE)},oe:function(){this.Yr=[];for(var t=0;t<this.Wr.length;t++){var n=this.Wr[t].toZone();this.Yr.push(n)}for(var i=0;i<this.Zr.length;i++){var r=this.Wr[i].toZone();this.Yr.push(r)}},ue:function(t){for(var n=0;n<this.Yr.length;n++){var i=this.Yr[n];if(i&&i.kn==t)return i}return null},he:function(t){for(var n=0;n<this.Yr.length;n++){var i=this.Yr[n];if(i&&1==i.contain(t))return i}return null},fe:function(){},ae:function(t,n){var i=null;if(this.Br.length<=0||this.Gr.length<=0)return i;for(var r=[],e=0,s=this.Br.length;e<s;e++){var o=this.Br[e],u=o.entranceType;u!=n&&u!=hi.NaviEntranceType_ACCESS||((u=new{}).node=o,u.distance=lt.ft(t,o.Bt),r.push(u))}return 0==r.length?i:i=(r=r.sort(this.ce))[0].node.Bt},le:function(t){var n=[];if(this.Br.length<=0||this.Gr.length<=0)return n;for(var i=0,r=this.Br.length;i<r;i++){var e=this.Br[i],s=e.entranceType;s!=t&&s!=hi.NaviEntranceType_ACCESS||n.push(e.Bt)}return n},ve:function(t,n){if(this.Br.length<=0||this.Gr.length<=0)return!1;if(t.kn==n.kn)return!0;this.de();var i=[];i.push(t.kn);var r,e;for(o=0;o!=i.length;)for(var s=o,o=i.length,u=s;u<i.length;u++)for(var h=0;h<this.Gr.length;h++)if(1!=this.$r[h]){if(e=(r=this.Gr[h]).wr,r.fr==i[u]&&(e==hi.NaviRoadEntry_BOTH||e==hi.NaviRoadEntry_FORWARD)){if(r.cr==n.kn)return!0;i.push(r.cr),this.$r[h]=!0}if(r.cr==i[u]&&(e==hi.NaviRoadEntry_BOTH||e==hi.NaviRoadEntry_BACK)){if(r.fr==n.kn)return!0;i.push(r.fr),this.$r[h]=!0}}return!1},ye:function(t,n,i,r){if(this.Br.length<=0||this.Gr.length<=0)return[];var e=this.re(t);if(0==e)return!1;for(var s=[],o=0;o<this.Br.length;o++){var u=this.Br[o],h=this.re(u.Bt);!u.contansFloor(n)||h!=e&&0!=e||((h={}).node=u,h.distance=lt.ft(t,u.Bt),h.distance=parseFloat(h.distance).toFixed(4),s.push(h))}if(!s||0==s.length)return[];for(var s=s.sort(this.ce),f=0;f<s.length;f++)i[f]=new fi,i[f].setNode(s[f].node),r[f]=parseFloat(s[f].distance);return i},be:function(t,n){if(!this.Br||this.Br.length<=0||!this.Gr||this.Gr.length<=0)return!1;for(var i=0;i<this.Br.length;i++){var r=this.Br[i];if(r.Qi==hi.NaviNodeType_FLOOR)if(r.Wi==t)return n.setNode(r),!0}return!1},pe:function(t,n){if(!this.Br||this.Br.length<=0||!this.Gr||this.Gr.length<=0)return!1;for(var i=0;i<this.Br.length;i++){var r=this.Br[i];r.$i==t&&(n[i]=r)}return 0!=n.length},re:function(t){if(0==this.Wr.length||!t)return 0;for(var n=0,i=this.Wr.length;n<i;n++){var r=this.Wr[n];if(r.Nr(t))return r.kn}return 0},we:function(t,n){if(0==this.Vr.length||!t||!n)return!1;for(var i=0;i<this.Vr.length;i++)if(this.Vr[i].isCross(t,n))return!0;return!1},_e:function(t,n,i,r,e){var s=Number.MAX_VALUE,o={};new fi;if(this.Br.length<=0||this.Gr.length<=0)return!1;var u=this.re(t);if(0==u)return!1;for(var h=0,f=this.Gr.length;h<f;h++){var a,c=this.Gr[h];c&&u==this.re(c.ar)&&(a=lt.lt(t,c.ar,c.lr,o),this.we(o,t)||a<s&&(s=a,n.mr(c),r.x=o.x,r.y=o.y))}if(!n||n.wr==hi.NaviRoadEntry_FORBID)return!1;for(var l=n.wr==hi.NaviRoadEntry_BACK||n.wr!=hi.NaviRoadEntry_FORWARD&&lt.ft(n.ar,r)<=lt.ft(n.lr,r)?n.fr:n.cr,v=0;v<this.Br.length;v++){var d=this.Br[v];if(d.kn==l){i.ir(d);break}}return!0},me:function(t,n,i,r){var e=Number.MAX_VALUE,s={};new fi;if(this.Br.length<=0||this.Gr.length<=0)return!1;var o=this.re(t);if(0==o)return!1;for(var u=0;u<this.Gr.length;u++){var h,f=this.Gr[u];hi.NaviRoadEntry_BOTH==f.wr&&(o!=this.re(f.ar)&&0!=o||(h=lt.lt(t,f.ar,f.lr,s),this.we(s,t)||h<e&&(e=h,n.setRoad(f),r.x=s.x,r.y=s.y)))}if(-1==n.kn)return!1;for(var a=lt.ft(n.ar,r)<=lt.ft(n.lr,r)?n.fr:n.cr,c=0;c<this.Br.length;c++){var l=this.Br[c];if(l.kn==a){i.ir(l);break}}return-1!=i.kn},ie:function(){this.te=0;for(var t=this.ne=0;t<this.Gr.length;)null==this.Gr[t]?this.Gr.splice(t,1):(this.Gr[t].kn>this.ne&&(this.ne=this.Gr[t].kn),t++);for(var n=0;n<this.Br.length;)null==this.Br[n]?this.Br.splice(n,1):(this.Br[n].kn>this.te&&(this.te=this.Br[n].kn),n++)},ge:function(t){t=this.Jr.get(t);return void 0===t?null:t},xe:function(t){t=this.Kr.get(t);return void 0===t?null:t},Oe:function(t){for(var n=Number.MAX_VALUE,i=null,r=0;r<this.Wr.length;++r){var e=this.Wr[r];e.contain(t)&&e.area<n&&(n=cur_area,i=e)}for(var s=0;s<this.Zr.size();++s){var o=this.Zr[s];o.contain(t)&&o.area<n&&(n=cur_area,i=o)}return i||null},je:function(t){for(var n=Number.MAX_VALUE,i=null,r=0;r<this.Zr.length;++r){var e=this.Zr[r];e.Nr(t)&&e.area<n&&(n=e.area,i=e)}return i||null},Ee:function(){return++this.te},Te:function(){return++this.ne},Me:function(t){this.te=t},ke:function(t){this.ne=t},Re:function(){for(var t=0;t<this.Br.length;t++){var n=this.Br[t];n&&this.Jr.set(n.kn,t)}},Ae:function(){for(var t=0;t<this.Gr.length;t++){var n=this.Gr[t];n&&this.Kr.set(n.kn,t)}},Se:function(){var t,n=mi(this.Jr);try{for(n.s();!(t=n.n()).done;)t.value[1].Hi=[]}catch(t){n.e(t)}finally{n.f()}},Ne:function(){var e=this;this.Xr.clear();for(var t=0;t<this.Gr.length;t++)(function(t){var n=e.Gr[t];if(null==n)return;var i,r=n.wr;hi.NaviRoadEntry_BOTH!=r&&hi.NaviRoadEntry_FORWARD!=r||(t=n.fr,(i=e.Xr.get(t))||e.Xr.set(t,i=[]),null==i.find(function(t){return t.Ie==n.cr})&&i.push({Ie:n.cr,Si:n.Si})),hi.NaviRoadEntry_BOTH!=r&&hi.NaviRoadEntry_BACK!=r||(i=n.cr,(r=e.Xr.get(i))||e.Xr.set(i,r=[]),null==r.find(function(t){return t.Ie==n.fr})&&r.push({Ie:n.fr,Si:n.Si}))})(t)},Le:function(t){for(var n=9;n<this.Br.length;n++)if(this.Br[n].kn==t)return n;return-1},De:function(t){for(var n=9;n<this.Gr.length;n++)if(this.Gr[n].kn==t)return n;return-1},Pe:function(t){for(var n=[],i=this.Gr,r=0;r<i.length;r++){var e=i[r],s=e.ar,o=e.lr,u=[];t.Fe([s,o],u)?n.push({road:e,crss:u,index:r}):t.Ce(s)&&n.push({road:e,crss:[],index:r})}return n},Ue:function(t){for(var n=null,i=Number.MAX_VALUE,r=0;r<this.Zr.length;r++){var e=this.Zr[r];lt.ut(t,e.jr,e.Er)&&i>e.area&&(i=(n=e).area)}return n},Be:function(t){for(var n=-1,i=0;i<this.Yr.length;i++){var r=this.Yr[i];if(lt.ut(t,r.jr,r.Er)){n=r.kn;break}}return n},Ge:function(){var t=this.Zr.length,t=parseInt(Math.random()*t);return this.Zr[t]},Oi:function(){if(1==this.Qr)for(var t,n=0;n<this.Gr.length;n++)t=this.Gr[n],void 0===this.zr[t.fr]&&(this.zr[t.fr]=new Array),this.zr[t.fr][t.cr]=Number.MAX_VALUE,void 0===this.zr[t.cr]&&(this.zr[t.cr]=new Array),this.zr[t.cr][t.fr]=Number.MAX_VALUE;for(var i=0;i<this.Gr.length;i++)this.$r[i]=!1},de:function(){for(var t=0;t<this.$r.length;t++)this.$r[t]=!1},ce:function(t,n){return parseFloat(t.distance)-parseFloat(n.distance)},Ze:function(){for(var t=[],n=0;n<this.Br.length;n++){var i=this.Br[n];i.$i==hi.NaviLiftType_Lift&&t.push(i)}return t},We:function(t){for(var n=0;n<this.Br.length;n++)if(this.Br[n].Wi==t)return this.Br[n];return null},Ve:function(){for(var t=[],n=0;n<this.Br.length;n++){var i=this.Br[n];i.$i!=hi.NaviLiftType_NULL&&t.push(i)}return t},Ye:function(t){for(var n=null,i=0;i<this.Wr.length;i++)if(t==this.Wr[i].kn){n=this.Wr[i];break}if(!n)return null;for(var r=[],e=0;e<this.Br.length;e++){var s=this.Br[e];lt.ut(s.Bt,n.jr,n.Er)&&r.push(s)}for(var o=[],u=0;u<this.Gr.length;u++){var h=this.Gr[u];lt.ut(h.ar,n.jr,n.Er)&&o.push(h)}for(var f=[],a=0;a<this.Zr.length;a++){var c=this.Zr[a];lt.ut(c.Nt,n.jr,n.Er)&&f.push(c)}var l=new Oi(r,o,!0,1);return l.Zr=f,l.Wr=[n],l}});var ji=Oi;function Ei(t){return(Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ti(t){return function(t){if(Array.isArray(t))return Mi(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return Mi(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(i="Object"===i&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Mi(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mi(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=new Array(n);i<n;i++)r[i]=t[i];return r}function ki(t,n){return(ki=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function Ri(i){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,n=Ai(i);return function(t,n){{if(n&&("object"===Ei(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined")}return function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t)}(this,r?(t=Ai(this).constructor,Reflect.construct(n,arguments,t)):n.apply(this,arguments))}}function Ai(t){return(Ai=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}f=function(){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&ki(t,n)}(i,fi);var n=Ri(i);function i(){var t;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),(t=n.call(this)).Ai=0,t.dr=0,t.qe=[],t.ur=null,t.ze=15,t.Xe=8,t}return i}();Object.assign(f.prototype,{He:function(t,n){if(!t)return[];for(var i=[],r=0;r<this.qe.length;r++){var e=this.qe[r];t==e.$i&&(n&&(e.zi=e.zi+n),i.push(e))}return i},Qe:function(t,n,i,r){this.ur=t;var e=[];e.push.apply(e,Ti(this.qe));for(var s=0;s<e.length;s++){var o=e[s];o.zi=lt.distanceOfTwoPoints(i,o.Bt)+lt.distanceOfTwoPoints(o.Bt,n)}return this.$e(e,r)},$e:function(t,n){if(n==p.PRIORITY_LIFTFIRST1){var i=this.Je.bind(this);t.sort(i)}else if(n==p.PRIORITY_ESCALATORFIRST1){var r=this.Ke.bind(this);t.sort(r)}else if(n!=p.PRIORITY_STAIRFIRST1){r=this.ts.bind(this);t.sort(r)}else{this.ns(t,n);for(var e=[],s=0;s<t.length;s++)t[s].zi&&e.push(t[s]);(t=[]).push.apply(t,e);n=this.rs.bind(this);t.sort(n)}return t},Je:function(t,n){if(t.zone!=n.zone){if(this.ur==t.zone)return-1;if(this.ur==n.zone)return 1}return t.$i!=hi.NaviLiftType_Lift&&t.$i!=hi.NaviLiftType_Accessible||n.$i!=hi.NaviLiftType_Lift&&n.$i!=hi.NaviLiftType_Accessible?t.$i==hi.NaviLiftType_Lift||t.$i==hi.NaviLiftType_Accessible?-1:n.$i==hi.NaviLiftType_Lift||n.$i==hi.NaviLiftType_Accessible?1:t.zi-n.zi:t.zi<n.zi},Ke:function(t,n){if(t.zone!=n.zone){if(this.ur==t.zone)return-1;if(this.ur==n.zone)return 1}return t.$i==hi.NaviLiftType_Escalator&&n.$i==hi.NaviLiftType_Escalator?t.zi<n.zi:t.$i==hi.NaviLiftType_Escalator?-1:n.$i==hi.NaviLiftType_Escalator?1:t.zi-n.zi},ts:function(t,n){if(t.zone!=n.zone){if(this.ur==t.zone)return-1;if(this.ur==n.zone)return 1}return t.$i==hi.NaviLiftType_Stair&&n.$i==hi.NaviLiftType_Stair?t.zi<n.zi:t.$i==hi.NaviLiftType_Stair?-1:n.$i==hi.NaviLiftType_Stair?1:t.zi-n.zi},rs:function(t,n){if(t.zone!=n.zone){if(this.ur==t.zone)return-1;if(this.ur==n.zone)return 1}return t.zi-n.zi},ns:function(t,n){if(n==p.PRIORITY_DEFAULT)for(var i=0;i<t.length;i++)t[i].$i==hi.NaviLiftType_Escalator?t[i].zi-=this.ze:t[i].$i!=hi.NaviLiftType_Lift&&t[i].$i!=hi.NaviLiftType_Accessible||(t[i].zi-=this.Xe);else if(n==p.PRIORITY_STAIRFIRST)for(var r=0;r<t.length;r++)t[r].$i==hi.NaviLiftType_Stair?t[r].zi-=this.ze:t[r].$i==hi.NaviLiftType_Escalator&&(t[r].zi-=this.Xe);else if(n==p.PRIORITY_ESCALATORFIRST)for(var e=0;e<t.length;e++)t[e].$i==hi.NaviLiftType_Escalator?t[e].zi-=this.ze:t[e].$i!=hi.NaviLiftType_Lift&&t[e].$i!=hi.NaviLiftType_Accessible||(t[e].zi-=this.Xe);else if(n==p.PRIORITY_LIFTFIRST)for(var s=0;s<t.length;s++)t[s].$i==hi.NaviLiftType_Lift||t[s].$i==hi.NaviLiftType_Accessible?t[s].zi-=this.ze:t[s].$i==hi.NaviLiftType_Escalator&&(t[s].zi-=this.Xe);else if(n==p.PRIORITY_STAIRONLY)for(var o=0;o<t.length;o++)t[o].$i!=hi.NaviLiftType_Stair&&(t[o].zi=null);else if(n==p.PRIORITY_ESCALATORONLY)for(var u=0;u<t.length;u++)t[u].$i!=hi.NaviLiftType_Escalator&&(t[u].zi=null);else if(n==p.PRIORITY_LIFTONLY)for(var h=0;h<t.length;h++)t[h].$i!=hi.NaviLiftType_Lift&&t[h].$i!=hi.NaviLiftType_Accessible&&(t[h].zi=null);else if(n==p.PRIORITY_ACCESSIBLEONLY)for(var f=0;f<t.length;f++)t[f].$i!=hi.NaviLiftType_Accessible&&(t[f].zi=null)}});var Si=f;x=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.es=null};Object.assign(x.prototype,{yn:function(){this.es=null},ss:function(t){this.es=t},us:function(t,n){var i=null;return 0==n?i=Nn.xn(t):1==n?i=Nn.On(t):2==n&&(i=Nn.jn(t)),{points:i[0],holes:i.slice(1)}},hs:function(t,n,i){var r=null;return 0==i?r=An.xn(t,n):1==i?r=An.On(t,n):2==i&&(r=An.jn(t,n)),{points:r[0],holes:r.slice(1)}},as:function(t){if(t&&"string"!=typeof t)for(var n in t){var i=t[n];if("vertices"==n||"vertex"==n)for(var r in i)r%2==0&&(i[r]=-i[r]);else"scene_data"==n?(i.x=-i.x,i.defCenX=-i.defCenX):this.as(i)}},cs:function(t){if(""==t||!t)return[];var n=[],i=t,t=[];return 0<=i.indexOf("|")||0<=i.indexOf("-")||0<=i.indexOf(",")?(t=i.split(/[|,-]/),n.push.apply(n,t)):n.push(i),n},ls:function(t,n,i,r){for(var e={},s=[],o=[],u=[],h=[],f=[],a=this.es.fileVer,c=0,l=n.extentLayer.length;c<l;c++){var v=n.extentLayer[c],d=null,d=1===a?this.us(v.geo,2):this.hs(v.idxs,v.pts,2);v.geoArr=d.points,v.holes=d.holes,o.push(v)}for(var y=0,b=n.labelLayer.length;y<b;y++)e[n.labelLayer[y].eid]=n.labelLayer[y];for(var p=0,w=n.modelLayer.length;p<w;p++){var _=n.modelLayer[p],m=i.modelLayer[p],g={};g.fid=m.fid,g.eid=_.eid,g.pass=m.pass,g.Nt=(1===a?this.us(e[_.eid].geo,0):this.hs(e[_.eid].idxs,e[_.eid].pts,0)).points;m=null,m=1===a?this.us(_.geo,2):this.hs(_.idxs,_.pts,2);g.geoArr=m.points,g.holes=m.holes,s.push(g)}if(r&&r.naviNodes)for(var x=0,O=r.naviNodes.length;x<O;x++){var j=r.naviNodes[x];j.geoArr=(1===a?this.us(j.geo,0):this.hs(j.idxs,j.pts,0)).points,j.linkSegArr=this.cs(j.linkSeg),j.liftFloorArr=this.cs(j.liftFloor),u.push(j)}if(r&&r.naviSegments)for(var E=0,T=r.naviSegments.length;E<T;E++){var M=r.naviSegments[E];M.geoArr=(1===a?this.us(M.geo,1):this.hs(M.idxs,M.pts,1)).points,M.m_Id=r.mid,h.push(M)}if(r&&r.naviZones)for(var k=0,R=r.naviZones.length;k<R;k++){var A=r.naviZones[k],S=null,S=1===a?this.us(A.geo,2):this.hs(A.idxs,A.pts,2);A.geoArr=S.points,A.holes=S.holes,A.m_Id=r.mid,f.push(A)}return{level:t,extentLayer:o,modelLayer:s,naviSegments:h,naviNodes:u,naviZones:f}}});var Ni=x;f=function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.vs=n,this.ds=null,this.ys=null,this.bs=-1,this.ps=-1,this.ws=s.MODULE_SHORTEST,this._s=[],this.vs.Re(),this.vs.Ae(),this.vs.Ne(),this.ms=5e-4};Object.assign(f.prototype,{gs:function(t,n,i){this.xs(i),this.Os=n;t=this.vs.ge(t);if(-1==t)return M.ROUTE_FAILED_CANNOT_CALCULATE;this._s=[];for(var r=0;r<n.length;r++){var e=this.vs.ge(n[r]);this._s.push(e)}return!!this.js(this.vs,t,this._s)},Es:function(){for(var t=[],n=0;n<this._s.length;n++){var i=[];this.Ts(this._s[n],i),i.reverse(),t.push(i)}return t},Ts:function(t,n){t=this.vs.Br[t];n.push(t);t=t.Hi[0];null!=t&&this.Ts(t,n)},Ms:function(t,n,i){this.xs(i),this.ds=t,this.ys=n,this.bs=t.kn,this.ps=n.kn;i=this.vs.ge(this.bs);if(-1==i)return M.ROUTE_FAILED_CANNOT_CALCULATE;t=this.vs.ge(n.kn);if(-1==t)return M.ROUTE_FAILED_CANNOT_CALCULATE;n=[];return n.push(t),this.js(this.vs,i,n)?M.ROUTE_SUCCESS:M.ROUTE_FAILED_CANNOT_ARRIVE},ks:function(){var t=[],n=this.vs.ge(this.ps),i=[];i.push(n);n=[];return this.Rs(i,this.vs.Br,n,[]),t.push.apply(t,n),t},yn:function(){this.vs.yn(),this.vs=null,this.ds=null,this.ys=null},js:function(t,n,i){if(null==t)return!1;var r=t.Br.length;if(n<0||r<=n)return!1;this.As(i,n);for(var e=0;e<r;++e)t.Br[e].zi=Number.MAX_VALUE,t.Br[e].Xi=!1,t.Br[e].Hi=[];t.Br[n].zi=0;var s=i.length,o=0,u=[];u.push(t.Br[n]);for(var h=this.Ss.bind(this);0<u.length;){var f=u[0].kn;u.splice(0,1);var a=t.ge(f);if(null!=a){var c=t.Br[a];if(!c.Xi){c.Xi=!0;var l=i.indexOf(a);if(-1!=l&&++o==s)return!0;if(0!=t.Xr.size){var v=t.Xr.get(f);if(v)for(var d=0;d<v.length;d++){var y=v[d],b=y.Ie,p=t.ge(b);null!=p&&(b=y.Si,(y=t.Br[p]).Xi||(y.zi>b+c.zi?(y.zi=b+c.zi,y.Hi=[],y.Hi.push(a),u.push(t.Br[p]),u.sort(h)):Math.abs(y.zi-(b+c.zi))<1e-12&&-1!=y.Hi.indexOf(a)&&y.Hi.push(a)))}}}}}return!(o<s)},Ss:function(t,n){return t.zi-(n.zi+this.ms)},As:function(t,n){for(var i=t.indexOf(n);-1!=i;)t.splice(i,1),i=t.indexOf(n)},xs:function(t){this.ws!=t&&(s.MODULE_SHORTEST==t?this.vs.Gr.forEach(function(t){t.Si=t.Si/t.pr}):s.MODULE_BEST==t&&this.vs.Gr.forEach(function(t){t.Si=t.Si*t.pr}),this.vs.Ne(),this.ws=t)},Ns:function(t,n,i,r){0!=n[t].Hi.length&&(t=n[t].Hi[0],i.push(n[t]),r.count++,this.Ns(t,n,i,r))},Rs:function(t,n,i,r){for(var e=0;e<t.length;e++){var s=t[e];i.push(n[s]);var o={count:1};this.Ns(s,n,i,o),r.push(o.count)}}});var Ii=f;function Li(t){return(Li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Di(t,n){return(Di=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function Pi(i){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,n=Fi(i);return function(t,n){{if(n&&("object"===Li(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined")}return function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t)}(this,r?(t=Fi(this).constructor,Reflect.construct(n,arguments,t)):n.apply(this,arguments))}}function Fi(t){return(Fi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ci=function(){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&Di(t,n)}(i,_i);var n=Pi(i);function i(){var t;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),(t=n.call(this)).kn=-1,t.Is=[],t}return i}();var Ui=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.nt=null,this.Ls=null,this.Ds=null,this.ft=0,this.Ps=0,this.Fs=!1,this.Cs=hi.Us};function Bi(t,n){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=Zi(t))||n&&t&&"number"==typeof t.length){i&&(t=i);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,e=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw e}}}}function Gi(t){return function(t){if(Array.isArray(t))return Wi(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Zi(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zi(t,n){if(t){if("string"==typeof t)return Wi(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(i="Object"===i&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Wi(t,n):void 0}}function Wi(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=new Array(n);i<n;i++)r[i]=t[i];return r}function Vi(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}x=function(){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),this.Bs=null,this.Gs=null,this.vs=t,this.Zs=new Map,this.Ws=new Map,this.Vs=new Map,this.Ys=new Map,this.qs=new Map,this.zs=[],this.Xs=Number.INT_MIN,this.Hs=Number.INT_MIN,this.Qs=-1,this.ds=null,this.ys=null,this.ws=s.MODULE_SHORTEST,this.$s=new Map,this.Js=new Map,this.Ks=new Map,this.to=[],this.no=[],this.io=[],this.ro=[],this.eo=100,this.so=-1,this.oo=15,this.uo=.1,this.ho=[],this.fo=[],this.ao=[],this.co=[],this.vo=!0,this.do=[],this.yo(),this.bo(),this.po(),this.wo(),this._o()}var t,i,r;return t=n,(i=[{key:"assignedPts",get:function(){return this.fo},set:function(t){this.fo=t}},{key:"obstruct",get:function(){return this.vo},set:function(t){this.vo=t}}])&&Vi(t.prototype,i),r&&Vi(t,r),n}();Object.assign(x.prototype,{Ms:function(t,n,i){if(this.Xs=t instanceof fi?this.mo(t.Bt):this.mo(t),this.Hs=n instanceof fi?this.mo(n.Bt):this.mo(n),i&&(this.ws=i),t instanceof fi)this.ds=t;else if(M.ROUTE_FAILED_NO_DATA_START==this.go(t,t))return M.ROUTE_FAILED_NO_DATA_START;if(n instanceof fi)this.ys=n;else if(M.ROUTE_FAILED_NO_DATA_DEST==this.xo(n,t instanceof fi?t.Bt:t))return M.ROUTE_FAILED_NO_DATA_DEST;return null==this.ds?M.ROUTE_FAILED_NO_DATA_START:null==this.ys?M.ROUTE_FAILED_NO_DATA_DEST:this.Oo()},jo:function(){var t;this.co=[];for(var n=0;n<this.fo.length;n++){var i={x:(i=this.fo[n])[0],y:i[1]},r=this.mo(i),i=this.Eo(r,i);this.co.push(i)}(t=this.zs).push.apply(t,Gi(this.co))},ks:function(){return this.zs},yn:function(){this.Bs=null,this.Gs=null,this.vs.yn(),this.vs=null,this.Zs.clear(),this.Zs=null;var t,n=Bi(this.Ws);try{for(n.s();!(t=n.n()).done;)t.value[1].yn()}catch(t){n.e(t)}finally{n.f()}this.Ws.clear(),this.Ws=null;var i,r=Bi(this.Ys);try{for(r.s();!(i=r.n()).done;)i.value[1].yn()}catch(t){r.e(t)}finally{r.f()}this.Ys.clear(),this.Ys=null;var e,s=Bi(this.Vs);try{for(s.s();!(e=s.n()).done;)e.value[1].yn()}catch(t){s.e(t)}finally{s.f()}this.Vs.clear(),this.Vs=null;var o,u=Bi(this.qs);try{for(u.s();!(o=u.n()).done;)o.value[1].yn()}catch(t){u.e(t)}finally{u.f()}this.qs.clear(),this.qs=null,this.zs=[],this.ds=null,this.ys=null,this.$s.clear(),this.$s=null,this.Js.clear(),this.Js=null,this.Ks.clear(),this.to=[],this.no=[],this.io=[],this.ro=[],this.do=[],this.vo=!1},ui:function(){this.zs=[],this.To(-1),this.To(this.Xs),this.Xs=Number.INT_MIN,this.To(this.Hs),this.Hs=Number.INT_MIN,this.Mo(),this.ho=[];var t=this.vs.Gr.length;this.Qs<-2*t&&(this.Qs=-1);for(var n=0;n<this.to.length;n++){var i=this.to[n];this.ko(i.Ro,i.Ds,hi.NaviRoadHinderType_HINDER_HIGH)}this.to=[],this.no=[],this.io=[],this.ro=[]},Ao:function(t){this.do=t,this.Vs.clear(),this.qs.clear();for(var n=0;n<this.do.length;n++)for(var i=this.do[n],r=this.So(i),e=0;e<r.length;e++){var s=r[e],o=this.Vs.get(s);o||(o=this.No(this.Ws.get(s)),this.Vs.set(s,o)),this.Io(o,i)}var u,h=Bi(this.Vs);try{for(h.s();!(u=h.n()).done;){var f=u.value;this.qs.set(f[0],new Ii(f[1]))}}catch(t){h.e(t)}finally{h.f()}},Io:function(t,n){for(var i=t.Pe(n),r=0;r<i.length;r++){var e=i[r],s=new yi;s.mr(e.road);var o=s.wr;s.wr=hi.NaviRoadEntry_FORBID,t.Gr[e.index]=s,1==e.crss.length&&(n.Ce(s.ar)?this.Lo(e.crss[0],this.Ee(),s.lr,this.Ee(),o,t):this.Lo(s.ar,this.Ee(),e.crss[0],this.Ee(),o,t)),2<=e.crss.length&&(this.Lo(s.ar,this.Ee(),e.crss[0],this.Ee(),o,t),this.Lo(e.crss[e.crss.length-1],this.Ee(),s.lr,this.Ee(),o,t))}var u=new Ci;u.kn=this.Do(),u.jr=n.jr,u.pass=hi.NaviModelPassType_NOT_PASS,t.Zr.push(u)},Lo:function(t,n,i,r,e,s){var o,u;t instanceof fi?o=t:((o=new fi).kn=n,o.Bt=t,s.Br.push(o)),i instanceof fi?u=i:((u=new fi).kn=r,u.Bt=i,s.Br.push(u));i=new yi;i.kn=this.Te(),i.fr=o.kn,i.ar=o.Bt,i.cr=u.kn,i.lr=u.Bt,i.wr=e,i.kn,i.fr,i.ar.x.toFixed(3),i.ar.y.toFixed(3),i.cr,i.lr.x.toFixed(3),i.lr.y.toFixed(3),s.Gr.push(i)},Do:function(){return this.Qs--},Po:function(){return this.Qs--},Fo:function(t){var n=this.vs.re(t);if(-1==n)return null;var i=this.mo(t),r=this.Co(i).je(t,-0);if(null==r)return{dr:n,Ds:null};if(r.pass==hi.NaviModelPassType_PASS_THROUGH||r.pass==hi.NaviModelPassType_PASS_NOT_THROUGH){if(0<r.Dr.length)return{dr:n,Ds:r};for(var e={},s=[],o=[],u=this.Co(i).Gr,h=!0,f=0;f<r.Er;f++)for(var a=r.jr[f],c=r.jr[f+1],l=0;l<u.length;l++){var v=u[l];1==lt.bt(a,c,v.ar,v.lr,e)&&(h=!1,hi.NaviRoadEntry_FORBID!=v.wr&&((v=new Object).x=e.x,v.y=e.y,s.push(v),o.push(u[l])))}if(h)return{dr:n,Ds:r};if(0==s.length)return null;r.Dr=[],r.Fr=[],r.Pr=[];for(var d=0;d<s.length;d++){var y=s[d],b=o[d],y=this.Uo(i,y,b);y.Qi=hi.NaviNodeType_COMMON,b.wr==hi.NaviRoadEntry_BOTH?y.entranceType=hi.NaviEntranceType_ACCESS:lt.ut(b.ar,r.jr,r.Er)?(b.wr==hi.NaviRoadEntry_FORWARD&&(y.entranceType=hi.NaviEntranceType_EXIT),b.wr==hi.NaviRoadEntry_BACK&&(y.entranceType=hi.NaviEntranceType_ENTRANCE)):(b.wr==hi.NaviRoadEntry_FORWARD&&(y.entranceType=hi.NaviEntranceType_ENTRANCE),b.wr==hi.NaviRoadEntry_BACK&&(y.entranceType=hi.NaviEntranceType_EXIT)),r.Dr.push(y),r.Fr.push(y.entranceType),r.Pr.push(y.Qi)}}return r.pass!=hi.NaviModelPassType_NOT_PASS?{dr:n,Ds:r}:null},go:function(t,n){var i=this;this.ds=this.Eo(this.Xs,t);var r=null,e=!0,r=null!=this.Bs&&this.Bs.pass==hi.NaviModelPassType_PASS_THROUGH&&0==this.Bs.Dr.length?this.Bo(this.Xs,t,n,30,this.Bs):this.Bo(this.Xs,t,n);if(null==this.Bs&&(e=!1),0<r.size){var s,e=!1,o=Bi(r);try{for(o.s();!(s=o.n()).done;)for(var u=s.value[1],h=0;h<u.length;h++)0!=u[h].Ls.wr&&(e=!0)}catch(t){o.e(t)}finally{o.f()}var f,a=0,c=!1,l=[],v=Bi(r);try{for(v.s();!(f=v.n()).done;){var d,y=f.value[1],b=y[0].Ls,p=this.Go(this.Xs,t,b,y,this.Bs);0==p.length?a++:Math.abs(p[0].Zo)>lt.H()?l.push.apply(l,Gi(p)):(c=!0,d=this.Wo(this.Xs,p[0].nt,p[0].Ls),this.Vo(this.Xs,this.ds,d))}}catch(t){v.e(t)}finally{v.f()}if(c||l.forEach(function(t){t=i.Wo(i.Xs,t.nt,t.Ls);i.Vo(i.Xs,i.ds,t)}),a==r.size)return M.ROUTE_FAILED_NO_DATA_START}if(e&&null!=this.Bs&&0<this.Bs.Dr.length){for(var w=!1,_=0;_<this.Bs.Dr.length;_++){var m=this.Bs.Dr[_],g=this.Bs.Fr[_];g!=hi.NaviEntranceType_EXIT&&g!=hi.NaviEntranceType_ACCESS||(this.Vo(this.Xs,this.ds,m),w=!0)}if(!w)return M.ROUTE_FAILED_NO_DATA_START}},xo:function(t,n){var i=this;this.ys=this.Eo(this.Hs,t);var r=null,e=!0,r=null!=this.Gs&&this.Gs.pass==hi.NaviModelPassType_PASS_THROUGH&&0==this.Gs.Dr.length?this.Bo(this.Hs,t,n,30,this.Gs):this.Bo(this.Hs,t,n);if(null==this.Gs&&(e=!1),0<r.size){var s,e=!1,o=Bi(r);try{for(o.s();!(s=o.n()).done;)for(var u=s.value[1],h=0;h<u.length;h++)0!=u[h].Ls.wr&&(e=!0)}catch(t){o.e(t)}finally{o.f()}var f,a=0,c=!1,l=[],v=Bi(r);try{for(v.s();!(f=v.n()).done;){var d,y=f.value[1],b=y[0].Ls,p=this.Go(this.Hs,t,b,y,this.Gs);0==p.length?a++:Math.abs(p[0].Zo)>lt.H()?l.push.apply(l,Gi(p)):(c=!0,d=this.Wo(this.Hs,p[0].nt,p[0].Ls),this.Vo(this.Hs,this.ys,d))}}catch(t){v.e(t)}finally{v.f()}if(c||l.forEach(function(t){t=i.Wo(i.Hs,t.nt,t.Ls);i.Vo(i.Hs,i.ys,t)}),a==r.size)return M.ROUTE_FAILED_NO_DATA_DEST}if(e&&null!=this.Gs&&0<this.Gs.Dr.length){for(var w=!1,_=0;_<this.Gs.Dr.length;_++){var m=this.Gs.Dr[_],g=this.Gs.Fr[_];g!=hi.NaviEntranceType_ENTRANCE&&g!=hi.NaviEntranceType_ACCESS||(this.Vo(this.Hs,this.ys,m),w=!0)}if(!w)return M.ROUTE_FAILED_NO_DATA_DEST}},Oo:function(){var t=this.Yo(this.ds.Bt);t&&(this.ko(this.Xs,t,hi.NaviRoadHinderType_HINDER_GENERAL),this.to.push({Ro:this.Xs,Ds:t}));t=this.Yo(this.ys.Bt);if(t&&(this.ko(this.Hs,t,hi.NaviRoadHinderType_HINDER_GENERAL),this.to.push({Ro:this.Hs,Ds:t})),this.zs=[],this.Xs==this.Hs){var n=this.qo(this.Xs),i=n.Ms(this.ds,this.ys,this.ws);if(i!=M.ROUTE_SUCCESS)return i;var r=n.ks();this.zs=[],r.reverse(),(i=this.zs).push.apply(i,Gi(r))}else{if(-1!=this.Xs&&-1==this.Hs){var n=this.zo(this.ds.Bt,this.Xs,hi.NaviEntranceType_EXIT),i=this.qo(this.Xs),r=i.Ms(this.ds,n,this.ws);if(r!=M.ROUTE_SUCCESS)return r;var e=i.ks(e),i=this.qo(-1);if((r=i.Ms(n,this.ys,this.ws))!=M.ROUTE_SUCCESS)return r;r=i.ks();e.reverse(),r.reverse(),(i=this.zs).push.apply(i,Gi(e)),(e=this.zs).push.apply(e,Gi(r))}if(-1==this.Xs&&-1!=this.Hs){var s=this.zo(this.ys.Bt,this.Hs,hi.NaviEntranceType_ENTRANCE),o=this.qo(this.Hs),u=o.Ms(s,this.ys,this.ws);if(u!=M.ROUTE_SUCCESS)return u;var h=o.ks(),o=this.qo(-1);if((u=o.Ms(this.ds,s,this.ws))!=M.ROUTE_SUCCESS)return u;s=o.ks();s.reverse(),h.reverse(),(u=this.zs).push.apply(u,Gi(s)),(o=this.zs).push.apply(o,Gi(h))}if(-1!=this.Xs&&-1!=this.Hs){var u=this.zo(this.ds.Bt,this.Xs,hi.NaviEntranceType_EXIT),s=this.qo(this.Xs),o=s.Ms(this.ds,u,this.ws);if(o!=M.ROUTE_SUCCESS)return o;var f=s.ks(f),h=this.zo(this.ys.Bt,this.Hs,hi.NaviEntranceType_ENTRANCE),s=this.qo(this.Hs);if((o=s.Ms(h,this.ys,this.ws))!=M.ROUTE_SUCCESS)return o;var a=s.ks(a),s=this.qo(-1);if((o=s.Ms(u,h,this.ws))!=M.ROUTE_SUCCESS)return o;o=s.ks();f.reverse(),o.reverse(),a.reverse(),(s=this.zs).push.apply(s,Gi(f)),(f=this.zs).push.apply(f,Gi(o)),(o=this.zs).push.apply(o,Gi(a))}}return M.ROUTE_SUCCESS},Xo:function(t,n,i){for(var r=0;r<n;r++)if(null!=t[r]&&t[r].kn==i)return r;return-1},mo:function(t){for(var n=this.vs.Yr,i=0;i<n.length;i++){var r=n[i];if(r.Nr(t))return r.kn}return-1},yo:function(){for(var t=this.vs.Yr,n=0;n<t.length;n++){var i=t[n],r=this.Ho(this.vs,i);this.Ws.set(i.kn,r)}this.Ws.set(-1,this.vs);var e,s=Bi(this.Ws);try{for(s.s();!(e=s.n()).done;){var o=e.value;o[1].ie(),this.Ys.set(o[0],new Ii(o[1]))}}catch(t){s.e(t)}finally{s.f()}},Ho:function(t,n){if(t&&n){for(var i,r=0,e=0,s=t.Gr.length,o=t.Br.length,u=t.Gr,h=t.Br,f=0,a=new Int8Array(s),c=0;c<s;c++)u[c]&&u[c].wr!=hi.NaviRoadEntry_FORBID&&(i=u[c],r=n.contain(i.ar),e=n.contain(i.lr),0==r&&0==e||(f=!0),1==r&&1==e&&(a[c]=1),1==r&&0==e&&(a[c]=2),0==r&&1==e&&(a[c]=3),0==r&&0==e&&(a[c]=4),2==r&&0==e&&(a[c]=6),2==r&&1==e&&(a[c]=7),0==r&&2==e&&(a[c]=8),1==r&&2==e&&(a[c]=9));if(0==f)return null;for(var l,v,d,y,b,p,w=new Array(o),_=new Array(s),m=0,g=new Int8Array(o),x=a.length,O=0,j=x;O<j;O++)0!=a[O]&&6!=a[O]&&8!=a[O]&&1!=a[O]&&u[O]&&(v=(l=u[O]).wr,b=[l.kn],2==a[O]||9==a[O]?(d=null,d=2==a[O]?n.bt(l.ar,l.lr):Object.assign({},l.lr),(p=new fi).kn=this.Ee(),p.Qi=hi.NaviNodeType_COMMON,p.$i=hi.NaviLiftType_NULL,p.entranceType=hi.NaviEntranceType_ACCESS,p.Bt=Object.assign({},d),(y=new yi).setRoad(l),y.kn=this.Te(),b.push(y.kn),p.segLinks=b,(d=new fi).setNode(p),v==hi.NaviRoadEntry_FORWARD?d.entranceType=hi.NaviEntranceType_EXIT:v==hi.NaviRoadEntry_BACK&&(d.entranceType=hi.NaviEntranceType_ENTRANCE),n.Ar.push(d),m=this.Xo(h,o,y.cr),y.lr=Object.assign({},d.Bt),y.vr[1]=Object.assign({},d.Bt),y.cr=d.kn,y.gr(),_[O]=y,w[m]=d,w[m=this.Xo(h,o,y.fr)]=h[m],w[m].segLinks.splice(w[m].segLinks.indexOf(l.kn),1,y.kn),(y=new fi).setNode(p),l.fr=y.kn,l.ar=Object.assign({},y.Bt),l.vr[0]=Object.assign({},y.Bt),l.gr(),h[m].segLinks.splice(h[m].segLinks.indexOf(l.kn),1),h.push(y),g[m]=2):3!=a[O]&&7!=a[O]||(p=null,p=3==a[O]?n.bt(l.ar,l.lr):Object.assign({},l.ar),(y=new fi).kn=this.Ee(),y.Qi=hi.NaviNodeType_COMMON,y.$i=hi.NaviLiftType_NULL,y.entranceType=hi.NaviEntranceType_ACCESS,y.Bt=Object.assign({},p),(p=new yi).setRoad(l),p.kn=this.Te(),b.push(p.kn),y.segLinks=b,(b=new fi).setNode(y),v==hi.NaviRoadEntry_FORWARD?b.entranceType=hi.NaviEntranceType_ENTRANCE:v==hi.NaviRoadEntry_BACK&&(b.entranceType=hi.NaviEntranceType_EXIT),n.Ar.push(b),m=this.Xo(h,o,p.fr),p.ar=Object.assign({},b.Bt),p.vr[0]=Object.assign({},b.Bt),p.fr=b.kn,p.gr(),_[O]=p,w[m]=b,w[m=this.Xo(h,o,p.cr)]=h[m],w[m].segLinks.splice(w[m].segLinks.indexOf(l.kn),1,p.kn),(p=new fi).setNode(y),l.cr=p.kn,l.lr=Object.assign({},p.Bt),l.vr[1]=Object.assign({},p.Bt),l.gr(),h[m].segLinks.splice(h[m].segLinks.indexOf(l.kn),1),h.push(p),g[m]=2));for(var E,T=0,M=x;T<M;T++)1==a[T]&&((E=u[T])&&(_[T]=E,2!=g[m=this.Xo(h,o,E.fr)]&&(w[m]=h[m],g[m]=1),2!=g[m=this.Xo(h,o,E.cr)]&&(w[m]=h[m],g[m]=1),u[T]=null));for(var k=0;k<o;k++)1==g[k]&&(h[k]=null);for(var x=new ji(w,_,!0,1),R=[],A=t.Zr,S=0;S<A.length;S++){var N=A[S];N&&this.Qo(N,n)&&R.push(N)}return(t=x.Zr).push.apply(t,R),x}},bo:function(){var t,n=Bi(this.Ws);try{for(n.s();!(t=n.n()).done;)for(var i=t.value,r=i[0],e=i[1].Zr,s=0;s<e.length;s++){var o,u=e[s];hi.NaviModelPassType_PASS_NOT_THROUGH==u.pass&&((o=this.$s.get(r))||(o=[],this.$s.set(r,o)),o.push(u))}}catch(t){n.e(t)}finally{n.f()}},po:function(){var t,n=Bi(this.Ws);try{for(n.s();!(t=n.n()).done;)for(var i=t.value,r=i[0],e=i[1].Zr,s=0;s<e.length;s++){var o,u=e[s];hi.NaviModelPassType_NOT_PASS==u.pass&&((o=this.Js.get(r))||(o=[],this.Js.set(r,o)),o.push(u))}}catch(t){n.e(t)}finally{n.f()}},wo:function(){var t,n=Bi(this.$s);try{for(n.s();!(t=n.n()).done;)for(var i=t.value,r=i[0],e=i[1],s=this.Co(r).Gr,o=0;o<e.length;o++){for(var u=e[o],h=0;h<s.length;h++){var f,a=s[h].Or();lt.ut(a,u.jr,u.Er)&&(s[h].Si=s[h].Si*this.eo,(f=this.Ks.get(u.kn))||(f=[],this.Ks.set(u.kn,f)),f.push(s[h]))}this.ko(r,u,hi.NaviRoadHinderType_HINDER_HIGH)}}catch(t){n.e(t)}finally{n.f()}},_o:function(){var t,n=Bi(this.Js);try{for(n.s();!(t=n.n()).done;)for(var i=t.value,r=i[0],e=i[1],s=this.Co(r).Gr,o=0;o<e.length;o++)for(var u=e[o],h=0;h<s.length;h++){var f=s[h],a=f.wr,c=f.Or();if(lt.ut(c,u.jr,u.Er)){if(f.Si=Number.MAX_VALUE,a==hi.NaviRoadEntry_BOTH||a==hi.NaviRoadEntry_FORWARD){var l=this.Co(r).Xr.get(f.fr);if(l)for(var v=0;v<l.length;v++)l[v].Ie==f.cr&&(l[v].Si=f.Si)}if(f.wr==hi.NaviRoadEntry_BOTH||f.wr==hi.NaviRoadEntry_BACK){var d=this.Co(r).Xr.get(f.cr);if(d)for(var y=0;y<d.length;y++)d[y].Ie==f.fr&&(d[y].Si=f.Si)}}}}catch(t){n.e(t)}finally{n.f()}},ko:function(t,n,i){var r=this.Ks.get(n.kn);if(r){if(hi.NaviRoadHinderType_HINDER_HIGH==i)for(var e=0;e<r.length;e++){var s=r[e];if(s.gr(),s.Si=r.length*this.eo,s.wr==hi.NaviRoadEntry_BOTH||s.wr==hi.NaviRoadEntry_FORWARD){var o=this.Co(t).Xr.get(s.fr);if(o)for(var u=0;u<o.length;u++)o[u].Ie==s.cr&&(o[u].Si=s.Si)}if(s.wr==hi.NaviRoadEntry_BOTH||s.wr==hi.NaviRoadEntry_BACK){var h=this.Co(t).Xr.get(s.cr);if(h)for(var f=0;f<h.length;f++)h[f].Ie==s.fr&&(h[f].Si=s.Si)}}if(hi.NaviRoadHinderType_HINDER_GENERAL==i)for(var a=0;a<r.length;a++){var c=r[a];if(c.gr(),c.wr==hi.NaviRoadEntry_BOTH||c.wr==hi.NaviRoadEntry_FORWARD){var l=this.Co(t).Xr.get(c.fr);if(l)for(var v=0;v<l.length;v++)l[v].Ie==c.cr&&(l[v].Si=c.Si)}if(c.wr==hi.NaviRoadEntry_BOTH||c.wr==hi.NaviRoadEntry_BACK){var d=this.Co(t).Xr.get(c.cr);if(d)for(var y=0;y<d.length;y++)d[y].Ie==c.fr&&(d[y].Si=c.Si)}}}},zo:function(t,n,i){var r=this.vs.ue(n);if(null==r)return null;for(var e=this.Co(n).je(t,void 0),s=(e.area,Number.MAX_VALUE),o=null,u=0;u<r.Ar.length;u++){var h,f=r.Ar[u],a=lt.ft(f.Bt,t);f.entranceType!=hi.NaviEntranceType_ACCESS&&f.entranceType!=i||a<s&&((h=this.$o(n,f.Bt))!=e&&h.pass==hi.NaviModelPassType_PASS_NOT_THROUGH||(s=a,o=f))}return o},$o:function(t,n){for(var i=null,t=this.Co(t),r=Number.MAX_VALUE,e=Number.MAX_VALUE,s=null,o=t.Zr,u=0;u<o.length;u++){var h,f=o[u];(h=lt.Jo(f.jr,n,f.jr.length-1))<e&&(e=h,s=f),this.uo>h&&((h=f.area)<r&&(r=h,i=f))}return null==i?s:i},Qo:function(t,n){if(t.bb.isSeparate(n.bb))return!1;t=t.Nt;return!!lt.ut(t,n.jr,n.Er)},Wo:function(t,n,i){var r=this.ho.find(function(t){return t==i.fr}),e=this.ho.find(function(t){return t==i.cr});null==r&&this.ho.push(i.fr),null==e&&this.ho.push(i.cr);for(var s=this.ro,o=null,u=0;u<s.length;u++)if(s[u].Ko==i){o=s[u];break}if(null==o)(o={}).Ko=i,s.push(o);else for(;null!=o.tu;)var h=o.tu.Ko,o=lt.st(n,h.ar,h.lr)?o.tu:o.nu;i=o.Ko;var f=new fi;f.kn=this.Do(),f.Bt=n;var a=new yi;a.kn=this.Do(),a.fr=i.fr,a.ar=i.ar,a.cr=f.kn,a.lr=f.Bt,a.vr=[i.ar,f.Bt],a.pr=i.pr;var c=new yi;c.kn=this.Do(),c.fr=f.kn,c.ar=f.Bt,c.cr=i.cr,c.lr=i.lr,c.vr=[f.Bt,i.lr],c.pr=i.pr,this.no.push(a),this.no.push(c);r={};r.Ko=a;e={};e.Ko=c,o.tu=r,o.nu=e,f.tempType=1,a.tempType=1,c.tempType=1,a.gr(),c.gr(),a.wr=i.wr,c.wr=i.wr;e=this.Co(t);e.Br.push(f),e.Gr.push(a),e.Gr.push(c);var l,t=this.qo(t).vs;return t.Jr.set(f.kn,e.Br.length-1),i.wr==hi.NaviRoadEntry_BOTH&&((e=[]).push({Ie:i.fr,Si:a.Si}),e.push({Ie:i.cr,Si:c.Si}),t.Xr.set(f.kn,e),(e=t.Xr.get(i.fr))||t.Xr.set(i.fr,e=[]),e.push({Ie:f.kn,Si:a.Si}),(e=t.Xr.get(i.cr))||t.Xr.set(i.cr,e=[]),e.push({Ie:f.kn,Si:c.Si})),i.wr==hi.NaviRoadEntry_FORWARD&&((l=[]).push({Ie:i.cr,Si:c.Si}),t.Xr.set(f.kn,l),(l=t.Xr.get(i.fr))||t.Xr.set(i.fr,l=[]),l.push({Ie:f.kn,Si:a.Si})),i.wr==hi.NaviRoadEntry_BACK&&((l=[]).push({Ie:i.fr,Si:a.Si}),t.Xr.set(f.kn,l),(l=t.Xr.get(i.cr))||t.Xr.set(i.cr,l=[]),l.push({Ie:f.kn,Si:c.Si})),f},iu:function(t,n){for(var i=n.length-1;0<=i;i--)if(n[i].kn&&0<n[i].kn)return n.splice(i+1,0,t),i+1;return-1},Uo:function(t,n,i,r){if(r)return this.Wo(t,n,i);var e=this.Co(t),s=new fi;s.kn=this.Ee(),s.Bt=n;var o=new yi;o.kn=this.Te(),o.fr=i.fr,o.ar=i.ar,o.cr=s.kn,o.lr=s.Bt,o.vr=[i.ar,s.Bt];r=new yi;r.kn=this.Te(),r.fr=s.kn,r.ar=s.Bt,r.cr=i.cr,r.lr=i.lr,r.vr=[s.Bt,i.lr];t=[];t.push(o.kn),t.push(r.kn),s.segLinks=t,o.gr(),r.gr(),o.wr=i.wr,r.wr=i.wr;var u,n=e.Br,t=e.Gr,n=this.iu(s,n);return this.iu(o,t),this.iu(r,t),e.Jr.set(s.kn,n),i.wr==hi.NaviRoadEntry_BOTH&&((n=[]).push({Ie:i.fr,Si:o.Si}),n.push({Ie:i.cr,Si:r.Si}),e.Xr.set(s.kn,n),(n=e.Xr.get(i.fr))||e.Xr.set(i.fr,n=[]),n.push({Ie:s.kn,Si:o.Si}),(n=e.Xr.get(i.cr))||e.Xr.set(i.cr,n=[]),n.push({Ie:s.kn,Si:r.Si})),i.wr==hi.NaviRoadEntry_FORWARD&&((u=[]).push({Ie:i.cr,Si:r.Si}),e.Xr.set(s.kn,u),(u=e.Xr.get(i.fr))||e.Xr.set(i.fr,u=[]),u.push({Ie:s.kn,Si:o.Si})),i.wr==hi.NaviRoadEntry_BACK&&((u=[]).push({Ie:i.fr,Si:o.Si}),e.Xr.set(s.kn,u),(u=e.Xr.get(i.cr))||e.Xr.set(i.cr,u=[]),u.push({Ie:s.kn,Si:r.Si})),s},ru:function(t){if(null!=t){for(var n=this.Co(t),i=n.Br.length-1;0<=i;i--){var r=n.Br[i];if(null==r||0<=r.kn)break;n.Br.splice(i,1)}for(var e=n.Gr.length-1;0<=e;e--){var s=n.Gr[e];if(null==s||0<=s.kn)break;n.Gr.splice(e,1)}}},eu:function(t,n){var i=t.get(n);if(i)for(var r=0;r<i.length;r++)i[r].Ie<0&&(i.splice(r,1),r--)},su:function(t,n){for(var i=t.get(n),r=0;r<i.length;r++)this.eu(t,i[r].Ie);t.delete(n)},ou:function(t,n,i,r,e,s){e.Ps=Number.MAX_VALUE,e.Fs=!1,e.Zo=i;for(var o=Number.MAX_VALUE,u={},h=this.Co(t),f=0;f<h.Gr.length;f++){var a,c=h.Gr[f];null!=c&&(c.kn<0||c.wr!=hi.NaviRoadEntry_FORBID&&(!lt.pt(n,i,c.ar,c.lr,u)||((a=lt.ft(n,u))<o||Math.abs(a-o)<.1&&c.kn<0)&&(o=a,e.nt=Object.assign({},u),e.ft=o,e.Ls=c,e.Fs=!0)))}if(!e.Fs)return!1;for(var h=this.Co(t),l={},v=0;v<h.Zr.length;v++){var d=h.Zr[v];if(null!=d&&d!=s&&(hi.NaviModelPassType_DECORATE!=d.pass&&(null==s||!lt.ut(s.Nt,d.jr,d.jr.length-1))))for(var y=d.jr.length,b=0;b<y-1;b++)if(lt.pt(n,i,d.jr[b],d.jr[b+1],l)){var p=lt.ft(n,l);if(p<o)return o=p,e.Ds=d,e.ft=Number.MAX_VALUE,e.Fs=!1,e.Cs=hi.NaviObstructType_MODEL,!1}}for(var w={},_=h.Wr,m=0;m<_.length;m++){for(var g=_[m],x=_[m].Lr,O=0;O<x.length;O++)for(var j=x[O],E=0;E<j.length-1;E++)if(lt.pt(n,i,j[E],j[E+1],w)){var T=lt.ft(n,w);if(T<o)return o=T,e.Ds=g,e.ft=Number.MAX_VALUE,e.Fs=!1,e.Cs=hi.NaviObstructType_EXTENT,!1}for(var M=_[m].jr,k=0;k<M.length-1;k++)if(lt.pt(n,i,M[k],M[k+1],w)){var R=lt.ft(n,w);if(R<o)return o=R,e.Ds=g,e.ft=Number.MAX_VALUE,e.Fs=!1,e.Cs=hi.NaviObstructType_EXTENT,!1}}return e.Ps=lt.ft(e.nt,r),!0},uu:function(t,n){return t.Ps-n.Ps},hu:function(t,n){return n.Zo-t.Zo},To:function(t){t=this.Co(t);if(t){for(var n=t.Br,i=t.Jr,r=n.length-1;0<=r;r--){var e=n[r];if(null==e||0<=e.kn)break;i.delete(e.kn),n.splice(r,1)}for(var s=t.Gr,o=t.Kr,u=s.length-1;0<=u;u--){var h=s[u];if(null==h||0<=h.kn)break;o.delete(h.kn),s.splice(u,1)}}},Mo:function(){var t,n=Bi(this.fu());try{for(n.s();!(t=n.n()).done;){var i,r=t.value[1],e=[],s=r.vs.Xr,o=Bi(s);try{for(o.s();!(i=o.n()).done;){var u=i.value;u[0]<0&&e.push(u[0])}}catch(t){o.e(t)}finally{o.f()}for(var h=0;h<e.length;h++)this.su(r.vs.Xr,e[h]);for(var f=0;f<this.ho.length;f++)this.eu(s,this.ho[f])}}catch(t){n.e(t)}finally{n.f()}},Go:function(t,n,i,r,e){for(var s=[],o=0;o<r.length;o++)if(r[o].ft<lt.H())return s.push(r[o]),s;var u={x:0,y:0};if(lt.wt(n,i.ar,i.lr,u)&&this.au(n,u,{},e)){e={};return e.nt=u,e.Fs=!0,e.Ls=i,e.Zo=0,e.ft=lt.ft(n,u),s.push(e),s}for(var h={x:u.x-n.x,y:u.y-n.y},f=0;f<r.length;f++){var a=r[f],c={x:a.nt.x-n.x,y:a.nt.y-n.y},c=270<(c=lt.jt(c,h))?c-360:c;a.Zo=c}r.sort(this.hu);var l,v=null;if(r[r.length-1].Zo<0)return v=r[r.length-1],s.push(v),s;for(var d=0;d<r.length;d++)if(0<r[d].Zo)return v=r[d],0==d?s.push(v):(l=r[d-1],lt.ft(v.nt,i.ar)>lt.ft(l.nt,i.ar)?(s.push(l),s.push(v)):(s.push(v),s.push(l))),s;return s},cu:function(t,n,i,r,e,s){for(var o=e||30,u=0;u<360;u+=o){var h=new Ui;this.ou(t,n,u,i,h,s),1==h.Fs&&r.push(h)}r.sort(this.uu)},Bo:function(t,n,i,r,e){var s=new Map,o=[];for(this.cu(t,n,i,o,r,e);0!=o.length;){var u=o[0],h=s.get(u.Ls.kn);h?h.push(u):((h=[]).push(u),s.set(u.Ls.kn,h)),o.splice(0,1)}return s},Eo:function(t,n){var i=new fi;i.kn=this.Do(),i.Bt=Object.assign({},n);n=this.Co(t);return n.Br.push(i),this.qo(t).vs.Jr.set(i.kn,n.Br.length-1),i},lu:function(t,n,i){if(i)return this.Eo(t,n);i=new fi;i.kn=this.Ee(),i.Bt=Object.assign({},n);n=this.Co(t),t=n.Br,t=this.iu(i,t);return n.Jr.set(i.kn,t),i},au:function(t,n,i,r){for(var e,s=this.Co(-1),o=0;o<s.Zr.length;o++)if(null!=(e=s.Zr[o])&&e!=r&&hi.NaviModelPassType_DECORATE!=e.pass)for(var u=e.jr,h=0;h<u.length-1;h++)if(lt.bt(t,n,u[h],u[h+1],i)){var f=lt.ft(t,i),a=lt.ft(n,i);if(!(f<=lt.H()||a<=lt.H()))return!1}for(var c=s.Wr,l=0;l<c.length;l++){for(var v=c[l],d=v.Lr,y=0;y<d.length;y++)for(var b=d[y],p=0;p<b.length-1;p++)if(lt.bt(t,n,b[p],b[p+1],i))return!1;for(var w=v.jr,_=0;_<w.length-1;_++)if(lt.bt(t,n,w[_],w[_+1],i))return!1}return!0},Vo:function(t,n,i,r,e,s){for(var o=0;o<this.io.length;o++){var u=this.io[o],h={};if(1==lt.bt(u.ar,u.lr,n.Bt,i.Bt,h)&&lt.ft(n.Bt,h)>lt.H()&&lt.ft(i.Bt,h)>lt.H())return null}void 0===r&&(r=hi.NaviRoadEntry_BOTH),void 0===e&&(e=!0),void 0===s&&(s=!0);var f=new yi;f.fr=n.kn,f.ar=n.Bt,f.cr=i.kn,f.lr=i.Bt,f.vr=[n.Bt,i.Bt],f.pr=1,this.ho.push(n.kn),this.ho.push(i.kn),f.kn=e?this.Do():this.Te(),f.wr=r,f.gr(),s&&this.io.push(f),this.Co(t).Gr.push(f);var a,c,s=this.qo(t);return hi.NaviRoadEntry_BOTH==r&&(t={Ie:i.kn,Si:f.Si},(a=s.vs.Xr.get(n.kn))?a.push(t):((a=[]).push(t),s.vs.Xr.set(n.kn,a)),t={Ie:n.kn,Si:f.Si},(a=s.vs.Xr.get(i.kn))?a.push(t):((a=[]).push(t),s.vs.Xr.set(i.kn,a))),hi.NaviRoadEntry_FORWARD==r&&(a={Ie:i.kn,Si:f.Si},(c=s.vs.Xr.get(n.kn))?c.push(a):((c=[]).push(a),s.vs.Xr(n.kn,c))),hi.NaviRoadEntry_BACK==r&&(c={Ie:n.kn,Si:f.Si},(r=s.vs.Xr.get(i.kn))?r.push(c):((r=[]).push(c),s.vs.Xr.set(i.kn,r))),f},Yo:function(t){var n=this.mo(t),i=this.$s.get(n);if(i)for(var r=0;r<i.length;r++){var e=i[r];if(lt.ut(t,e.jr,e.Er))return e}return null},Co:function(t){var n=null;return n=(n=this.vo?this.Vs.get(t):n)||this.Ws.get(t)},qo:function(t){var n=null;return n=(n=this.vo?this.qs.get(t):n)||this.Ys.get(t)},fu:function(){return this.vo?this.qs:this.Ys},Ee:function(){return this.vs.Ee()},Te:function(){return this.vs.Te()},No:function(t){var n=[];n.push.apply(n,Gi(t.Br));var i=[];i.push.apply(i,Gi(t.Gr));n=new ji(n,i,!0,1);return(i=n.Zr).push.apply(i,Gi(t.Zr)),n},So:function(t){for(var n=[-1],i=this.vs.Yr,r=0;r<i.length;r++){var e=i[r];t.vu(e.Dt.Mt,e.Dt.kt)&&n.push(e.kn)}return n}});var Yi=x;function qi(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function zi(t){if(qi(this,zi),t instanceof Number){this.du=t,this.yu=[];for(var n=0;n<t;n++)this.yu.push(null)}if(t instanceof Array){this.bu=t,this.yu=[];for(var i=0;i<t.length;i++)this.yu.push(null)}}Object.assign(zi.prototype,{pu:function(){return this.yu.length},wu:function(t,n){if(t<0||t>=this.pu())throw"positon is out of bounder";this.yu[t]=n},_u:function(t){var n=t;return"string"==typeof t&&(n=this.bu.indexOf(t)),this.yu[n]},mu:function(){for(var t=[],n=0;n<this.yu.length;n++)t.push(this.yu[n]);return t},nr:function(t){if(this.yu.length!=t.yu.length)return!1;if(this.bu.length!=t.bu.length)return!1;for(var n=0;n<this.bu.length;n++)if(this.bu[n]!=t.bu[n])return!1;return!0},gu:function(){for(var t=0==this.bu.length?new zi(this.yu.length):new zi(this.bu),n=0;n<this.yu.length;n++)t.yu[n]=this.yu[n];return t}});function Xi(t){qi(this,Xi),this.bu=t,this.xu=[]}Object.assign(Xi.prototype,{Ou:function(t){if(t instanceof zi){if(!new zi(t.bu).nr(t))throw"the appended item is not compatible to the TupleTable";this.xu.push(t)}else{var n,i=new zi(this.bu);for(n in t){var r=this.bu.indexOf(n);0<=r&&i.wu(r,t[n])}this.xu.push(i)}},ju:function(t,n){for(var i=0;i<this.xu.length;i++){var r=this.xu[i];if(r._u(t)==n)return r}return null},Eu:function(t,n){n=n||-1;for(var i=0;i<this.xu.length;i++)t(n<0?this.xu[i]:this.xu[i]._u(n))},pu:function(){return this.xu.length},gu:function(){for(var t=new Xi(this.bu),n=0;n<this.xu.length;n++)t.Ou(this.xu[n].gu());return t},Tu:function(t){for(var n=0;n<this.xu.length;n++){var i,r=!0;for(i in t)if(this.xu[n]._u(i)!=t[i]){r=!1;break}r&&(this.xu.splice(n,1),n--)}},Mu:function(){this.xu=[]}});var Hi=Xi;function Qi(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.assign(function t(){Qi(this,t),this.items=[]}.prototype,{ku:function(t){this.items.push(t)},Ru:function(){return this.isEmpty()?"Underflow":this.items.shift()},Au:function(){return this.isEmpty()?"No elements in Queue":this.items[0]},Su:function(){return 0==this.items.length},Nu:function(){for(var t="",n=0;n<this.items.length;n++)t+=this.items[n]+" ";return t}});function $i(){Qi(this,$i),this.queue=[],this.offset=0}function Ji(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.assign($i.prototype,{Iu:function(){return this.queue.length-this.offset},Su:function(){return 0==this.queue.length},ku:function(t){this.queue.push(t)},Ru:function(){if(0!=this.queue.length){var t=this.queue[this.offset];return 2*++this.offset>=this.queue.length&&(this.queue=this.queue.slice(this.offset),this.offset=0),t}},Lu:function(){return 0<this.queue.length?this.queue[this.offset]:void 0}});function Ki(t){Ji(this,Ki),this.adj=t||[]}Object.assign(Ki.prototype,{Du:function(t){for(var n in this.adj)if(t==n[0])return!0;return!1},Pu:function(t){if(null==t)return null;for(var n in this.adj)if(t==this.adj[n][0])return this.adj[n][1];return null},Ou:function(t){this.adj.push(t)}});f=function t(n){for(var i in Ji(this,t),this.Fu=new Map,n){var r=n[i][0];this.Fu.has(r)||this.Fu.set(r,new Ki);for(var e=[],s=1;s<n[i].length;s++)e.push(n[i][s]);this.Fu.get(r).Ou(e)}};Object.assign(f.prototype,{_u:function(t){return this.Fu.has(t)?this.Fu.get(t):null},Cu:function(t,n){return this.Fu.has(t)?this.Fu.get(t).Pu(n):null},Uu:function(){return this.Fu.keys},Bu:function(t,n,i){i=i||[];for(var r,e,s=this.Uu(),o=1/0,u={dist:1/0,transit:null},h=0;h<s.length;h++)-1==i.indexOf(s[h])&&(r=this.Cu(t,s[h]),e=this.Cu(s[h],n),null!=r&&null!=e&&r+e<o&&(u={dist:r+e,transit:s[h]},o=r+e));return u}});var tr=f;function nr(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function ir(t){nr(this,ir),this.Gu=t||[]}Object.assign(ir.prototype,{Zu:function(t){for(var n=-1,i=0;i<this.Gu.length;i++)if(this[i]==t){n=i;break}n<0||this.Gu.splice(n,1)},Wu:function(t){for(var n=[],i=0;i<this.Gu.length;i++)n.push(this.Gu[i]);for(var r=-1,e=0;e<n.length;e++)if(n[e]==t){r=e;break}if(!(r<0))return n.splice(r,1),n},mu:function(){for(var t=[],n=0;n<this.Gu.length;n++)t.push(this.Gu[n]);return t},Si:function(){return this.Gu.length}});x=function t(n){nr(this,t),0!=n.length&&(this.Fu=new tr(n))};Object.assign(x.prototype,{Vu:function(t){return this.Yu=t,this},qu:function(t){return this.zu=t,this},Xu:function(t){return this.Gu=t,this},Hu:function(){this.In=this.Qu(this.Yu,this.zu,this.Gu)},$u:function(){return this.In},Qu:function(t,n,i){if(0==i.length){if(t==n)return{route:[t],dist:0};var r=this.Fu.Cu(t,n);if(null!=r)return{route:[t,n],dist:r};r=this.Fu.Bu(t,n,this.Gu);return{route:[t,r.transit,n],dist:r.dist}}for(var e=new ir(i),s=e.mu(),o=1/0,u=[],h=0;h<e.Si();h++){var f,a=s[h],c=this.Qu(t,a,e.Wu(a));null!=c.dist&&(null==(f=this.Fu.Cu(a,n))?(f=(a=this.Fu.Bu(a,n,this.Gu)).dist)+c.dist<o&&(o=f+c.dist,c.route.push(a.transit),c.route.push(n),u=c.route):f+c.dist<o&&(o=f+c.dist,c.route.push(n),u=c.route))}return{route:u,dist:o}}});var rr=x;function er(t){return function(t){if(Array.isArray(t))return ur(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||or(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sr(t,n){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=or(t))||n&&t&&"number"==typeof t.length){i&&(t=i);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,e=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw e}}}}function or(t,n){if(t){if("string"==typeof t)return ur(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(i="Object"===i&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ur(t,n):void 0}}function ur(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=new Array(n);i<n;i++)r[i]=t[i];return r}function hr(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}f=function(){function i(t,n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),this.kn=t,this.Bs=null,this.Gs=null,this.vs=n,this.Zs=new Map,this.Ws=new Map,this.Ju=null,this.Ku=new Map,this.zs=[],this.Xs=Number.INT_MIN,this.Hs=Number.INT_MIN,this.Qs=-1,this.ds=null,this.ys=null,this.ws=s.MODULE_SHORTEST,this.$s=new Map,this.Js=new Map,this.Ks=new Map,this.to=[],this.no=[],this.io=[],this.ro=[],this.eo=100,this.so=-1,this.oo=15,this.uo=.1,this.th=[],this.nh=[],this.ih=[],this.yo(),this.bo(),this.po(),this.wo(),this._o(),this.rh=new Hi(["num","id","idx","node"]),this.eh=new Map,this.sh=new $i,this.Xi=!1,this.oh=[]}var t,n,r;return t=i,(n=[{key:"level",get:function(){return this.Ai},set:function(t){this.Ai=t}}])&&hr(t.prototype,n),r&&hr(t,r),i}();Object.assign(f.prototype,{uh:function(t){this.hh=null==t?[]:t,this.fh()},ah:function(t){var n;t instanceof fi?(this.ds=t,this.rh.Ou({num:this.rh.pu(),id:t.kn,idx:this.vs.Le(t.kn),node:t})):(n=new fi,this.ch(t,n)||this.nh.push(t),this.ds=n,this.rh.Ou({num:this.rh.pu(),id:n.kn,idx:this.vs.Le(n.kn),node:n}))},lh:function(t){var n;t instanceof fi?(this.ys=t,this.rh.Ou({num:this.rh.pu(),id:t.kn,idx:this.vs.Le(t.kn),node:t})):(n=new fi,this.ch(t,n)||this.nh.push(t),this.ys=n,this.rh.Ou({num:this.rh.pu(),id:n.kn,idx:this.vs.Le(n.kn),node:n}))},vh:function(t,n){for(var i=0,r=0;r<n.length;r++){var e=(t.x-n[r].x)*(t.x-n[r].x)+(t.y-n[r].y)*(t.y-n[r].y);i+=Math.sqrt(e)}return i},dh:function(){for(var t=this.vs.Ve(),n=0;n<t.length;n++)t[n].zi=this.vh(t[n].Bt,this.yh().hh),t[n].zi+=this.vh(t[n].Bt,this.hh),t[n].zi=t[n].zi/(0==this.yh().hh.length?1:this.yh().hh.length),t[n].$i==hi.NaviLiftType_Escalator&&(t[n].zi-=25),t[n].$i==hi.NaviLiftType_Lift&&(t[n].zi-=25);t.sort(function(t,n){return t.zi-n.zi});for(var i=this.Ai-this.yh().Ai<0,r=0;r<t.length;r++){var e=t[r];if(i){if(e.Ji==hi.NaviLiftEntry_DOWN||e.Ji==hi.NaviLiftEntry_FORBID)continue}else if(e.Ji==hi.NaviLiftEntry_UP||e.Ji==hi.NaviLiftEntry_FORBID)continue;if(-1!=e.Gi.indexOf(this.yh().Ai)&&this.yh().bh(e.Wi))return e}return null},ph:function(t){for(var n=this.vs.Ve(),i=t.Ai,r=this.Ai,e=0;e<n.length;e++){var s=n[e];if((hi.NaviLiftType_Stair==s.$i||-1!=s.Gi.indexOf(i))&&null!=t.bh(s.Wi))if(s.Ji!=hi.NaviLiftEntry_UP){if(s.Ji!=hi.NaviLiftEntry_DOWN){if(s.Ji==hi.NaviLiftEntry_BOTH)return{related:!0,dist:Math.abs(r-i)}}else if(i<r)return{related:!0,dist:Math.abs(r-i)}}else if(r<i)return{related:!0,dist:Math.abs(r-i)}}return{related:!1,dist:1/0}},bh:function(t){0==this.oh.length&&(this.oh=this.vs.Ve());for(var n=0;n<this.oh.length;n++)if(this.oh[n].Wi==t)return this.oh[n];return null},wh:function(t){var n=this.vs.Wr[0].jr;return!!lt.ut(t,n,n.length-1)},ks:function(){return this.zs},yn:function(){this.Bs=null,this.Gs=null,this.vs.yn(),this.vs=null,this.Zs.clear(),this.Zs=null;var t,n=sr(this.Ws);try{for(n.s();!(t=n.n()).done;)t.value[1].yn()}catch(t){n.e(t)}finally{n.f()}this.Ws.clear(),(this.Ws=null)!=this.Ju&&(this.Ju.yn(),this.Ju=null),this.Ku.each(function(t,n){n.yn()}),this.Ku.clear(),this.Ku=null,this.zs=[],this.ds=null,this.ys=null,this.$s.clear(),this.$s=null,this.Js.clear(),this.Js=null,this.Ks.clear(),this.Js=null,this.to=[],this.no=[],this.io=[],this.ro=[]},ui:function(){this.zs=[],this.To(-1),this.To(this.Xs),this.Xs=Number.INT_MIN,this.To(this.Hs),this.Hs=Number.INT_MIN,this.Mo(),this.th=[],this.Qs=-1;for(var t=0;t<this.to.length;t++){var n=this.to[t];this.ko(n.Ro,n.Ds,hi.NaviRoadHinderType_HINDER_HIGH)}this.to=[],this.no=[],this.io=[],this.ro=[]},_h:function(t){this.sh.ku(t)},yh:function(){return this.sh.Lu()},mh:function(){return this.sh.Ru()},gh:function(){var o=this;this.xh=[],this.rh.Eu(function(t){var n=t._u("node"),t=o.rh.gu();t.Tu({node:n});var i=[];t.Eu(function(t){i.push(t._u("id"))}),o.Ku.get(-1).gs(n.kn,i,o.ws);for(var r=o.Ku.get(-1).Es(),e=0;e<r.length;e++){var s=r[e];o.xh.push([n.kn,s[s.length-1].kn,function(t){for(var n=0,i=0;i<t.length-1;i++){var r=t[i].Bt.x-t[i+1].Bt.x,e=t[i].Bt.y-t[i+1].Bt.y;n+=Math.sqrt(r*r+e*e)}return n}(s),s])}})},Oh:function(){this.In=[];for(var t=function(t,n){for(var i=0;i<this.length;i++)if(this[i][0]==t&&this[i][1]==n)return this[i]},n=0;n<this.Hu.route.length-1;n++)for(var i=this.Hu.route[n],r=this.Hu.route[n+1],e=t.apply(this.xh,[i,r]),s=0;s<e[3].length;s++)this.In.push(e[3][s])},$u:function(){return this.In},Fo:function(t){var n=this.vs.re(t);if(-1==n)return null;var i=this.jh(t),r=this.Ws.get(i).findModel(t,-0);if(null==r)return{dr:n,Ds:null};if(r.pass==hi.NaviModelPassType_PASS_THROUGH||r.pass==hi.NaviModelPassType_PASS_NOT_THROUGH){if(0<r.Dr.length)return{dr:n,Ds:r};for(var e={},s=[],o=[],u=this.Ws.get(i).Gr,h=!0,f=0;f<r.Er;f++)for(var a=r.jr[f],c=r.jr[f+1],l=0;l<u.length;l++){var v=u[l];1==lt.bt(a,c,v.ar,v.lr,e)&&(h=!1,hi.NaviRoadEntry_FORBID!=v.wr&&((v=new Object).x=e.x,v.y=e.y,s.push(v),o.push(u[l])))}if(h)return{dr:n,Ds:r};if(0==s.length)return null;r.Dr=[],r.Fr=[],r.Pr=[];for(var d=0;d<s.length;d++){var y=s[d],b=o[d],y=this.Uo(i,y,b);y.Qi=hi.NaviNodeType_COMMON,b.wr==hi.NaviRoadEntry_BOTH?y.entranceType=hi.NaviEntranceType_ACCESS:lt.ut(b.ar,r.jr,r.Er)?(b.wr==hi.NaviRoadEntry_FORWARD&&(y.entranceType=hi.NaviEntranceType_EXIT),b.wr==hi.NaviRoadEntry_BACK&&(y.entranceType=hi.NaviEntranceType_ENTRANCE)):(b.wr==hi.NaviRoadEntry_FORWARD&&(y.entranceType=hi.NaviEntranceType_ENTRANCE),b.wr==hi.NaviRoadEntry_BACK&&(y.entranceType=hi.NaviEntranceType_EXIT)),r.Dr.push(y),r.Fr.push(y.entranceType),r.Pr.push(y.Qi)}}return r.pass!=hi.NaviModelPassType_NOT_PASS?{dr:n,Ds:r}:null},go:function(t,n){var i=this;this.ds=this.Eo(this.Xs,t);var r=null,e=!0,r=null!=this.Bs&&this.Bs.pass==hi.NaviModelPassType_PASS_THROUGH&&0==this.Bs.Dr.length?this.Bo(this.Xs,t,n,30,this.Bs):this.Bo(this.Xs,t,n);if(null==this.Bs&&(e=!1),0<r.size){var s,e=!1,o=sr(r);try{for(o.s();!(s=o.n()).done;)for(var u=s.value[1],h=0;h<u.length;h++)0!=u[h].Ls.wr&&(e=!0)}catch(t){o.e(t)}finally{o.f()}var f,a=0,c=!1,l=[],v=sr(r);try{for(v.s();!(f=v.n()).done;){var d,y=f.value[1],b=y[0].Ls,p=this.Go(this.Xs,t,b,y,this.Bs);0==p.length?a++:Math.abs(p[0].Zo)>lt.H()?l.push.apply(l,er(p)):(c=!0,d=this.Wo(this.Xs,p[0].nt,p[0].Ls),this.Vo(this.Xs,this.ds,d))}}catch(t){v.e(t)}finally{v.f()}if(c||l.forEach(function(t){t=i.Wo(i.Xs,t.nt,t.Ls);i.Vo(i.Xs,i.ds,t)}),a==r.size)return M.ROUTE_FAILED_NO_DATA_START}if(e&&null!=this.Bs&&0<this.Bs.Dr.length){for(var w=!1,_=0;_<this.Bs.Dr.length;_++){var m=this.Bs.Dr[_],g=this.Bs.Fr[_];g!=hi.NaviEntranceType_EXIT&&g!=hi.NaviEntranceType_ACCESS||(this.Vo(this.Xs,this.ds,m),w=!0)}if(!w)return M.ROUTE_FAILED_NO_DATA_START}},xo:function(t,n){var i=this;this.ys=this.Eo(this.Hs,t);var r=null,e=!0,r=null!=this.Gs&&this.Gs.pass==hi.NaviModelPassType_PASS_THROUGH&&0==this.Gs.Dr.length?this.Bo(this.Hs,t,n,30,this.Gs):this.Bo(this.Hs,t,n);if(null==this.Gs&&(e=!1),0<r.size){var s,e=!1,o=sr(r);try{for(o.s();!(s=o.n()).done;)for(var u=s.value[1],h=0;h<u.length;h++)0!=u[h].Ls.wr&&(e=!0)}catch(t){o.e(t)}finally{o.f()}var f,a=0,c=!1,l=[],v=sr(r);try{for(v.s();!(f=v.n()).done;){var d,y=f.value[1],b=y[0].Ls,p=this.Go(this.Hs,t,b,y,this.Gs);0==p.length?a++:Math.abs(p[0].Zo)>lt.H()?l.push.apply(l,er(p)):(c=!0,d=this.Wo(this.Hs,p[0].nt,p[0].Ls),this.Vo(this.Hs,this.ys,d))}}catch(t){v.e(t)}finally{v.f()}if(c||l.forEach(function(t){t=i.Wo(i.Hs,t.nt,t.Ls);i.Vo(i.Hs,i.ys,t)}),a==r.size)return M.ROUTE_FAILED_NO_DATA_DEST}if(e&&null!=this.Gs&&0<this.Gs.Dr.length){for(var w=!1,_=0;_<this.Gs.Dr.length;_++){var m=this.Gs.Dr[_],g=this.Gs.Fr[_];g!=hi.NaviEntranceType_EXIT&&g!=hi.NaviEntranceType_ACCESS||(this.Vo(this.Hs,this.ys,m),w=!0)}if(!w)return M.ROUTE_FAILED_NO_DATA_DEST}},ch:function(t,n,i){var r=this,e=null,s=!0,o={x:(t=t instanceof Array&&2==t.length?{x:t[0],y:t[1]}:t).x,y:t.y},u=this.vs.Ue(t),h=this.vs.Be(t),f=this.Eo(h,t);if(f.Eh=void 0!==i&&i,Object.assign(n,f),null==u&&(s=!1),0<(e=null!=u&&u.pass==hi.NaviModelPassType_PASS_THROUGH&&0==u.Dr.length?this.Bo(h,t,o,30,u):this.Bo(h,t,o)).size){var a,s=!1,c=sr(e);try{for(c.s();!(a=c.n()).done;)for(var l=a.value[1],v=0;v<l.length;v++)0!=l[v].Ls.wr&&(s=!0)}catch(t){c.e(t)}finally{c.f()}var d,y=0,b=!1,p=[],w=sr(e);try{for(w.s();!(d=w.n()).done;){var _,m=d.value[1],g=m[0].Ls,x=this.Go(h,t,g,m,u);0==x.length?y++:Math.abs(x[0].Zo)>lt.H()?p.push.apply(p,er(x)):(b=!0,_=this.Wo(h,x[0].nt,x[0].Ls),this.Vo(h,n,_))}}catch(t){w.e(t)}finally{w.f()}if(b||p.forEach(function(t){t=r.Wo(h,t.nt,t.Ls);r.Vo(h,n,t)}),y==e.size)return!1}if(s&&null!=u&&0<u.Dr.length){for(var O=!1,j=0;j<u.Dr.length;j++){var E=u.Dr[j],T=u.Fr[j];T!=hi.NaviEntranceType_EXIT&&T!=hi.NaviEntranceType_ACCESS||(this.Vo(h,n,E),O=!0)}if(!O)return!1}return!0},Ms:function(){var t=this.Yo(this.ds.Bt);t&&(this.ko(this.Xs,t,hi.NaviRoadHinderType_HINDER_GENERAL),this.to.push({Ro:this.Xs,Ds:t}));t=this.Yo(this.ys.Bt);if(t&&(this.ko(this.Hs,t,hi.NaviRoadHinderType_HINDER_GENERAL),this.to.push({Ro:this.Hs,Ds:t})),this.zs=[],this.Xs==this.Hs){var n=this.Ku.get(this.Xs),i=n.Ms(this.ds,this.ys,this.ws);if(i!=M.ROUTE_SUCCESS)return i;var r=n.ks();this.zs=[],r.reverse(),(i=this.zs).push.apply(i,er(r))}else{if(-1!=this.Xs&&-1==this.Hs){var n=this.zo(this.ds.Bt,this.Xs,hi.NaviEntranceType_EXIT),i=this.Ku.get(this.Xs),r=i.Ms(this.ds,n,this.ws);if(r!=M.ROUTE_SUCCESS)return r;var e=i.ks(e),i=this.Ku.get(-1);if((r=i.Ms(n,this.ys,this.ws))!=M.ROUTE_SUCCESS)return r;r=i.ks();e.reverse(),r.reverse(),(i=this.zs).push.apply(i,er(e)),(e=this.zs).push.apply(e,er(r))}if(-1==this.Xs&&-1!=this.Hs){var s=this.zo(this.ys.Bt,this.Hs,hi.NaviEntranceType_ENTRANCE),o=this.Ku.get(this.Hs),u=o.Ms(s,this.ys,this.ws);if(u!=M.ROUTE_SUCCESS)return u;var h=o.ks(),o=this.Ku.get(-1);if((u=o.Ms(this.ds,s,this.ws))!=M.ROUTE_SUCCESS)return u;s=o.ks();s.reverse(),h.reverse(),(u=this.zs).push.apply(u,er(s)),(o=this.zs).push.apply(o,er(h))}if(-1!=this.Xs&&-1!=this.Hs){var u=this.zo(this.ds.Bt,this.Xs,hi.NaviEntranceType_EXIT),s=this.Ku.get(this.Xs),o=s.Ms(this.ds,u,this.ws);if(o!=M.ROUTE_SUCCESS)return o;var f=s.ks(f),h=this.zo(this.ys.Bt,this.Hs,hi.NaviEntranceType_ENTRANCE),s=this.Ku.get(this.Hs);if((o=s.Ms(h,this.ys,this.ws))!=M.ROUTE_SUCCESS)return o;var a=s.ks(a),s=this.Ku.get(-1);if((o=s.Ms(u,h,this.ws))!=M.ROUTE_SUCCESS)return o;o=s.ks();f.reverse(),o.reverse(),a.reverse(),(s=this.zs).push.apply(s,er(f)),(f=this.zs).push.apply(f,er(o)),(o=this.zs).push.apply(o,er(a))}}return M.ROUTE_SUCCESS},Xo:function(t,n,i){for(var r=0;r<n;r++)if(null!=t[r]&&t[r].kn==i)return r;return-1},jh:function(t){for(var n=this.vs.Yr,i=0;i<n.length;i++){var r=n[i];if(r.Nr(t))return r.kn}return-1},yo:function(){for(var t=this.vs.Yr,n=0;n<t.length;n++){var i=t[n],r=this.Ho(this.vs,i);this.Ws.set(i.kn,r)}this.Ws.set(-1,this.vs);var e,s=sr(this.Ws);try{for(s.s();!(e=s.n()).done;){var o=e.value;o[1].ie(),this.Ku.set(o[0],new Ii(o[1]))}}catch(t){s.e(t)}finally{s.f()}},Ho:function(t,n){if(t&&n){for(var i,r=0,e=0,s=t.Gr.length,o=t.Br.length,u=t.Gr,h=t.Br,f=0,a=new Int8Array(s),c=0;c<s;c++)u[c]&&u[c].wr!=hi.NaviRoadEntry_FORBID&&(i=u[c],r=n.contain(i.ar),e=n.contain(i.lr),0==r&&0==e||(f=!0),1==r&&1==e&&(a[c]=1),1==r&&0==e&&(a[c]=2),0==r&&1==e&&(a[c]=3),0==r&&0==e&&(a[c]=4),2==r&&0==e&&(a[c]=6),2==r&&1==e&&(a[c]=7),0==r&&2==e&&(a[c]=8),1==r&&2==e&&(a[c]=9));if(0==f)return null;for(var l,v,d,y,b,p,w=new Array(o),_=new Array(s),m=0,g=new Int8Array(o),x=a.length,O=0,j=x;O<j;O++)0!=a[O]&&6!=a[O]&&8!=a[O]&&1!=a[O]&&u[O]&&(v=(l=u[O]).wr,b=[l.kn],2==a[O]||9==a[O]?(d=null,d=2==a[O]?n.bt(l.ar,l.lr):Object.assign({},l.lr),(p=new fi).kn=this.vs.Ee(),p.Qi=hi.NaviNodeType_COMMON,p.$i=hi.NaviLiftType_NULL,p.entranceType=hi.NaviEntranceType_ACCESS,p.Bt=Object.assign({},d),(y=new yi).setRoad(l),y.kn=this.vs.Te(),b.push(y.kn),p.segLinks=b,(d=new fi).setNode(p),v==hi.NaviRoadEntry_FORWARD?d.entranceType=hi.NaviEntranceType_EXIT:v==hi.NaviRoadEntry_BACK&&(d.entranceType=hi.NaviEntranceType_ENTRANCE),n.Ar.push(d),m=this.Xo(h,o,y.cr),y.lr=Object.assign({},d.Bt),y.vr[1]=Object.assign({},d.Bt),y.cr=d.kn,y.gr(),_[O]=y,w[m]=d,w[m=this.Xo(h,o,y.fr)]=h[m],w[m].segLinks.splice(w[m].segLinks.indexOf(l.kn),1,y.kn),(y=new fi).setNode(p),l.fr=y.kn,l.ar=Object.assign({},y.Bt),l.vr[0]=Object.assign({},y.Bt),l.gr(),h[m].segLinks.splice(h[m].segLinks.indexOf(l.kn),1),h.push(y),g[m]=2):3!=a[O]&&7!=a[O]||(p=null,p=3==a[O]?n.bt(l.ar,l.lr):Object.assign({},l.ar),(y=new fi).kn=this.vs.Ee(),y.Qi=hi.NaviNodeType_COMMON,y.$i=hi.NaviLiftType_NULL,y.entranceType=hi.NaviEntranceType_ACCESS,y.Bt=Object.assign({},p),(p=new yi).setRoad(l),p.kn=this.vs.Te(),b.push(p.kn),y.segLinks=b,(b=new fi).setNode(y),v==hi.NaviRoadEntry_FORWARD?b.entranceType=hi.NaviEntranceType_ENTRANCE:v==hi.NaviRoadEntry_BACK&&(b.entranceType=hi.NaviEntranceType_EXIT),n.Ar.push(b),m=this.Xo(h,o,p.fr),p.ar=Object.assign({},b.Bt),p.vr[0]=Object.assign({},b.Bt),p.fr=b.kn,p.gr(),_[O]=p,w[m]=b,w[m=this.Xo(h,o,p.cr)]=h[m],w[m].segLinks.splice(w[m].segLinks.indexOf(l.kn),1,p.kn),(p=new fi).setNode(y),l.cr=p.kn,l.lr=Object.assign({},p.Bt),l.vr[1]=Object.assign({},p.Bt),l.gr(),h[m].segLinks.splice(h[m].segLinks.indexOf(l.kn),1),h.push(p),g[m]=2));for(var E,T=0,M=x;T<M;T++)1==a[T]&&((E=u[T])&&(_[T]=E,2!=g[m=this.Xo(h,o,E.fr)]&&(w[m]=h[m],g[m]=1),2!=g[m=this.Xo(h,o,E.cr)]&&(w[m]=h[m],g[m]=1),u[T]=null));for(var k=0;k<o;k++)1==g[k]&&(h[k]=null);for(var x=new ji(w,_,!0,1),R=[],A=t.Zr,S=0;S<A.length;S++){var N=A[S];N&&this.Qo(N,n)&&R.push(N)}return(t=x.Zr).push.apply(t,R),x}},bo:function(){var t,n=sr(this.Ws);try{for(n.s();!(t=n.n()).done;)for(var i=t.value,r=i[0],e=i[1].Zr,s=0;s<e.length;s++){var o,u=e[s];hi.NaviModelPassType_PASS_NOT_THROUGH==u.pass&&((o=this.$s.get(r))||(o=[],this.$s.set(r,o)),o.push(u))}}catch(t){n.e(t)}finally{n.f()}},po:function(){var t,n=sr(this.Ws);try{for(n.s();!(t=n.n()).done;)for(var i=t.value,r=i[0],e=i[1].Zr,s=0;s<e.length;s++){var o,u=e[s];hi.NaviModelPassType_NOT_PASS==u.pass&&((o=this.Js.get(r))||(o=[],this.Js.set(r,o)),o.push(u))}}catch(t){n.e(t)}finally{n.f()}},wo:function(){var t,n=sr(this.$s);try{for(n.s();!(t=n.n()).done;)for(var i=t.value,r=i[0],e=i[1],s=this.Ws.get(r).Gr,o=0;o<e.length;o++){for(var u=e[o],h=0;h<s.length;h++){var f,a=s[h].Or();lt.ut(a,u.jr,u.Er)&&(s[h].Si=s[h].Si*this.eo,(f=this.Ks.get(u.kn))||(f=[],this.Ks.set(u.kn,f)),f.push(s[h]))}this.ko(r,u,hi.NaviRoadHinderType_HINDER_HIGH)}}catch(t){n.e(t)}finally{n.f()}},fh:function(){for(var t=0;t<this.hh.length;t++){var n=new fi;this.ch(this.hh[t],n,!0)?(this.ih.push(n),this.rh.Ou({num:this.rh.pu(),id:n.kn,idx:this.vs.Le(n.kn),node:n})):this.nh.push(this.hh[t])}},_o:function(){var t,n=sr(this.Js);try{for(n.s();!(t=n.n()).done;)for(var i=t.value,r=i[0],e=i[1],s=this.Ws.get(r).Gr,o=0;o<e.length;o++)for(var u=e[o],h=0;h<s.length;h++){var f=s[h],a=f.wr,c=f.Or();if(lt.ut(c,u.jr,u.Er-1)){if(f.Si=Number.MAX_VALUE,a==hi.NaviRoadEntry_BOTH||a==hi.NaviRoadEntry_FORWARD){var l=this.Ws.get(r).Xr.get(f.fr);if(l)for(var v=0;v<l.length;v++)l[v].Ie==f.cr&&(l[v].Si=f.Si)}if(f.wr==hi.NaviRoadEntry_BOTH||f.wr==hi.NaviRoadEntry_BACK){var d=this.Ws.get(r).Xr.get(f.cr);if(d)for(var y=0;y<d.length;y++)d[y].Ie==f.fr&&(d[y].Si=f.Si)}}}}catch(t){n.e(t)}finally{n.f()}},ko:function(t,n,i){var r=this.Ks.get(n.kn);if(r){if(hi.NaviRoadHinderType_HINDER_HIGH==i)for(var e=0;e<r.length;e++){var s=r[e];if(s.gr(),s.Si=r.length*this.eo,s.wr==hi.NaviRoadEntry_BOTH||s.wr==hi.NaviRoadEntry_FORWARD){var o=this.Ws.get(t).Xr.get(s.fr);if(o)for(var u=0;u<o.length;u++)o[u].Ie==s.cr&&(o[u].Si=s.Si)}if(s.wr==hi.NaviRoadEntry_BOTH||s.wr==hi.NaviRoadEntry_BACK){var h=this.Ws.get(t).Xr.get(s.cr);if(h)for(var f=0;f<h.length;f++)h[f].Ie==s.fr&&(h[f].Si=s.Si)}}if(hi.NaviRoadHinderType_HINDER_GENERAL==i)for(var a=0;a<r.length;a++){var c=r[a];if(c.gr(),c.wr==hi.NaviRoadEntry_BOTH||c.wr==hi.NaviRoadEntry_FORWARD){var l=this.Ws.get(t).Xr.get(c.fr);if(l)for(var v=0;v<l.length;v++)l[v].Ie==c.cr&&(l[v].Si=c.Si)}if(c.wr==hi.NaviRoadEntry_BOTH||c.wr==hi.NaviRoadEntry_BACK){var d=this.Ws.get(t).Xr.get(c.cr);if(d)for(var y=0;y<d.length;y++)d[y].Ie==c.fr&&(d[y].Si=c.Si)}}}},zo:function(t,n,i){var r=this.vs.getZone(n);if(null==r)return null;for(var e=this.Ws.get(n).je(t,void 0),s=(e.area,Number.MAX_VALUE),o=null,u=0;u<r.Ar.length;u++){var h,f=r.Ar[u],a=lt.ft(f.Bt,t);f.entranceType!=hi.NaviEntranceType_ACCESS&&f.entranceType!=i||a<s&&((h=this.$o(n,f.Bt))!=e&&h.pass==hi.NaviModelPassType_PASS_NOT_THROUGH||(s=a,o=f))}return o},$o:function(t,n){for(var i=null,t=this.Ws.get(t),r=Number.MAX_VALUE,e=Number.MAX_VALUE,s=null,o=t.Zr,u=0;u<o.length;u++){var h,f=o[u];(h=lt.ut(n,f.jr,f.jr.length-1))<e&&(e=h,s=f),this.uo>h&&((h=f.area)<r&&(r=h,i=f))}return null==i?s:i},Qo:function(t,n){if(t.bb.isSeparate(n.bb))return!1;t=t.Nt;return!!lt.ut(t,n.jr,n.Er)},Wo:function(t,n,i){var r=this.th.find(function(t){return t==i.fr}),e=this.th.find(function(t){return t==i.cr});null==r&&this.th.push(i.fr),null==e&&this.th.push(i.cr);for(var s=this.ro,o=null,u=0;u<s.length;u++)if(s[u].Ko==i){o=s[u];break}if(null==o)(o={}).Ko=i,s.push(o);else for(;null!=o.tu;)var h=o.tu.Ko,o=lt.st(n,h.ar,h.lr)?o.tu:o.nu;i=o.Ko;var f=new fi;f.kn=this.Th(),f.Bt=n;var a=new yi;a.kn=this.Th(),a.fr=i.fr,a.ar=i.ar,a.cr=f.kn,a.lr=f.Bt,a.vr=[i.ar,f.Bt];var c=new yi;c.kn=this.Th(),c.fr=f.kn,c.ar=f.Bt,c.cr=i.cr,c.lr=i.lr,c.vr=[f.Bt,i.lr],this.no.push(a),this.no.push(c);r={};r.Ko=a;e={};e.Ko=c,o.tu=r,o.nu=e,f.tempType=1,a.tempType=1,c.tempType=1,a.gr(),c.gr(),a.wr=i.wr,c.wr=i.wr;e=this.Ws.get(t);e.Br.push(f),e.Gr.push(a),e.Gr.push(c);var l,t=this.Ku.get(t).vs;return t.Jr.set(f.kn,e.Br.length-1),i.wr==hi.NaviRoadEntry_BOTH&&((e=[]).push({Ie:i.fr,Si:a.Si}),e.push({Ie:i.cr,Si:c.Si}),t.Xr.set(f.kn,e),(e=t.Xr.get(i.fr))||t.Xr.set(i.fr,e=[]),e.push({Ie:f.kn,Si:a.Si}),(e=t.Xr.get(i.cr))||t.Xr.set(i.cr,e=[]),e.push({Ie:f.kn,Si:c.Si})),i.wr==hi.NaviRoadEntry_FORWARD&&((l=[]).push({Ie:i.cr,Si:c.Si}),t.Xr.set(f.kn,l),(l=t.Xr.get(i.fr))||t.Xr.set(i.fr,l=[]),l.push({Ie:f.kn,Si:a.Si})),i.wr==hi.NaviRoadEntry_BACK&&((l=[]).push({Ie:i.fr,Si:a.Si}),t.Xr.set(f.kn,l),(l=t.Xr.get(i.cr))||t.Xr.set(i.cr,l=[]),l.push({Ie:f.kn,Si:c.Si})),f},iu:function(t,n){for(var i=n.length-1;0<=i;i--)if(n[i].kn&&0<n[i].kn)return n.splice(i+1,0,t),i+1;return-1},Uo:function(t,n,i,r){if(r)return this.Wo(t,n,i);var e=this.Ws.get(t),s=new fi;s.kn=e.Ee(),s.Bt=n;var o=new yi;o.kn=e.Te(),o.fr=i.fr,o.ar=i.ar,o.cr=s.kn,o.lr=s.Bt,o.vr=[i.ar,s.Bt];r=new yi;r.kn=e.Te(),r.fr=s.kn,r.ar=s.Bt,r.cr=i.cr,r.lr=i.lr,r.vr=[s.Bt,i.lr];t=[];t.push(o.kn),t.push(r.kn),s.segLinks=t,o.gr(),r.gr(),o.wr=i.wr,r.wr=i.wr;var u,n=e.Br,t=e.Gr,n=this.iu(s,n);return this.iu(o,t),this.iu(r,t),e.Jr.set(s.kn,n),i.wr==hi.NaviRoadEntry_BOTH&&((n=[]).push({Ie:i.fr,Si:o.Si}),n.push({Ie:i.cr,Si:r.Si}),e.Xr.set(s.kn,n),(n=e.Xr.get(i.fr))||e.Xr.set(i.fr,n=[]),n.push({Ie:s.kn,Si:o.Si}),(n=e.Xr.get(i.cr))||e.Xr.set(i.cr,n=[]),n.push({Ie:s.kn,Si:r.Si})),i.wr==hi.NaviRoadEntry_FORWARD&&((u=[]).push({Ie:i.cr,Si:r.Si}),e.Xr.set(s.kn,u),(u=e.Xr.get(i.fr))||e.Xr.set(i.fr,u=[]),u.push({Ie:s.kn,Si:o.Si})),i.wr==hi.NaviRoadEntry_BACK&&((u=[]).push({Ie:i.fr,Si:o.Si}),e.Xr.set(s.kn,u),(u=e.Xr.get(i.cr))||e.Xr.set(i.cr,u=[]),u.push({Ie:s.kn,Si:r.Si})),s},ru:function(t){if(null!=t){for(var n=this.Ws.get(t),i=n.Br.length-1;0<=i;i--){var r=n.Br[i];if(null==r||0<=r.kn)break;n.Br.splice(i,1)}for(var e=n.Gr.length-1;0<=e;e--){var s=n.Gr[e];if(null==s||0<=s.kn)break;n.Gr.splice(e,1)}}},eu:function(t,n){var i=t.get(n);if(i)for(var r=0;r<i.length;r++)i[r].Ie<0&&(i.splice(r,1),r--)},su:function(t,n){for(var i=t.get(n),r=0;r<i.length;r++)this.eu(t,i[r].Ie);t.delete(n)},Mh:function(t,n,i,r,e,s){e.Ps=Number.MAX_VALUE,e.Fs=!1,e.Zo=i;for(var o=Number.MAX_VALUE,u={},h=this.Ws.get(t),f=0;f<h.Gr.length;f++){var a,c=h.Gr[f];null!=c&&(c.kn<0||!lt.Tt(n,i,c.ar,c.lr,u)||(a=lt.ft(n,u))<o&&(o=a,e.nt=Object.assign({},u),e.ft=o,e.Ls=c,e.Fs=!0))}if(!e.Fs)return!1;for(var h=this.Ws.get(-1),l={},v=0;v<h.Zr.length;v++){var d=h.Zr[v];if(null!=d&&d!=s&&(hi.NaviModelPassType_DECORATE!=d.pass&&(null==s||!lt.ut(s.Nt,d.jr,d.jr.length-1))))for(var y=d.jr.length,b=0;b<y-1;b++)if(lt.Tt(n,i,d.jr[b],d.jr[b+1],l)){var p=lt.ft(n,l);if(p<o)return o=p,e.Ds=d,e.ft=Number.MAX_VALUE,e.Fs=!1,e.Cs=hi.NaviObstructType_MODEL,!1}}for(var w={},_=h.Wr,m=0;m<_.length;m++){for(var g=_[m],x=_[m].Lr,O=0;O<x.length;O++)for(var j=x[O],E=0;E<j.length-1;E++)if(lt.Tt(n,i,j[E],j[E+1],w)){var T=lt.ft(n,w);if(T<o)return o=T,e.Ds=g,e.ft=Number.MAX_VALUE,e.Fs=!1,e.Cs=hi.NaviObstructType_EXTENT,!1}for(var M=_[m].jr,k=0;k<M.length-1;k++)if(lt.Tt(n,i,M[k],M[k+1],w)){var R=lt.ft(n,w);if(R<o)return o=R,e.Ds=g,e.ft=Number.MAX_VALUE,e.Fs=!1,e.Cs=hi.NaviObstructType_EXTENT,!1}}return e.Ps=lt.ft(e.nt,r),!0},uu:function(t,n){return t.Ps-n.Ps},hu:function(t,n){return n.Zo-t.Zo},To:function(t){t=this.Ws.get(t);if(t){for(var n=t.Br,i=t.Jr,r=n.length-1;0<=r;r--){var e=n[r];if(null==e||0<=e.kn)break;i.delete(e.kn),n.splice(r,1)}for(var s=t.Gr,o=t.Kr,u=s.length-1;0<=u;u--){var h=s[u];if(null==h||0<=h.kn)break;o.delete(h.kn),s.splice(u,1)}}},Mo:function(){var t,n=sr(this.Ku);try{for(n.s();!(t=n.n()).done;){var i,r=t.value[1],e=[],s=r.vs.Xr,o=sr(s);try{for(o.s();!(i=o.n()).done;){var u=i.value;u[0]<0&&e.push(u[0])}}catch(t){o.e(t)}finally{o.f()}for(var h=0;h<e.length;h++)this.su(r.vs.Xr,e[h]);for(var f=0;f<this.th.length;f++)this.eu(s,this.th[f])}}catch(t){n.e(t)}finally{n.f()}},Go:function(t,n,i,r,e){for(var s=[],o=0;o<r.length;o++)if(r[o].ft<lt.H())return s.push(r[o]),s;var u={x:0,y:0};if(lt.wt(n,i.ar,i.lr,u)&&this.au(n,u,{},e)){e={};return e.nt=u,e.Fs=!0,e.Ls=i,e.Zo=0,e.dist=lt.ft(n,u),s.push(e),s}for(var h={x:u.x-n.x,y:u.y-n.y},f=0;f<r.length;f++){var a=r[f],c={x:a.nt.x-n.x,y:a.nt.y-n.y},c=270<(c=lt.jt(c,h))?c-360:c;a.Zo=c}r.sort(this.hu);var l,v=null;if(r[r.length-1].Zo<0)return v=r[r.length-1],s.push(v),s;for(var d=0;d<r.length;d++)if(0<r[d].Zo)return v=r[d],0==d?s.push(v):(l=r[d-1],lt.ft(v.nt,i.ar)>lt.ft(l.nt,i.ar)?(s.push(l),s.push(v)):(s.push(v),s.push(l))),s;return s},cu:function(t,n,i,r,e,s){for(var o=e||30,u=0;u<360;u+=o){var h=new Ui;this.Mh(t,n,u,i,h,s),1==h.Fs&&r.push(h)}r.sort(this.uu)},Bo:function(t,n,i,r,e){var s=new Map,o=[];for(this.cu(t,n,i,o,r,e);0!=o.length;){var u=o[0],h=s.get(u.Ls.kn);h?h.push(u):((h=[]).push(u),s.set(u.Ls.kn,h)),o.splice(0,1)}return s},Eo:function(t,n){var i=new fi;i.kn=this.Th(),i.Bt=Object.assign({},n);t=this.Ws.get(t);return t.Br.push(i),t.Jr.set(i.kn,t.Br.length-1),i},lu:function(t,n,i){if(i)return this.Eo(t,n);i=new fi;i.kn=this.vs.Ee(),i.Bt=Object.assign({},n);n=this.Ws.get(t),t=n.Br,t=this.iu(i,t);return n.Jr.set(i.kn,t),i},au:function(t,n,i,r){for(var e,s=this.Ws.get(-1),o=0;o<s.Zr.length;o++)if(null!=(e=s.Zr[o])&&e!=r&&hi.NaviModelPassType_DECORATE!=e.pass)for(var u=e.jr,h=0;h<u.length-1;h++)if(lt.bt(t,n,u[h],u[h+1],i)){var f=lt.ft(t,i),a=lt.ft(n,i);if(!(f<=lt.H()||a<=lt.H()))return!1}for(var c=s.Wr,l=0;l<c.length;l++){for(var v=c[l],d=v.Lr,y=0;y<d.length;y++)for(var b=d[y],p=0;p<b.length-1;p++)if(lt.bt(t,n,b[p],b[p+1],i))return!1;for(var w=v.jr,_=0;_<w.length-1;_++)if(lt.bt(t,n,w[_],w[_+1],i))return!1}return!0},Vo:function(t,n,i,r,e,s){for(var o=0;o<this.io.length;o++){var u=this.io[o],h={};if(1==lt.bt(u.ar,u.lr,n.Bt,i.Bt,h)&&lt.ft(n.Bt,h)>lt.H()&&lt.ft(i.Bt,h)>lt.H())return null}void 0===r&&(r=hi.NaviRoadEntry_BOTH),void 0===e&&(e=!0),void 0===s&&(s=!0);var f=new yi;f.fr=n.kn,f.ar=n.Bt,f.cr=i.kn,f.lr=i.Bt,f.vr=[n.Bt,i.Bt],this.th.push(n.kn),this.th.push(i.kn),f.kn=e?this.Th():this.vs.Te(),f.wr=r,f.gr(),s&&this.io.push(f),this.Ws.get(t).Gr.push(f);var a,c,s=this.Ku.get(t);return hi.NaviRoadEntry_BOTH==r&&(t={Ie:i.kn,Si:f.Si},(a=s.vs.Xr.get(n.kn))?a.push(t):((a=[]).push(t),s.vs.Xr.set(n.kn,a)),t={Ie:n.kn,Si:f.Si},(a=s.vs.Xr.get(i.kn))?a.push(t):((a=[]).push(t),s.vs.Xr.set(i.kn,a))),hi.NaviRoadEntry_FORWARD==r&&(a={Ie:i.kn,Si:f.Si},(c=s.vs.Xr.get(n.kn))?c.push(a):((c=[]).push(a),s.vs.Xr(n.kn,c))),hi.NaviRoadEntry_BACK==r&&(c={Ie:n.kn,Si:f.Si},(r=s.vs.Xr.get(i.kn))?r.push(c):((r=[]).push(c),s.vs.Xr.set(i.kn,r))),f},Yo:function(t){var n=this.jh(t),i=this.$s.get(n);if(i)for(var r=0;r<i.length;r++){var e=i[r];if(lt.ut(t,e.jr,e.Er))return e}return null},Th:function(){return this.Qs--},kh:function(){var t=null;if(this.yh()){if(!(t=this.dh()))return!1;this.lh(t)}var n=[];if(this.Xi){var i=this.rh.ju("node",this.ys),r=this.rh.ju("node",this.ds);this.rh.Mu(),this.rh.Ou(i),this.rh.Ou(r)}else for(var e=0;e<this.ih.length;e++)n.push(this.ih[e].kn);this.gh();r=new rr(this.xh);return r.Vu(this.ds.kn).qu(this.ys.kn).Xu(n),r.Hu(),this.Hu=r.$u(),this.Oh(),this.yh()&&this.yh().ah(this.yh().vs.We(t.Wi)),this.rh=new Hi(["num","id","idx","node"]),this.Xi=!0}});var fr=f;function ar(t,n){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,n){if(t){if("string"==typeof t)return cr(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(i="Object"===i&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?cr(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){i&&(t=i);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,e=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw e}}}}function cr(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=new Array(n);i<n;i++)r[i]=t[i];return r}x=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.Rh=[]};Object.assign(x.prototype,{Ah:function(t){var n,i=0,r=ar(t);try{for(r.s();!(n=r.n()).done;)for(var e=n.value,s=e[1],o=s.Wr,u=0;u<o.length;u++){var h=o[u].kn,f=s.Ye(h),a=new fr(i++,f);a.Ai=e[0],this.Rh.push(a)}}catch(t){r.e(t)}finally{r.f()}},Sh:function(t){for(var n=0;n<this.Rh.length;n++)t&&t(this.Rh[n])},Si:function(){return this.Rh.length},_u:function(t){return this.Rh[t]},Nh:function(t,n){var i,r=this.Rh;for(i in r){var e=r[i];if(t==e.Ai&&e.wh(n))return e}return null},Ih:function(t){var n,i=this.Rh;for(n in i){var r=i[n];if(r.kn==t)return r}return null}});var lr=x;f=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.Lh=null,this.Dh=[]};Object.assign(f.prototype,{ei:function(t){if(0!=t.length){this.Lh=t[0];for(var n=this.Lh,i=1;i<t.length;i++)n._h(t[i]),n=t[i];n._h(null)}},Ph:function(t,n){var i=this.Lh;for(i.ah(t);i.yh();){if(!i.kh())return!1;this.Dh.push({Ai:i.Ai,In:i.$u()}),i=i.mh()}i.lh(n),i.kh(),this.Dh.push({Ai:i.Ai,In:i.$u()})}});var vr=f;function dr(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}x=function(){function e(t,n,i,r){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.Fh=t,this.Ch=n,this.Uh=i,this.Rh=r,this.Bh={}}var t,n,i;return t=e,(n=[{key:"routes",get:function(){return this.Dh},set:function(t){this.Dh=t}},{key:"failInsertedPts",get:function(){return this.Bh}}])&&dr(t.prototype,n),i&&dr(t,i),e}();Object.assign(x.prototype,{Gh:function(){for(var t={},n=0;n<this.Uh.length;n++){var i=this.Uh[n],r=this.Rh.Nh(i.level,i);r?(t[r.kn]||(t[r.kn]=[]),t[r.kn].push(i)):(null==this.Bh[i.level]&&(this.Bh[i.level]=[]),this.Bh[i.level].push(i))}this.Uh=t},Zh:function(){this.Wh=[];for(var t=0;t<this.Rh.Si();t++)for(var n,i,r=this.Rh._u(t),e=0;e<this.Rh.Si();e++)t!=e&&(n=this.Rh._u(e),(i=r.ph(n)).related&&this.Wh.push([r.kn,n.kn,i.dist]))},Vh:function(){this.ui(),this.Zh(),this.Gh();var t,n=[];for(t in this.Uh)n.push(parseInt(t));var i=this.Rh.Nh(this.Fh.level,this.Fh).kn,r=this.Rh.Nh(this.Ch.level,this.Ch).kn,e=new rr(this.Wh);e.Vu(i),e.qu(r);i=n.indexOf(i);-1!=i&&n.splice(i,1),-1!=(i=n.indexOf(r))&&n.splice(i,1),e.Xu(n),e.Hu();var s=e.$u();if(2==s.route.length&&s.route[0]==s.route[1]&&(s.route=[s.route[0]]),s.dist!=1/0){for(var o=[],u=0;u<s.route.length;u++){var h=this.Rh.Ih(s.route[u]);if(-1==o.indexOf(h)&&h.uh(this.Uh[s.route[u]]),o.push(h),0<h.nh.length){null==this.Bh[h.fid]&&(this.Bh[h.fid]=[]);for(var f=0;f<h.nh.length;f++)this.Bh[h.fid].push(h.nh[f])}}this.Yh=new vr,this.Yh.ei(o),this.Yh.Ph(this.Fh,this.Ch),this.Dh=this.Yh.Dh}},ui:function(){this.Rh.Sh(function(t){t.ui(),t.sh=new $i,t.ds=null,t.ys=null,t.Xi=!1,t.ih=[],t.nh=[]})}});var yr=x;function br(t){return function(t){if(Array.isArray(t))return _r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||wr(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pr(t,n){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=wr(t))||n&&t&&"number"==typeof t.length){i&&(t=i);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,e=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw e}}}}function wr(t,n){if(t){if("string"==typeof t)return _r(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(i="Object"===i&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_r(t,n):void 0}}function _r(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=new Array(n);i<n;i++)r[i]=t[i];return r}function mr(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}f=function(){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),this.Yt=t,this.ar=null,this.qh=null,this.lr=null,this.Xh=null,this.Hh=null,this.ws=s.MODULE_SHORTEST,this.Qh=p.PRIORITY_DEFAULT,this.$h=new Map,this.Jh=null,this.Kh=new Map,this.tf=new Map,this.nf=[],this.if=[],this.rf=[],this.ef=[],this.In=[],this.sf=1,this.uf=.1,this.hf=1,this.ff=10,this.af=.1,this.cf=1,this.lf=10,this.vf=.1,this.df=1,this.yf=10,this.es=null,this.bf=null,this.pf=null,this.wf=!1,this.Bs=null,this.Gs=null,this._f=null,this.mf=[],this.vo=!0,this.do=new Map}var t,i,r;return t=n,(i=[{key:"assginedInfos",get:function(){return this.mf},set:function(t){this.mf=t}},{key:"passPts",set:function(t){this.Uh=t}},{key:"failedInsertedPts",get:function(){return this.Bh}},{key:"toDoors",get:function(){return this.wf},set:function(t){this.wf=t}},{key:"obstruct",get:function(){return this.vo},set:function(t){this.vo=t}}])&&mr(t.prototype,i),r&&mr(t,r),n}();Object.assign(f.prototype,{Oi:function(t){t&&t.scene&&t.floors&&(this.es=t.scene,this.bf=new Ni,0!=(t=t.floors).size&&(this.gf(t),this.xf(),this.pf=new lr,this.pf.Ah(this.$h)))},yn:function(){this.Yt=null,this.es=null,this.bf&&(this.bf.yn(),this.bf=null);var t,n=pr(this.$h);try{for(n.s();!(t=n.n()).done;)t.value[1].yn()}catch(t){n.e(t)}finally{n.f()}this.$h.clear(),this.$h=null,this.Jh.yn(),this.Jh=null;var i,r=pr(this.Kh);try{for(r.s();!(i=r.n()).done;)i.value[1].yn()}catch(t){r.e(t)}finally{r.f()}this.Kh.clear(),this.Kh=null,this.tf.clear(),this.tf=null,this.nf=null,this.if=null,this.rf=null,this.ef=null,this.In=null},Of:function(t,n){this.ui();for(var i=new Map,r=0;r<this.Uh.length;r++){var e=this.Uh[r].order;void 0===e&&(e=Number.MAX_VALUE);var s=i.get(e);s||i.set(e,s=[]),s.push(this.Uh[r])}var o=Array.from(i);o.sort(function(t,n){return t[0]-n[0]});var u=t,h=n,f=0;this.In=[],this.Bh={};for(var a,c=null,l=null,v=0;v<o.length;v++){var d=o[v][1];this.ui();var y,b,p=new yr(u,h,d,this.pf);for(y in p.Vh(),c=p.routes,a=p.failInsertedPts,this.jf(p.failInsertedPts)!=d.length&&(p=this.Ef(c),(d=this.In).push.apply(d,br(p[0])),p=(d=(l=p[1])[0]).In,u=Object.assign({level:d.Ai,x:t.x,y:t.y},p[0].Bt),f++),a)this.Bh[y]||(this.Bh[y]=[]),(b=this.Bh[y]).push.apply(b,br(a[y]))}return 0==f?this.In=c:(n=this.In).push.apply(n,br(l)),this.In=this.Tf(this.In),M.ROUTE_SUCCESS},Tf:function(t){for(var n,i=-1,r=[],e=null,s=0;s<t.length;s++)i!=t[s].Ai?(e=t[s],r.push(e),i=t[s].Ai):(n=e.In).push.apply(n,br(t[s].In));return r},jf:function(t){if(0==Object.keys(t).length)return 0;var n,i=0;for(n in t)i+=t[n].length;return i},Ef:function(t){for(var n=[-1,-1],i=t.length-1;0<=i;i--){for(var r=t[i].In,e=r.length-1;0<=e;e--)if(r[e].Eh){n[1]=e;break}if(-1!=n[1]){n[0]=i;break}}var s=[];if(-1!=n[0]&&-1!=n[1]){s[0]=[],s[1]=[];for(var o=0;o<t.length;o++){var u=t[o];if(o<n[0])s[0].push(u);else if(o>n[0])s[1].push(u);else{for(var h=u.In,f=[{Ai:u.Ai,In:[]},{Ai:u.Ai,In:[]}],a=0;a<h.length;a++)(a<n[1]?f[0]:f[1]).In.push(h[a]);s[0].push(f[0]),s[1].push(f[1])}}}else s.push(t);return s},Mf:function(t,n){return this.ui(),this.kf=new yr(t,n,this.Uh,this.pf),this.kf.Vh(),this.In=this.kf.routes,this.Bh=this.kf.failInsertedPts,M.ROUTE_SUCCESS},Rf:function(t){for(var n=0,i=0;i<t.length-1;i++)n+=Math.abs(t[i].Ai-t[i+1].Ai);return{dist:n,seq:t}},Af:function(t){for(var n=[],i=0;i<t.length;i++)n.push(this.Rf(t[i]));return n.sort(function(t,n){return t.dist-n.dist}),n},Sf:function(t){t.sort(function(t,n){return t.seq.length-n.seq.length})},jo:function(){for(var t in this.mf){var n=parseInt(t),t=this.Kh.get(n);t.assignedPts=this.mf[n],t.jo(),this.In.push({Ai:n,In:t.ks()})}},Hu:function(t,l,n,v,d,i){var y=this;this.ui();var r=this.Kh.get(t);if(!r)return M.ROUTE_FAILED_NO_DATA_START;var e=r.Fo(l);if(!e)return M.ROUTE_FAILED_NO_DATA_START;this.Bs=e.Ds;r=this.Kh.get(n);if(!r)return M.ROUTE_FAILED_NO_DATA_DEST;r=r.Fo(v);if(!r)return M.ROUTE_FAILED_NO_DATA_DEST;this.Gs=r.Ds,this.In=[],this.qh=t,this.ar=l,this.Xh=n,this.lr=v;var s=e.dr,o=r.dr,b=e.Ds,p=r.Ds;if(0==s||0==o)return M.ROUTE_FAILED_CANNOT_ARRIVE;var w=null;this.ws=d,this.Nf(i);function u(){y.In=[];for(var t=[],n=[y.ar],i=0;i<y.rf.length-1;i++){var r=[],e=[];if(!y.If(y.rf[i],y.rf[i+1],n[n.length-1],r,e))return M.ROUTE_FAILED_CANNOT_ARRIVE;for(var s=!1,o=0;o<r.length;o++){var u,h=r[o].hr,f=e[o].hr,a=r[o].Ai,c=e[o].Ai;if(w=0==i?((u=y.Kh.get(a)).Bs=b,u.Ms(l,h,d)):y.Kh.get(a).Ms(t[t.length-1],h,d),M.ROUTE_SUCCESS==w){h=y.Kh.get(a).ks();if(y.In.push({Ai:a,In:h}),t.push(f),n.push(f.Bt),s=!0,y.rf.length-2==i){h=y.Kh.get(c);if(h.Gs=p,w=h.Ms(f,v,d),M.ROUTE_SUCCESS!=w){y.In.splice(y.In.length-1,1),s=!1,n.splice(n.length-1,1),t.splice(t.length-1,1);continue}h=h.ks();y.In.push({Ai:c,In:h})}if(M.ROUTE_SUCCESS==w)break}}if(!s)return M.ROUTE_FAILED_CANNOT_ARRIVE}return M.ROUTE_SUCCESS}if(t==n&&s==o){var h=this.Kh.get(t);if(h.Bs=b,h.Gs=p,(w=h.Ms(l,v,d))!=M.ROUTE_SUCCESS){for(var f=[],a=0;a<this.nf.length;a++)this.nf[a].Ai==t&&this.nf[a].dr==s&&f.push(this.nf[a]);i=this.Lf(f,f[0],1);if(0==i.length)return M.ROUTE_FAILED_OUTLINE;for(var c=this.Af(i),_=0;_<c.length;_++){this.rf=c[_].seq;var m=u();if(m==M.ROUTE_SUCCESS)return m}return M.ROUTE_FAILED_CANNOT_ARRIVE}h=h.ks();this.In.push({Ai:t,In:h})}else{if(this.Df(t,s,n,o)!=M.ROUTE_SUCCESS)return M.ROUTE_FAILED_OUTLINE;this.rf.reverse();h=u();if(M.ROUTE_SUCCESS!=h){for(var g=null,x=null,O=0;O<this.nf.length;O++)this.nf[O].Ai==t&&this.nf[O].dr==s&&(g=this.nf[O]),this.nf[O].Ai==n&&this.nf[O].dr==o&&(x=this.nf[O]);h=[];if(h.push([g]),this.Pf(g,x,h),0==h.length)return M.ROUTE_FAILED_OUTLINE;var j=this.Af(h);this.Sf(j);for(var E=0;E<j.length;E++){this.rf=j[E].seq;var T=u();if(T==M.ROUTE_SUCCESS)return T}return M.ROUTE_FAILED_CANNOT_ARRIVE}}return M.ROUTE_SUCCESS},Ff:function(){if(this.wf&&(this._f=null,this.Gs&&0<this.In.length)){for(var t,n=this.In[this.In.length-1].In,i={x:-1,y:-1},r=n.length-1;0<r;r--){var e=n[r],s=n[r-1];if(lt.Et(e.Bt,s.Bt,this.Gs.jr,i)){t=r;break}}n.splice(t);var o=new fi;o.kn=-1,o.Bt=i,n.push(o),this._f=i}for(var u=[],h=0;h<this.In.length;h++)1<this.In[h].In.length&&u.push(this.In[h]);for(var f=[],a=0;a<u.length;a++){this.Cf(u[a]);for(var c=u[a],l=c.Ai,v=c.In,d=[],y=0,b=0;b<v.length;b++)d.push(v[b].Bt),b!=v.length-1&&(y+=lt.ft(v[b].Bt,v[b+1].Bt));c=new Jn;c.Ai=l,c.Ii=v,c.Ni=d,c.Si=y,f.push(c),a!=u.length-1&&(l=this.Uf(u[a]),c=this.Bf(u[a+1]),f.push(l),f.push(c))}return f},Ao:function(t){for(var n=new Map,i=0;i<t.length;i++){var r=t[i],e=n.get(r.Ai);e||n.set(r.Ai,e=[]),e.push(r)}var s,o=pr(n);try{for(o.s();!(s=o.n()).done;){var u=s.value,h=this.do.get(u[0]);h&&!this.Gf(u[1],h)||(this.Kh.get(u[0]).Ao(u[1]),this.do.set(u[0],u[1]),0)}}catch(t){o.e(t)}finally{o.f()}},Zf:function(){var t,n=pr(this.do);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.Kh.get(i[0]).Zf()}}catch(t){n.e(t)}finally{n.f()}this.do.clear()},Gf:function(t,n){if(t.length!=n.length)return!0;for(var i=0;i<t.length;i++){for(var r=!1,e=0;e<n.length;e++)n[e].Wf(t[i])&&(r=!0);if(!r)return!0}return!1},Cf:function(t){if(t&&t.In){var n=t.In;if((u=n.length)&&!(u<2)){var i=[];i.push(n[0]);var r=n[0],e=n[u-1];lt.ft(r.Bt,e.Bt),lt.H();for(var s=1;s<u-1;s++){var o=n[s];null!=r&&lt.ft(r.Bt,o.Bt)<lt.H()||null!=e&&lt.ft(e.Bt,o.Bt)<lt.H()||i.push(o)}i.push(e);for(var u=i.length,h=new Array(u),f=0;f<u;f++)h[f]=0;for(var a=1;a<u-1;a++){for(var c=i[a],l=a-1;0!=h[l];)l--;var v=i[l],d=i[a+1];lt.ht(c.Bt,v.Bt,d.Bt)&&(h[a]=1)}for(var y=[],b=0;b<u;b++)0==h[b]&&y.push(i[b]);t.In=y}}},ui:function(){this.rf=[],this.ef=[];var t,n=pr(this.Kh);try{for(n.s();!(t=n.n()).done;){var i=t.value;i[1].ui(),i[1].obstruct=this.vo}}catch(t){n.e(t)}finally{n.f()}},Vf:function(i,r){var e=this;if(this.Kh.size<=0)return null;var t=this.Kh.get(i.level);if(!t)return null;var n=t.vs;if(!n)return null;var s=[];s.push.apply(s,br(n.Gr));var o,u=pr(t.Ws);try{for(u.s();!(o=u.n()).done;){var h=o.value;s.push.apply(s,br(h[1].Gr))}}catch(t){u.e(t)}finally{u.f()}var f={},a=n.re(i),c={distance:Number.MAX_VALUE,road:null,coords:{level:i.level}},n=null;return s.length&&(s.forEach(function(t){var n;t.wr!=hi.NaviRoadEntry_FORBID&&(r?0<=r.indexOf(t.pr)&&(a!=t.dr||(n=lt.lt(i,t.ar,t.lr,f))<c.distance&&(c.distance=n,c.road=t,c.angle=e.Yf(t.ar,t.lr),Object.assign(c.coords,f))):a!=t.dr||(n=lt.lt(i,t.ar,t.lr,f))<c.distance&&(c.distance=n,c.road=t,c.angle=e.Yf(t.ar,t.lr),Object.assign(c.coords,f)))}),n=c),n},Yf:function(t,n){var i=new si(0,0,1),t=new si(t.x,0,t.y),n=new si(n.x,0,n.y).clone().sub(t).normalize(),t=n.angleTo(i)*lt.$();return 0<n.clone().cross(i).y?360-t:t},gf:function(t){this.$h=new Map,this.bf.ss(this.es);var n,i=pr(t);try{for(i.s();!(n=i.n()).done;){var r=n.value,e=r[1].gid;if(null!=e){var s=r[1].geo[0],o=r[1].biz[0],u=r[1].navi[0],h=this.bf.ls(e,s,o,u);if(0!=h.naviNodes.length&&0!=h.naviSegments.length){var f=new Map,a=this.qf(h,f),c=this.zf(h),l=this.Xf(h),v=this.Hf(h),d=this.Qf(h);this.$f(d,a,u,f);var y=new ji(a,c,!0,1);y.Ai=e,0!=v.length&&(y.Wr=v),0!=l.length&&(y.Yr=l),0!=d.length&&(y.Zr=d);for(var b=0;b<c.length;b++)c[b].dr=y.re(c[b].ar);this.$h.set(h.level,y)}}}}catch(t){i.e(t)}finally{i.f()}},qf:function(r,e){var t,s=[];for(t in r.naviNodes)(function(t){var n=r.naviNodes[t];if(null==n.nodeId)return;var i=new fi;i.kn=n.nodeId,i.Bt={x:parseFloat(n.geoArr.x.toFixed(3)),y:parseFloat(n.geoArr.y.toFixed(3))},i.Qi=n.nodeType,i.$i=n.liftType,i.Wi=n.liftFlag,i.Ji=n.liftEntry,n.linkSegArr.forEach(function(t){i.Zi.push(parseInt(t))}),n.liftFloorArr.forEach(function(t){i.Gi.push(parseInt(t))}),s.push(i),e.set(n.nodeId,t)})(t);return s},zf:function(t){var n,i=[];for(n in t.naviSegments){var r,e=t.naviSegments[n],s=e.geoArr;s&&((r=new yi).kn=e.segmentId,r.fr=e.snode,r.ar={x:parseFloat(s[0].x.toFixed(3)),y:parseFloat(s[0].y.toFixed(3))},r.cr=e.enode,r.lr={x:parseFloat(s[1].x.toFixed(3)),y:parseFloat(s[1].y.toFixed(3))},r.Si=e.length,r.wr=e.entry,r.pr=e.rank,i.push(r))}return i},Hf:function(t){for(var n=[],i=0,r=t.extentLayer.length;i<r;i++){var e=t.extentLayer[i],s=(s=e.geoArr)||[],s=new _i(e.eid,t.gid,0,s,e.Nt,e.holes);s.fid=e.fid,n.push(s)}return n},Qf:function(t){for(var n=[],i=0,r=t.modelLayer.length;i<r;i++){var e=t.modelLayer[i],s=(s=e.geoArr)||[],s=new _i(e.eid,t.gid,0,s,e.Nt,e.holes);s.fid=e.fid,s.pass=e.pass,n.push(s)}return n},Xf:function(t){for(var n=[],i=0,r=t.naviZones.length;i<r;i++){var e=t.naviZones[i],e=new pi(e.kn,t.gid,e.type,e.geoArr);n.push(e)}return n},$f:function(t,n,i,r){for(var e=new Map,s=0;s<t.length;s++){var o=t[s];e.set(o.kn,s)}for(var u=0;u<i.naviModels.length;u++)for(var h=i.naviModels[u],f=h.modelid,a=t[e.get(f)],c=0;c<h.doorids.length;c++){var l=h.doorids[c],v=n[r.get(l)];a.Dr.push(v);l=h.nodetypes[c],v=h.entrytypes[c];a.Pr.push(l),a.Fr.push(v)}},Jf:function(){if(!(this.$h.size()<=0)){var t,n={},i=pr(this.$h);try{for(i.s();!(t=i.n()).done;){var r,e=t.value[1],s=[];for(r in e.pe(hi.NaviLiftType_Escalator,s),s){var o,u=s[r];u.Wi&&(n[o=u.Wi]?n[o]=n[o].concat(u.Gi):n[o]=u.Gi)}}}catch(t){i.e(t)}finally{i.f()}var h,f=pr(this.$h);try{for(f.s();!(h=f.n()).done;){var a,c=h.value[1],l=[];for(a in c.pe(hi.NaviLiftType_Escalator,l),l){var v,d=l[a];d.Wi&&(n[v=d.Wi]&&(d.Gi=n[v]))}}}catch(t){f.e(t)}finally{f.f()}}},xf:function(){this.Kf(),this.ta();var t=new ji(this.nf,this.if);this.Jh=new Ii(t);var n,i=pr(this.$h);try{for(i.s();!(n=i.n()).done;){var r=n.value;this.Kh.set(r[0],new Yi(r[1]))}}catch(t){i.e(t)}finally{i.f()}},Kf:function(){this.nf=[];var t,n=0,i=pr(this.$h);try{for(i.s();!(t=i.n()).done;)for(var r=t.value,e=r[1],s=e.Wr,o=0;o<s.length;o++){var u=s[o],h=new Si;h.kn=n++,h.Ai=r[0],h.dr=u.kn,h.na=u;for(var f=0;f<e.Br.length;f++){var a,c,l=e.Br[f];l.$i!=hi.NaviLiftType_NULL&&lt.ut(l.Bt,u.jr,u.Er)&&(a=new di,c=e.he(l.Bt),a.ur=c,a.ir(l),a.Ai=r[0],a.hr=l,a.$i=l.$i,h.qe.push(a))}this.nf.push(h)}}catch(t){i.e(t)}finally{i.f()}},ta:function(){this.if=[];for(var t=0;t<this.nf.length;t++)for(var n=this.nf[t],i=0;i<this.nf.length;i++){var r,e,s=this.nf[i];t!=i&&(null!=(r=this.ia(n,s))&&(r*=0==(e=Math.abs(n.Ai-s.Ai))?1:e,(e=new yi).fr=n.kn,e.cr=s.kn,e.Si=r,e.wr=hi.NaviRoadEntry_FORWARD,this.if.push(e)))}},ia:function(t,n){for(var i=Number.MAX_VALUE,r=!1,e=t.Ai,s=n.Ai,o=e<s?hi.NaviLiftEntry_DOWN:hi.NaviLiftEntry_UP,u=0;u<t.qe.length;u++){var h=t.qe[u],f=h.Ji;if(f!=hi.NaviLiftEntry_FORBID&&f!=o){var a=h.$i;if(p.PRIORITY_LIFTONLY==this.Qh){if(hi.NaviLiftType_Lift!=a)continue}else if(p.PRIORITY_ESCALATORONLY==this.Qh){if(hi.NaviLiftType_Escalator!=a)continue}else if(p.PRIORITY_STAIRONLY==this.Qh){if(hi.NaviLiftType_Stair!=a)continue}else if(p.PRIORITY_ACCESSIBLEONLY==this.Qh&&hi.NaviLiftType_Accessible!=a)continue;if(a==hi.NaviLiftType_Stair||-1!=h.Gi.indexOf(s))for(var c=0;c<n.qe.length;c++){var l=n.qe[c];if(null!=l&&h.Wi==l.Wi)if(p.PRIORITY_LIFTFIRST==this.Qh||p.PRIORITY_DEFAULT==this.Qh){if(hi.NaviLiftType_Lift==a||hi.NaviLiftType_Accessible==a)return this.uf;if(hi.NaviLiftType_Escalator==a){var v=this.cf;v<i&&(i=v),r=!0;break}if(hi.NaviLiftType_Stair==a){v=this.yf;v<i&&(i=v),r=!0;break}}else if(p.PRIORITY_ESCALATORFIRST==this.Qh){if(hi.NaviLiftType_Lift==a||hi.NaviLiftType_Accessible==a){var d=this.hf;d<i&&(i=d),r=!0;break}if(hi.NaviLiftType_Escalator==a)return this.af;if(hi.NaviLiftType_Stair==a){d=this.yf;d<i&&(i=d),r=!0;break}}else if(p.PRIORITY_STAIRFIRST==this.Qh){if(hi.NaviLiftType_Lift==a){var y=this.hf;y<i&&(i=y),r=!0;break}if(hi.NaviLiftType_Escalator==a||hi.NaviLiftType_Accessible==a){y=this.ra;y<i&&(i=y),r=!0;break}if(hi.NaviLiftType_Stair==a)return this.vf}else{if(p.PRIORITY_LIFTFIRST1==this.Qh||p.PRIORITY_STAIRFIRST1==this.Qh||p.PRIORITY_ESCALATORFIRST1==this.Qh)return this.sf;if(p.PRIORITY_LIFTONLY==this.Qh||p.PRIORITY_ESCALATORONLY==this.Qh||p.PRIORITY_STAIRONLY==this.Qh||p.PRIORITY_ACCESSIBLEONLY==this.Qh)return this.sf}}}}return r?i:null},ea:function(t,n){for(var i=0;i<n.length;i++)if(n[i].Wi==t)return n[i];return null},Nf:function(t){this.Qh==t&&this.Jh||(this.Qh=t,this.ta(),t=new ji(this.nf,this.if),this.Jh=new Ii(t))},Bf:function(t){var n=t.In,i=new Jn;return i.Ai=t.Ai,i.Ii.push(n[0]),i.Ni.push(n[0].Bt),i.Si=0,i},Uf:function(t){var n=t.In,i=new Jn;return i.Ai=t.Ai,i.Ii.push(n[n.length-1]),i.Ni.push(n[n.length-1].Bt),i.Si=0,i},sa:function(t,n){for(var i=0;i<this.nf.length;i++)if(this.nf[i].Ai==t&&this.nf[i].dr==n)return this.nf[i];return null},Df:function(t,n,i,r){n=this.sa(t,n),r=this.sa(i,r),r=this.Jh.Ms(n,r);if(r!=M.ROUTE_SUCCESS)return r;var e=this.Jh.ks();this.rf=[];for(var s=0;s<e.length;s++)this.rf.push(e[s]);return r},oa:function(t,n){return t.$i==hi.NaviLiftType_Lift&&n.$i==hi.NaviLiftType_Lift?t.zi-n.zi:t.$i==hi.NaviLiftType_Lift?-1:n.$i==hi.NaviLiftType_Lift?1:t.zi-n.zi},ua:function(t,n){return t.$i==hi.NaviLiftType_Escalator&&n.$i==hi.NaviLiftType_Escalator?t.zi-n.zi:t.$i==hi.NaviLiftType_Escalator?-1:n.$i==hi.NaviLiftType_Escalator?1:t.zi-n.zi},ha:function(t,n){return t.$i==hi.NaviLiftType_Stair&&n.$i==hi.NaviLiftType_Stair?t.zi-n.zi:t.$i==hi.NaviLiftType_Stair?-1:n.$i==hi.NaviLiftType_Stair?1:t.zi-n.zi},fa:function(t,n){if(null==t)return!1;for(var i=0;i<t.length;i++)if(t[i].kn==n.kn)return!0;return!1},aa:function(t,n){if(null==t)return!1;for(var i=0;i<t.length;i++)if(t[i].Ie==n.kn)return!0;return!1},Lf:function(t,n,i){var r=this.Jh.vs.Xr;if(0==r.size)return[];var e=t.length-1,s=r.get(t[e].kn);if(null==s)return[];if(0==i)return this.aa(s,n)?(t.push(n),t):[];for(var o=[],u=0;u<s.length;u++){var h,f=s[u];this.fa(t,f)||f.Ie==n.kn||(h=t.concat(),f=this.Jh.vs.ge(f.Ie),h.push(this.Jh.vs.Br[f]),0!=(h=this.Lf(h,n,i-1)).length&&o.push(h))}return o},Pf:function(t,n,i){var r=this.Jh.vs.Xr;if(0!=r.size){for(var e=-1,s=0;s<i.length;s++)i[s].indexOf(t)==i[s].length-1&&(e=s);if(-1!=e){var o=i[e];i.splice(e,1);var u=r.get(t.kn);if(null!=u)for(var h=0;h<u.length;h++){var f,a=this.nf[u[h].Ie];this.fa(o,a)||((f=[]).push.apply(f,br(o)),f.push(a),i.push(f),a.kn!=n.kn&&this.Pf(a,n,i))}}}},ca:function(t,n,i){for(var r=t.qe,e=i.qe,s=0;s<r.length;s++){var o=r[s];o.zi=lt.distanceOfTwoPoints(o.Bt,n)}p.PRIORITY_DEFAULT==this.Qh||p.PRIORITY_LIFTONLY==this.Qh||p.PRIORITY_LIFTONLY==this.Qh?r.sort(this.oa):p.PRIORITY_ESCALATORFIRST==this.Qh||p.PRIORITY_ESCALATORONLY==this.Qh?r.sort(this.ua):p.PRIORITY_STAIRFIRST!=this.Qh&&p.PRIORITY_STAIRONLY!=this.Qh||r.sort(this.oa);for(var u=null,h=null,f=!1,a=0;a<r.length;a++){for(var c=r[a],l=c.Wi,v=0;v<e.length;v++)if(e[v].Wi==l){u=c,h=e[v],f=!0;break}if(f)break}return null==u||null==h?null:{startLiftNodes:u,endLiftNodes:h}},la:function(t,n,i,r,e){this.Hh=this.Kh.get(t.Ai).vs.he(i);for(var s=t.queryLiftNodes(this.Hh,i,this.lr,this.Qh),o=0;o<s.length;o++){var u=s[o];if(hi.NaviLiftType_Stair!=u.$i)if(-1==u.Gi.indexOf(n.Ai))continue;for(var h=0;h<n.qe.length;h++){var f=n.qe[h];if(u.Wi==f.Wi){r.push(u),e.push(f);break}}}return 0==r.length},If:function(i,t,n,r,e){this.Hh=this.Kh.get(i.Ai).vs.he(n);var s=[];function o(t,n){n=i.He(t,n);s.push.apply(s,br(n))}for(var u=i.qe,h=0;h<u.length;h++){var f=u[h];f.zi=lt.ft(f.Bt,this.lr)+lt.ft(f.Bt,n)}var a=i.na.Dt.size,c=a.x+a.y;p.PRIORITY_LIFTONLY!=this.Qh&&p.PRIORITY_ESCALATORONLY!=this.Qh&&p.PRIORITY_STAIRONLY!=this.Qh&&p.PRIORITY_ACCESSIBLEONLY!=this.Qh||(a=null,p.PRIORITY_LIFTONLY==this.Qh&&(a=hi.NaviLiftType_Lift),p.PRIORITY_ESCALATORONLY==this.Qh&&(a=hi.NaviLiftType_Escalator),p.PRIORITY_STAIRONLY==this.Qh&&(a=hi.NaviLiftType_Stair),p.PRIORITY_ACCESSIBLEONLY==this.Qh&&(a=hi.NaviLiftType_Accessible),s=i.He(a)),p.PRIORITY_LIFTFIRST!=this.Qh&&p.PRIORITY_ESCALATORFIRST!=this.Qh&&p.PRIORITY_STAIRFIRST!=this.Qh&&p.PRIORITY_DEFAULT!=this.Qh||(p.PRIORITY_LIFTFIRST!=this.Qh&&p.PRIORITY_DEFAULT!=this.Qh||(o(hi.NaviLiftType_Lift,-15),o(hi.NaviLiftType_Escalator,-8),o(hi.NaviLiftType_Stair,0)),p.PRIORITY_ESCALATORFIRST==this.Qh&&(o(hi.NaviLiftType_Lift,-8),o(hi.NaviLiftType_Escalator,-15),o(hi.NaviLiftType_Stair,0)),p.PRIORITY_STAIRFIRST==this.Qh&&(o(hi.NaviLiftType_Lift,-8),o(hi.NaviLiftType_Escalator,0),o(hi.NaviLiftType_Stair,-15))),p.PRIORITY_LIFTFIRST1!=this.Qh&&p.PRIORITY_ESCALATORFIRST1!=this.Qh&&p.PRIORITY_STAIRFIRST1!=this.Qh||(p.PRIORITY_LIFTFIRST1==this.Qh&&(o(hi.NaviLiftType_Lift,-c),o(hi.NaviLiftType_Escalator,0),o(hi.NaviLiftType_Stair,0)),p.PRIORITY_ESCALATORFIRST1==this.Qh&&(o(hi.NaviLiftType_Lift,0),o(hi.NaviLiftType_Escalator,-c),o(hi.NaviLiftType_Stair,0)),p.PRIORITY_STAIRFIRST1==this.Qh&&(o(hi.NaviLiftType_Lift,0),o(hi.NaviLiftType_Escalator,0),o(hi.NaviLiftType_Stair,-c)));var l=this;s.sort(function(t,n){if(t.zone!=n.zone){if(t.zone==l.Hh)return-1;if(n.zone==l.Hh)return 1}return t.zi-n.zi});for(var v=0;v<s.length;v++){var d=s[v];if(!(1==d.Ji&&t.Ai<i.Ai)&&!(2==d.Ji&&t.Ai>i.Ai))for(var y=0;y<t.qe.length;y++){var b=t.qe[y];if(d.Wi==b.Wi){r.push(d),e.push(b);break}}}return 0!=r.length}});var gr=f,xr={zh:{straight:"",still_go_straight:"",back_to:"",turn_right:"",turn_left:"",right_front:" ",left_front:" ",turn_right_rear:"",turn_left_rear:"",up:"",down:"",up_to:"",down_to:"",meter:"",pass:"",arrived:"",front:"",stair:"",stair_pure:"",escalator_pure:"",lift_pure:"",take:"",take_stair:"",front_pure:"",right_front_pure:"",right_pure:"",right_back_pure:"",back_pure:"",left_back_pure:"",left_pure:"",left_front_pure:"",east:"",west:"",south:"",north:"",southeast:"",northeast:"",southwest:"",northwest:"",face_to:"",start:"",dest:""},en:{straight:"go straight",still_go_straight:"go straight",back_to:"turn back",turn_right:"turn right",turn_left:"turn left",right_front:"go straight right front ",left_front:"go straight left front ",turn_right_rear:"turn right rear",turn_left_rear:"turn left rear",up:"up",down:"up",up_to:"up to",down_to:"down to",meter:"meter",pass:"pass",arrived:"arrived",front:"front",stair:"stair",stair_pure:"stair",escalator_pure:"escalator",lift_pure:"lift",take:"take",take_stair:"take stair",front_pure:"front",right_front_pure:"right front",right_pure:"right",right_back_pure:"right back",back_pure:"back",left_back_pure:"left back",left_pure:"left",left_front_pure:"left front",east:"east",west:"west",south:"south",north:"north",southeast:"southeast",northeast:"northeast",southwest:"southwest",northwest:"northwest",face_to:"face to",start:"start",dest:"dest"}};x=function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.va=n.data||null,this.da=n.directionAssert||10,this.ya=n.combineAsset||5,this.ba=n.language||o.ZH,this.pa=0,this.wa=[],this._a=["north","northeast","east","southeast","south","southwest","west","northwest","north"],this.ma=["front_pure","right_front_pure","right_pure","right_back_pure","back_pure","left_back_pure","left_pure","left_front_pure","front_pure"],this.ga=["still_go_straight","right_front","turn_right","turn_right_rear","back_to","turn_left_rear","turn_left","left_front","still_go_straight"],this.xa=!1,this.Oa=0,Object.assign(this,n)};Object.assign(x.prototype,{yn:function(){},V:function(t){return this.ja(t)},Ea:function(t){for(var n=[],i=0;i<t.length;i++)n=n.concat(t[i].Ii);return n},Ta:function(t,n){var i=Math.PI/4,r=t/i,t=parseInt(r),r=r%1*i;return t%2==0?n<r&&(t+=1):i-n<=r&&(t+=1),t},Ma:function(t,n){var i=n.angleTo(t);return i=new si(n.x,n.z,n.y).cross(new si(t.x,t.z,t.y)).z<0?2*Math.PI-i:i},ka:function(t,n){if(n==t.length-1)return{index:t[t.length-1].index};var i=new si(0,0,1),r=i;0!=n&&((r=t[n].clone().sub(t[n-1]).normalize()).y=0,r.z*=-1);var e=t[n+1].clone().sub(t[n]);e.y=0;var s=e.length(),e=e.normalize();e.z*=-1;i=this.Ta(this.Ma(i,e),22.5*lt.Q()),r=this.Ma(r,e),e=this.Ta(r,this.da*lt.Q());return{relField:e,relDesc:this.Ra(this.ma[e]),relAngle:r*lt.$(),absField:i,absDesc:this.Ra(this._a[i]),distance:s,index:t[n].index}},fi:function(){var t={center:{x:0,y:0,z:0}};return this.va&&(t.center.x=this.va.scene.defCenX,t.center.y=this.va.scene.defCenY,t.center.z=this.va.scene.defCenZ),t},di:function(t){var n={level:t,height:0,gname:"",desc:""};if(this.va)for(var i=this.va.scene,r=0;r<i.layerGroups.length;r++){var e=i.layerGroups[r];if(e.gid==t){n.height=e.height,n.gname=e.gname,n.desc=e.desc;break}}return n},Aa:function(t,n){var i=0;return n.level&&(i=this.di(n.level).height),new si(n.x-t.x,t.y+i,-n.y+t.y)},Sa:function(t,n){for(var i=this,r=this.fi().center,e=t.map(function(t,n){t=i.Aa(r,t);return t.index=n,t}),s=[],o=0;o<e.length;o++){var u=this.ka(e,o);u.point=t[o],u.level=n,s.push(u)}for(var h=[s[0]],f=1;f<s.length;f++)s[f].relAngle<=this.ya||360-s[f].relAngle<=this.ya?h[h.length-1].distance+=s[f].distance:h.push(s[f]);return h},Na:function(t,n){var i=[],r=0;if(n.forEach(function(t){t.Eh&&i.push(r),r++}),0!=i.length)for(;0!=i.length;){for(var e=0;e<t.length-1;e++)if(t[e].index<=i[0]&&t[e+1].index>=i[0]){t[e+1].Eh=!0;break}i.splice(0,1)}},Ia:function(t){var n="",t=this.di(t);return null!=t&&(""+(n=this.ba==o.ZH?t.desc:t.gname.toUpperCase())!="null"&&""+n!=""&&""+n!="undefined"||(n=t.gname.toUpperCase())),n},La:function(t,n,i,r,e){var s=t[n],o=t[n+1],u=this.Ra(this.ga[o.relField]);this.xa=n==t.length-3&&o.distance<this.pa,u&&!this.xa||(r?(this.xa=!1,u||(e=this.Da(t[n+1].point,i,e),i=i<r?this.Ra("up_to"):this.Ra("down_to"),h=this.Ia(r),u=this.Ra("take")+e+" "+i+" "+h)):(this.xa&&(this.Oa=o.distance),u=this.Ra("arrived")));var h=null,h=0==n?2==t.length?this.Ra("face_to")+" "+s.absDesc+" "+this.Ra("straight")+" "+Math.ceil(s.distance)+" "+this.Ra("meter")+" "+u:this.Ra("face_to")+" "+s.absDesc+" "+this.Ra("straight")+" "+Math.ceil(s.distance)+" "+this.Ra("meter")+" "+this.Ra(this.ga[t[n+1].relField]):this.Ra("straight")+" "+Math.ceil(s.distance+(this.xa&&!r?o.distance:0))+" "+this.Ra("meter")+" "+u;return o.Eh&&(h+=" ",h+=this.Ra("pass")),h},Pa:function(t,n,i,r){var e=t[n],s=t[n+1];return this.Ra(this.ga[t[n+1].relField])&&!this.xa||(r?(i=i<r?this.Ra("up"):this.Ra("down"),s.relDesc=i):s.relDesc=this.Ra("dest")),{startPoint:e.point,startLevel:e.level,startIndex:e.index,endPoint:s.point,endLevel:s.level,endIndex:s.index,startDirection:e.absDesc,endDirection:s.relDesc,distance:e.distance+(this.xa&&!r?s.distance:0)}},Da:function(t,n,i){t.z=this.di(n).height;for(var r,e=Number.MAX_SAFE_INTEGER,s=-1,o=0;o<i.length;o++)i[o]&&((r=Math.pow(i[o].Bt.x-t.x,2)+Math.pow(i[o].Bt.y-t.y,2))<e&&(e=r,s=i[o].$i));if(-1!=s)switch(s){case 2:return" "+this.Ra("stair_pure");case 3:return" "+this.Ra("escalator_pure");case 1:return" "+this.Ra("lift_pure");default:return""}return this.Ra("stair")},Ra:function(t){t=xr[this.ba][t];return t||""},ja:function(t){for(var n,i,r=[],e=[],s=null,o=0,u=[],h=!(this.wa=[]),f=null,a=null,c=this.Ea(t),l=0;l<t.length;l++){if(n=(i=t[l]).level,s=null,l<t.length-1)for(var v=l;v<t.length;v++)if(t[v].level!=n){s=t[v].level;break}var d,y,b=i.pointList,p=this.Sa(b,n);if(this.Na(p,i.Ii),1<p.length&&(this.wa=this.wa.concat(p)),1==p.length)(s||h)&&(h?e.length&&(l==t.length-1&&(r[r.length-1]+=" "+this.Ra("arrived"),e[e.length-1].endDirection=this.Ra("dest")),e[e.length-1].endPoint=b[0],e[e.length-1].endLevel=n):f!=n&&null!=f||(d=n<s?this.Ra("up_to"):this.Ra("down_to"),y=this.Ia(s),a=this.Ra("take_stair")+" "+d+" "+y,r.push(a),e.push({startPoint:b[0],startDirection:n<s?this.Ra("up"):this.Ra("down"),startLevel:n})),h=!h);else for(var f=n,w=0;w<p.length-1&&!this.xa;w++)r.push(this.La(p,w,n,s,c)),e.push(this.Pa(p,w,n,s));1<p.length&&(y=p.reduce(function(t,n){return t+(n.distance||0)},0),u.push({level:n,distance:y}),o+=y)}return[r,e,o,u,this.Oa]}});var Or=x;function jr(t){return function(t){if(Array.isArray(t))return Er(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return Er(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(i="Object"===i&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Er(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Er(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=new Array(n);i<n;i++)r[i]=t[i];return r}function Tr(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}f=function(){function r(t,n,i){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r),this.Yt=Object.assign({tile:!0,isPreview:!1},t),this.Fa=null,this.Ca=[],this.Ua=[],this.Ba=null,this._i=!!t.map,this.mi=t.map?t.map.getDataManager():new zn,this.gi=n,this.xi=i,this.Oi()}var t,n,i;return t=r,(n=[{key:"setObstructions",value:function(t){this.Fa&&this.Fa.Ao(t)}},{key:"route",value:function(t,n,i){this.Fa.toDoors=void 0!==t.toDoors&&t.toDoors,this.Fa.obstruct=void 0===t.obstruct||t.obstruct;var r=M.ROUTE_FAILED_CANNOT_ARRIVE;(r=t.viapoints&&0<t.viapoints.length?(this.Fa.Uh=t.viapoints,this.Fa.Of(t.start,t.dest)):this.Fa.Hu(t.start.level,t.start,t.dest.level,t.dest,t.mode||s.MODULE_SHORTEST,t.priority||p.PRIORITY_DEFAULT))==M.ROUTE_SUCCESS?(this.Ca=this.Fa.Ff(),this.Ua=[this.Ga(this.Ca,{language:o.ZH}),this.Ga(this.Ca,{language:o.EN})],this.Ba=this.Fa._f,n&&n(this.Mi())):i&&i(r)}},{key:"dispose",value:function(){this.Za=null,this.Ca=[],this.Ua=[],this.Fa&&(this.Fa.yn(),this.Fa=null)}},{key:"pathConstraint",value:function(t,n){return this.Fa?this.Fa.Vf(t,n):null}},{key:"getNaviGraph",value:function(t){return this.Fa.$h.get(t)}}])&&Tr(t.prototype,n),i&&Tr(t,i),r}();Object.assign(f.prototype,{Oi:function(){var t,i=this;this._i&&(t=this.Yt.map.getMapOptions(),this.Yt.mapID=t.mapID,this.Yt.appName=t.appName,this.Yt.key=t.key,this.Yt.license=t.license,this.Yt.mapURL=t.mapURL,this.Yt.mapURLAbsolute=t.mapURLAbsolute,this.Yt.isPreview="undefined"!=typeof KjWzhWlSj);var n={buildingID:this.Yt.mapID,appName:this.Yt.appName,key:this.Yt.key,license:this.Yt.license,mapURL:this.Yt.mapURL,mapURLAbsolute:this.Yt.mapURLAbsolute,merge:this.Yt.merge,loadNavi:!0,justDecode:!0,preLoad:!0,isPreview:"undefined"!=typeof KjWzhWlSj};setTimeout(function(){i.Yt.tile?i.mi.load(n,function(t,n){i.Ri(t,n)}):i.mi.loadWhole(n,function(t,n){i.Ri(t,n)})},0)},Ri:function(t,n){"error"==t&&this.xi&&this.xi(n),"decode"==t&&(this.Fa=new gr(this.Yt),this.Fa.Oi(n),this.gi&&this.gi())},Mi:function(){if(0==this.Ca.length||0==this.Ua.length)return null;for(var t={viapoints:[],subs:[],levels:[],distance:0},n=this.Ua[0].descriptions,i=this.Ua[0].descriptionsData,r=this.Ua[1].descriptions,e=this.Ua[1].descriptionsData,s=[],o=!1,u=[],h=0;h<i.length;h++){var f={instruction:{zh:null,en:null},waypoint:{points:null,direction:{zh:null,en:null}},viapoint:null,levels:null,distance:Number.NaN},a=n[h],c=i[h],l=r[h],v=e[h];f.instruction.zh=a,f.instruction.en=l,f.levels=[c.startLevel,c.endLevel],f.distance=void 0!==c.distance?c.distance:0,f.waypoint.direction.zh=[c.startDirection,c.endDirection||c.startDirection],f.waypoint.direction.en=[v.startDirection,v.endDirection||v.startDirection],f.levels[0]!=f.levels[1]?(o=!0,s.push.apply(s,jr(f.levels))):0!=s.length&&s.slice(-1)[0]==f.levels[0]&&!o||(s.push(f.levels[0]),o=!1);c=this.Wa([c.startIndex,c.endIndex],s);f.waypoint.points=c.points,c.via&&-1==u.indexOf(c.via)&&(f.viapoint=Object.assign({},c.via.Bt),t.viapoints.push(Object.assign({},c.via.Bt)),u.push(c.via)),t.distance+=f.distance,t.subs.push(f)}for(var d=0;d<s.length;d++)0!=t.levels.length&&t.levels.slice(-1)[0]==s[d]||t.levels.push(s[d]);return t},Wa:function(t,n){for(var i=[],r=[],e=null,s=[],o=0;o<this.Ca.length;o++){var u=this.Ca[o];if(s.push(u.Ai),n.toString()==s.toString()){var h=n[n.length-1],f=u.Ni,a=u.Ii;if(void 0===t[0]||void 0===t[1])i.push(Object.assign({level:u.Ai},u.Ni[0])),r.push(u.Ii[0]),u=this.Ca[o-1],i.unshift(Object.assign({level:u.Ai},u.Ni[0])),r.unshift(u.Ii[0]);else for(var c=t[0];c<=t[1];c++)i.push({x:f[c].x,y:f[c].y,level:h}),r.push(a[c]);break}}return r.forEach(function(t){t.Eh&&(e=t)}),{points:i,via:e}},Ga:function(t,n){if(!this.Va(t))return{};t=new Or(Object.assign({data:this.mi.getDecode(this.Yt),directionAssert:10,combineAsset:10,language:o.ZH},n)).V(t);return{descriptions:t[0],descriptionsData:t[1],distance:t[2],distances:t[3]}},Ya:function(t){this.Fa.mf=t,this.Fa.jo(),this.Ca=this.Fa.Ff()},qa:function(){return this.Ca},za:function(t){var n=t||this.Ca;if(!this.Va(n))return[];var i,r=[];for(i in n)n[i].getPointList&&r.push.apply(r,jr(n[i].pointList));return r},Xa:function(t){var n=t||this.Ca;if(!this.Va(n))return[];for(var i=[],r=0;r<n.length;r++){for(var e=n[r],s=e.level,o=e.pointList,u={level:s,points:[]},h=0;h<o.length;h++)u.points.push(Object.assign({},o[h]));i.push(u)}return i},Ha:function(t){t=t||this.Ca;if(!this.Va(t))return 0;var n=this.za(t);if(0==n.length)return 0;for(var i=0,r=0;r<n.length-1;r++)i+=lt.ft(n[r],n[r+1]);return i},Qa:function(t){var n=t||this.Ca;if(!this.Va(n))return[];var i,r=[];for(i in n)!n[i].level||0!=i&&r[r.length-1]==n[i].level||r.push(n[i].level);return r},$a:function(t,n){var i=n||this.Ca;if(!this.Va(i))return[];var r,e=[];for(r in i)i[r].level&&i[r].level==t&&(e=e.concat(i[r].pointList));return e},Va:function(t){if(!Array.isArray(t))return!1;if(0==t.length)return!1;for(var n=0;n<t.length;n++)if(!(t[n]instanceof Jn))return!1;return!0}});x=f;function Mr(t){return function(t){if(Array.isArray(t))return kr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return kr(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(i="Object"===i&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?kr(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kr(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=new Array(n);i<n;i++)r[i]=t[i];return r}f=function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.Ai=void 0!==n.level?n.level:null,this.jr=void 0!==n.points?n.points:null,this.Ja=-1,this.Dt=null,this.Oi()};Object.assign(f.prototype,{Oi:function(){this.jr&&(this.Dt=new dt,this.Dt.St(this.jr),this.Ja=this.jr.length,this.jr[0].x==this.jr[this.Ja-1].x&&this.jr[0].y==this.jr[this.Ja-1].y?this.Ja--:this.jr.push(this.jr[0]))},vu:function(t,n){return lt.it(t,n,this.Dt.Mt,this.Dt.kt)},Ce:function(t){return!!lt.et(t,this.Dt.min,this.Dt.max)&&lt.ut(t,this.jr,this.Ja)},Ka:function(t){var n=0;return this.Ce(t[0])&&(n|=1),this.Ce(t[1])&&(n|=2),n},Fe:function(t,n){if(!lt.it(t[0],t[1],this.Dt.min,this.Dt.max))return!1;for(var i,r,e=!1,s=0;s<this.Ja;s++){var o={};1==lt.bt(t[0],t[1],this.jr[s],this.jr[s+1],o)&&(e=!0,n.push(o))}return t[0].x!=t[1].x?(i=t[0].x<t[1].x,n.sort(function(t,n){return i?t.x-n.x:n.x-t.x})):(r=t[0].y<t[1].y,n.sort(function(t,n){return r?t.y-n.y:n.y-t.y})),e},tc:function(t,n){var i=[];i.push(t[0]),i.push.apply(i,Mr(n)),i.push(t[1]);for(var r=[],e=0;e<i.length-1;e++)r.push([i[e],i[e+1]]);return r},Wf:function(t){if(this.Ai!=t.Ai)return!1;if(this.jr.length!=t.jr.length)return!1;for(var n=0;n<this.jr.length;n++){if(this.jr[n].x!=t.jr[n].x)return!1;if(this.jr[n].y!=t.jr[n].y)return!1}return!0}});var Rr,f=f,i=i(28),Ar={VERSION:u,BUILD:h,XMLHttpRequest:i.a,FMType:e,FMNaviMode:s,FMNaviPriority:p,FMRouteResult:M,FMLanguageType:o,FMSearchRequest:y,FMSearchAnalyser:r,FMNaviAnalyser:x,FMNaviObstruction:f},f=Gt.a.global(),Sr=void 0!==f?f.fengmap:{};for(Rr in void 0===Sr&&(Sr={}),Ar)Sr[Rr]=Ar[Rr];void 0!==f&&(f.fengmap=Sr);n.default=Sr}],f={},g.m=d,g.c=f,g.d=function(t,n,i){g.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},g.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"nc",{value:!0})},g.t=function(n,t){if(1&t&&(n=g(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.nc)return n;var i=Object.create(null);if(g.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var r in n)g.d(i,r,function(t){return n[t]}.bind(null,r));return i},g.n=function(t){var n=t&&t.nc?function(){return t.default}:function(){return t};return g.d(n,"a",n),n},g.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},g.p="",g(g.s=50).default;function g(t){if(f[t])return f[t].exports;var n=f[t]={i:t,l:!1,exports:{}};return d[t].call(n.exports,n,n.exports,g),n.l=!0,n.exports}var d,f});